var _A=Object.defineProperty,wA=Object.defineProperties;var EA=Object.getOwnPropertyDescriptors;var Hc=Object.getOwnPropertySymbols,IA=Object.getPrototypeOf,W_=Object.prototype.hasOwnProperty,K_=Object.prototype.propertyIsEnumerable,CA=Reflect.get;var G_=(n,e,t)=>e in n?_A(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})W_.call(e,t)&&G_(n,t,e[t]);if(Hc)for(var t of Hc(e))K_.call(e,t)&&G_(n,t,e[t]);return n},Oe=(n,e)=>wA(n,EA(e));var Q_=(n,e)=>{var t={};for(var r in n)W_.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Hc)for(var r of Hc(n))e.indexOf(r)<0&&K_.call(n,r)&&(t[r]=n[r]);return t};var yr=(n,e,t)=>CA(IA(n),t,e);var D=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{a(t.next(u))}catch(l){i(l)}},o=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((t=t.apply(n,e)).next())});var Y_=null;var ef=1,J_=Symbol("SIGNAL");function ye(n){let e=Y_;return Y_=n,e}var Z_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function DA(n){if(!(rf(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ef)){if(!n.producerMustRecompute(n)&&!tf(n)){n.dirty=!1,n.lastCleanEpoch=ef;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ef}}function X_(n){return n&&(n.nextProducerIndex=0),ye(n)}function ew(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(rf(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)nf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function tf(n){zc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(DA(t),r!==t.version))return!0}return!1}function tw(n){if(zc(n),rf(n))for(let e=0;e<n.producerNode.length;e++)nf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function nf(n,e){if(TA(n),zc(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)nf(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];zc(i),i.producerIndexOfThis[r]=e}}function rf(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function zc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function TA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function bA(){throw new Error}var SA=bA;function nw(n){SA=n}function Q(n){return typeof n=="function"}function os(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var qc=os(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ri(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ge=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(s){e=s instanceof qc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{rw(s)}catch(o){e=e??[],o instanceof qc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new qc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)rw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ri(t,e)}remove(e){let{_finalizers:t}=this;t&&ri(t,e),e instanceof n&&e._removeParent(this)}};Ge.EMPTY=(()=>{let n=new Ge;return n.closed=!0,n})();var sf=Ge.EMPTY;function Gc(n){return n instanceof Ge||n&&"closed"in n&&Q(n.remove)&&Q(n.add)&&Q(n.unsubscribe)}function rw(n){Q(n)?n():n.unsubscribe()}var en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var as={setTimeout(n,e,...t){let{delegate:r}=as;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=as;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Wc(n){as.setTimeout(()=>{let{onUnhandledError:e}=en;if(e)e(n);else throw n})}function ii(){}var iw=of("C",void 0,void 0);function sw(n){return of("E",void 0,n)}function ow(n){return of("N",n,void 0)}function of(n,e,t){return{kind:n,value:e,error:t}}var si=null;function cs(n){if(en.useDeprecatedSynchronousErrorHandling){let e=!si;if(e&&(si={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=si;if(si=null,t)throw r}}else n()}function aw(n){en.useDeprecatedSynchronousErrorHandling&&si&&(si.errorThrown=!0,si.error=n)}var oi=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gc(e)&&e.add(this)):this.destination=MA}static create(e,t,r){return new us(e,t,r)}next(e){this.isStopped?cf(ow(e),this):this._next(e)}error(e){this.isStopped?cf(sw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cf(iw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},AA=Function.prototype.bind;function af(n,e){return AA.call(n,e)}var uf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Kc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Kc(r)}else Kc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Kc(t)}}},us=class extends oi{constructor(e,t,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&en.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&af(e.next,s),error:e.error&&af(e.error,s),complete:e.complete&&af(e.complete,s)}):i=e}this.destination=new uf(i)}};function Kc(n){en.useDeprecatedSynchronousErrorHandling?aw(n):Wc(n)}function RA(n){throw n}function cf(n,e){let{onStoppedNotification:t}=en;t&&as.setTimeout(()=>t(n,e))}var MA={closed:!0,next:ii,error:RA,complete:ii};var ls=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(n){return n}function Qc(...n){return lf(n)}function lf(n){return n.length===0?kt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=PA(t)?t:new us(t,r,i);return cs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=cw(r),new r((i,s)=>{let o=new us({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ls](){return this}pipe(...t){return lf(t)(this)}toPromise(t){return t=cw(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function cw(n){var e;return(e=n??en.Promise)!==null&&e!==void 0?e:Promise}function NA(n){return n&&Q(n.next)&&Q(n.error)&&Q(n.complete)}function PA(n){return n&&n instanceof oi||NA(n)&&Gc(n)}function df(n){return Q(n?.lift)}function ce(n){return e=>{if(df(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new hf(n,e,t,r,i)}var hf=class extends oi{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ds(){return ce((n,e)=>{let t=null;n._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var hs=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,df(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return ds()(this)}};var uw=os(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Yc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new uw}next(t){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?sf:(this.currentObservers=null,s.push(t),new Ge(()=>{this.currentObservers=null,ri(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new Yc(e,t),n})(),Yc=class extends Ce{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:sf}};var ot=class extends Ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ff={now(){return(ff.delegate||Date).now()},delegate:void 0};var Jc=class extends Ge{constructor(e,t){super()}schedule(e,t=0){return this}};var Uo={setInterval(n,e,...t){let{delegate:r}=Uo;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Uo;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var fs=class extends Jc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Uo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Uo.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ri(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ps=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ps.now=ff.now;var gs=class extends ps{constructor(e,t=ps.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ms=new gs(fs),pf=ms;var Zc=class extends fs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Xc=class extends gs{};var gf=new Xc(Zc);var It=new ue(n=>n.complete());function eu(n){return n&&Q(n.schedule)}function mf(n){return n[n.length-1]}function lw(n){return Q(mf(n))?n.pop():void 0}function yn(n){return eu(mf(n))?n.pop():void 0}function dw(n,e){return typeof mf(n)=="number"?n.pop():e}function yf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function fw(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function hw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ai(n){return this instanceof ai?(this.v=n,this):new ai(n)}function pw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(A){return new Promise(function(M,N){s.push([y,A,M,N])>1||u(y,A)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(A){m(s[0][3],A)}}function l(y){y.value instanceof ai?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function gw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof hw=="function"?hw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){o=n[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var ys=n=>n&&typeof n.length=="number"&&typeof n!="function";function tu(n){return Q(n?.then)}function nu(n){return Q(n[ls])}function ru(n){return Symbol.asyncIterator&&Q(n?.[Symbol.asyncIterator])}function iu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var su=xA();function ou(n){return Q(n?.[su])}function au(n){return pw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ai(t.read());if(i)return yield ai(void 0);yield yield ai(r)}}finally{t.releaseLock()}})}function cu(n){return Q(n?.getReader)}function ke(n){if(n instanceof ue)return n;if(n!=null){if(nu(n))return OA(n);if(ys(n))return kA(n);if(tu(n))return FA(n);if(ru(n))return mw(n);if(ou(n))return LA(n);if(cu(n))return VA(n)}throw iu(n)}function OA(n){return new ue(e=>{let t=n[ls]();if(Q(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kA(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function FA(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Wc)})}function LA(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function mw(n){return new ue(e=>{UA(n,e).catch(t=>e.error(t))})}function VA(n){return mw(au(n))}function UA(n,e){var t,r,i,s;return fw(this,void 0,void 0,function*(){try{for(t=gw(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function At(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function vr(n,e=0){return ce((t,r)=>{t.subscribe(ge(r,i=>At(r,n,()=>r.next(i),e),()=>At(r,n,()=>r.complete(),e),i=>At(r,n,()=>r.error(i),e)))})}function _r(n,e=0){return ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function yw(n,e){return ke(n).pipe(_r(e),vr(e))}function vw(n,e){return ke(n).pipe(_r(e),vr(e))}function _w(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ww(n,e){return new ue(t=>{let r;return At(t,e,()=>{r=n[su](),At(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function uu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{At(t,e,()=>{let r=n[Symbol.asyncIterator]();At(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ew(n,e){return uu(au(n),e)}function Iw(n,e){if(n!=null){if(nu(n))return yw(n,e);if(ys(n))return _w(n,e);if(tu(n))return vw(n,e);if(ru(n))return uu(n,e);if(ou(n))return ww(n,e);if(cu(n))return Ew(n,e)}throw iu(n)}function Fe(n,e){return e?Iw(n,e):ke(n)}function J(...n){let e=yn(n);return Fe(n,e)}function vs(n,e){let t=Q(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function vf(n){return!!n&&(n instanceof ue||Q(n.lift)&&Q(n.subscribe))}var Hn=os(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Cw(n){return n instanceof Date&&!isNaN(n)}function ne(n,e){return ce((t,r)=>{let i=0;t.subscribe(ge(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:jA}=Array;function $A(n,e){return jA(e)?n(...e):n(e)}function lu(n){return ne(e=>$A(n,e))}var{isArray:BA}=Array,{getPrototypeOf:HA,prototype:zA,keys:qA}=Object;function Dw(n){if(n.length===1){let e=n[0];if(BA(e))return{args:e,keys:null};if(GA(e)){let t=qA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function GA(n){return n&&typeof n=="object"&&HA(n)===zA}function Tw(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function du(...n){let e=yn(n),t=lw(n),{args:r,keys:i}=Dw(n);if(r.length===0)return Fe([],e);let s=new ue(WA(r,e,i?o=>Tw(i,o):kt));return t?s.pipe(lu(t)):s}function WA(n,e,t=kt){return r=>{bw(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)bw(e,()=>{let l=Fe(n[u],e),h=!1;l.subscribe(ge(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function bw(n,e,t){n?At(t,n,e):e()}function Sw(n,e,t,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=A=>l<r?C(A):u.push(A),C=A=>{s&&e.next(A),l++;let M=!1;ke(t(A,h++)).subscribe(ge(e,N=>{i?.(N),s?y(N):e.next(N)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let N=u.shift();o?At(e,o,()=>C(N)):C(N)}m()}catch(N){e.error(N)}}))};return n.subscribe(ge(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ve(n,e,t=1/0){return Q(e)?Ve((r,i)=>ne((s,o)=>e(r,s,i,o))(ke(n(r,i))),t):(typeof e=="number"&&(t=e),ce((r,i)=>Sw(r,i,n,t)))}function jo(n=1/0){return Ve(kt,n)}function Aw(){return jo(1)}function wr(...n){return Aw()(Fe(n,yn(n)))}function hu(n){return new ue(e=>{ke(n()).subscribe(e)})}var KA=["addListener","removeListener"],QA=["addEventListener","removeEventListener"],YA=["on","off"];function $o(n,e,t,r){if(Q(t)&&(r=t,t=void 0),r)return $o(n,e,t).pipe(lu(r));let[i,s]=XA(n)?QA.map(o=>a=>n[o](e,a,t)):JA(n)?KA.map(Rw(n,e)):ZA(n)?YA.map(Rw(n,e)):[];if(!i&&ys(n))return Ve(o=>$o(o,e,t))(ke(n));if(!i)throw new TypeError("Invalid event target");return new ue(o=>{let a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function Rw(n,e){return t=>r=>n[t](e,r)}function JA(n){return Q(n.addListener)&&Q(n.removeListener)}function ZA(n){return Q(n.on)&&Q(n.off)}function XA(n){return Q(n.addEventListener)&&Q(n.removeEventListener)}function Mw(n=0,e,t=pf){let r=-1;return e!=null&&(eu(e)?t=e:r=e),new ue(i=>{let s=Cw(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function tn(...n){let e=yn(n),t=dw(n,1/0),r=n;return r.length?r.length===1?ke(r[0]):jo(t)(Fe(r,e)):It}function He(n,e){return ce((t,r)=>{let i=0;t.subscribe(ge(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Er(n){return ce((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ge(t,void 0,void 0,o=>{s=ke(n(o,Er(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function fu(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(ge(o,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Nw(n,e){return ce(fu(n,e,arguments.length>=2,!1,!0))}var eR=(n,e)=>(n.push(e),n);function _f(){return ce((n,e)=>{Nw(eR,[])(n).subscribe(e)})}function _s(n,e){return Q(e)?Ve(n,e,1):Ve(n,1)}function Ir(n){return ce((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function nt(n){return n<=0?()=>It:ce((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Pw(){return ce((n,e)=>{n.subscribe(ge(e,ii))})}function Bo(n){return ne(()=>n)}function wf(n,e){return e?t=>wr(e.pipe(nt(1),Pw()),t.pipe(wf(n))):Ve((t,r)=>ke(n(t,r)).pipe(nt(1),Bo(t)))}function Ef(n,e=ms){let t=Mw(n,e);return wf(()=>t)}function pu(n=tR){return ce((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function tR(){return new Hn}function Ho(n){return ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Rt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?He((i,s)=>n(i,s,r)):kt,nt(1),t?Ir(e):pu(()=>new Hn))}function ws(n){return n<=0?()=>It:ce((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function If(n,e){let t=arguments.length>=2;return r=>r.pipe(n?He((i,s)=>n(i,s,r)):kt,ws(1),t?Ir(e):pu(()=>new Hn))}function gu(n,e){return ce(fu(n,e,arguments.length>=2,!0))}function mu(n){return He((e,t)=>n<=t)}function yu(...n){let e=yn(n);return ce((t,r)=>{(e?wr(n,t,e):wr(n,t)).subscribe(r)})}function Qe(n,e){return ce((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(ge(r,u=>{i?.unsubscribe();let l=0,h=s++;ke(n(u,h)).subscribe(i=ge(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Cf(n){return ce((e,t)=>{ke(n).subscribe(ge(t,()=>t.complete(),ii)),!t.closed&&e.subscribe(t)})}function ee(n,e,t){let r=Q(n)||e||t?{next:n,error:e,complete:t}:n;return r?ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ge(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):kt}var EE="https://g.co/ng/security#xss",O=class extends Error{constructor(e,t){super(Lp(e,t)),this.code=e}};function Lp(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ra(n){return{toString:n}.toString()}var vu="__parameters__";function nR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function IE(n,e,t){return ra(()=>{let r=nR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(vu)?u[vu]:Object.defineProperty(u,vu,{value:[]})[vu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var pt=globalThis;function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function Nt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Nt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function xw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var rR=Ae({__forward_ref__:Ae});function CE(n){return n.__forward_ref__=CE,n.toString=function(){return Nt(this())},n}function Ct(n){return DE(n)?n():n}function DE(n){return typeof n=="function"&&n.hasOwnProperty(rR)&&n.__forward_ref__===CE}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Qu(n){return Ow(n,bE)||Ow(n,SE)}function TE(n){return Qu(n)!==null}function Ow(n,e){return n.hasOwnProperty(e)?n[e]:null}function iR(n){let e=n&&(n[bE]||n[SE]);return e||null}function kw(n){return n&&(n.hasOwnProperty(Fw)||n.hasOwnProperty(sR))?n[Fw]:null}var bE=Ae({\u0275prov:Ae}),Fw=Ae({\u0275inj:Ae}),SE=Ae({ngInjectableDef:Ae}),sR=Ae({ngInjectorDef:Ae}),X=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AE(n){return n&&!!n.\u0275providers}var oR=Ae({\u0275cmp:Ae}),aR=Ae({\u0275dir:Ae}),cR=Ae({\u0275pipe:Ae}),uR=Ae({\u0275mod:Ae}),Au=Ae({\u0275fac:Ae}),zo=Ae({__NG_ELEMENT_ID__:Ae}),Lw=Ae({__NG_ENV_ID__:Ae});function Yu(n){return typeof n=="string"?n:n==null?"":String(n)}function lR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Yu(n)}function dR(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new O(-200,n)}function Vp(n,e){throw new O(-201,!1)}var le=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(le||{}),Lf;function RE(){return Lf}function Mt(n){let e=Lf;return Lf=n,e}function ME(n,e,t){let r=Qu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&le.Optional)return null;if(e!==void 0)return e;Vp(n,"Injector")}var hR={},qo=hR,Vf="__NG_DI_FLAG__",Ru="ngTempTokenPath",fR="ngTokenPath",pR=/\n/gm,gR="\u0275",Vw="__source",Ds;function mR(){return Ds}function Cr(n){let e=Ds;return Ds=n,e}function yR(n,e=le.Default){if(Ds===void 0)throw new O(-203,!1);return Ds===null?ME(n,void 0,e):Ds.get(n,e&le.Optional?null:void 0,e)}function B(n,e=le.Default){return(RE()||yR)(Ct(n),e)}function L(n,e=le.Default){return B(n,Ju(e))}function Ju(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Uf(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,s=le.Default;for(let o=0;o<r.length;o++){let a=r[o],u=vR(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function NE(n,e){return n[Vf]=e,n.prototype[Vf]=e,n}function vR(n){return n[Vf]}function _R(n,e,t,r){let i=n[Ru];throw e[Vw]&&i.unshift(e[Vw]),n.message=wR(`
`+n.message,i,t,r),n[fR]=i,n[Ru]=null,n}function wR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==gR?n.slice(2):n;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Nt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(pR,`
  `)}`}var mt=NE(IE("Optional"),8);var Up=NE(IE("SkipSelf"),4);function li(n,e){let t=n.hasOwnProperty(Au);return t?n[Au]:null}function ER(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function IR(n){return n.flat(Number.POSITIVE_INFINITY)}function jp(n,e){n.forEach(t=>Array.isArray(t)?jp(t,e):e(t))}function PE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Mu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var Go={},vn=[],bs=new X(""),xE=new X("",-1),OE=new X(""),Nu=class{get(e,t=qo){if(t===qo){let r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return t}},kE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(kE||{}),En=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(En||{}),zn=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(zn||{});function CR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function jf(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];TR(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function DR(n){return n===3||n===4||n===6}function TR(n){return n.charCodeAt(0)===64}function $p(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Uw(n,t,i,null,e[++r]):Uw(n,t,i,null,null))}}return n}function Uw(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var FE="ng-template";function bR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Bp(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Bp(n){return n.type===4&&n.value!==FE}function SR(n,e,t){let r=n.type===4&&!t?FE:n.value;return e===r}function AR(n,e,t){let r=4,i=n.attrs,s=i!==null?NR(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!nn(r)&&!nn(u))return!1;if(o&&nn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!SR(n,u,t)||u===""&&e.length===1){if(nn(r))return!1;o=!0}}else if(r&8){if(i===null||!bR(n,i,u,t)){if(nn(r))return!1;o=!0}}else{let l=e[++a],h=RR(u,i,Bp(n),t);if(h===-1){if(nn(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(nn(r))return!1;o=!0}}}}return nn(r)||o}function nn(n){return(n&1)===0}function RR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return PR(e,n)}function MR(n,e,t=!1){for(let r=0;r<e.length;r++)if(AR(n,e[r],t))return!0;return!1}function NR(n){for(let e=0;e<n.length;e++){let t=n[e];if(DR(t))return e}return n.length}function PR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function jw(n,e){return n?":not("+e.trim()+")":e}function xR(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!nn(o)&&(e+=jw(s,i),i=""),r=o,s=s||!nn(r);t++}return i!==""&&(e+=jw(s,i)),e}function OR(n){return n.map(xR).join(",")}function kR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!nn(i))break;i=s}r++}return{attrs:e,classes:t}}function _i(n){return ra(()=>{let e=BE(n),t=Oe(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===kE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||En.Emulated,styles:n.styles||vn,_:null,schemas:n.schemas||null,tView:null,id:""});HE(t);let r=n.dependencies;return t.directiveDefs=Bw(r,!1),t.pipeDefs=Bw(r,!0),t.id=VR(t),t})}function FR(n){return di(n)||VE(n)}function LR(n){return n!==null}function Dn(n){return ra(()=>({type:n.type,bootstrap:n.bootstrap||vn,declarations:n.declarations||vn,imports:n.imports||vn,exports:n.exports||vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $w(n,e){if(n==null)return Go;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=zn.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==zn.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Tn(n){return ra(()=>{let e=BE(n);return HE(e),e})}function LE(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function di(n){return n[oR]||null}function VE(n){return n[aR]||null}function UE(n){return n[cR]||null}function jE(n){let e=di(n)||VE(n)||UE(n);return e!==null?e.standalone:!1}function $E(n,e){let t=n[uR]||null;if(!t&&e===!0)throw new Error(`Type ${Nt(n)} does not have '\u0275mod' property.`);return t}function BE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Go,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||vn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$w(n.inputs,e),outputs:$w(n.outputs),debugInfo:null}}function HE(n){n.features?.forEach(e=>e(n))}function Bw(n,e){if(!n)return null;let t=e?UE:FR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(LR)}function VR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bn(n){return{\u0275providers:n}}function Hp(...n){return{\u0275providers:zE(!0,n),\u0275fromNgModule:!0}}function zE(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return jp(e,o=>{let a=o;$f(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qE(i,s),t}function qE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];zp(i,s=>{e(s,r)})}}function $f(n,e,t,r){if(n=Ct(n),!n)return!1;let i=null,s=kw(n),o=!s&&di(n);if(!s&&!o){let u=n.ngModule;if(s=kw(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)$f(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{jp(s.imports,h=>{$f(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&qE(l,e)}if(!a){let l=li(i)||(()=>new i);e({provide:i,useFactory:l,deps:vn},i),e({provide:OE,useValue:i,multi:!0},i),e({provide:bs,useValue:()=>B(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=n;zp(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function zp(n,e){for(let t of n)AE(t)&&(t=t.\u0275providers),Array.isArray(t)?zp(t,e):e(t)}var UR=Ae({provide:String,useValue:Ae});function GE(n){return n!==null&&typeof n=="object"&&UR in n}function jR(n){return!!(n&&n.useExisting)}function $R(n){return!!(n&&n.useFactory)}function Ss(n){return typeof n=="function"}function BR(n){return!!n.useClass}var Zu=new X(""),Iu={},HR={},Df;function qp(){return Df===void 0&&(Df=new Nu),Df}var zt=class{},Wo=class extends zt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hf(e,o=>this.processProvider(o)),this.records.set(xE,Es(void 0,this)),i.has("environment")&&this.records.set(zt,Es(void 0,this));let s=this.records.get(Zu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(OE,vn,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Cr(this),r=Mt(void 0),i;try{return e()}finally{Cr(t),Mt(r)}}get(e,t=qo,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Lw))return e[Lw](this);r=Ju(r);let i,s=Cr(this),o=Mt(void 0);try{if(!(r&le.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=KR(e)&&Qu(e);l&&this.injectableDefInScope(l)?u=Es(Bf(e),Iu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&le.Self?qp():this.parent;return t=r&le.Optional&&t===qo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ru]=a[Ru]||[]).unshift(Nt(e)),s)throw a;return _R(a,e,"R3InjectorError",this.source)}else throw a}finally{Mt(o),Cr(s)}}resolveInjectorInitializers(){let e=ye(null),t=Cr(this),r=Mt(void 0),i;try{let s=this.get(bs,vn,le.Self);for(let o of s)o()}finally{Cr(t),Mt(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){e=Ct(e);let t=Ss(e)?e:Ct(e&&e.provide),r=qR(e);if(!Ss(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Es(void 0,Iu,!0),i.factory=()=>Uf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ye(null);try{return t.value===Iu&&(t.value=HR,t.value=t.factory()),typeof t.value=="object"&&t.value&&WR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Bf(n){let e=Qu(n),t=e!==null?e.factory:li(n);if(t!==null)return t;if(n instanceof X)throw new O(204,!1);if(n instanceof Function)return zR(n);throw new O(204,!1)}function zR(n){if(n.length>0)throw new O(204,!1);let t=iR(n);return t!==null?()=>t.factory(n):()=>new n}function qR(n){if(GE(n))return Es(void 0,n.useValue);{let e=WE(n);return Es(e,Iu)}}function WE(n,e,t){let r;if(Ss(n)){let i=Ct(n);return li(i)||Bf(i)}else if(GE(n))r=()=>Ct(n.useValue);else if($R(n))r=()=>n.useFactory(...Uf(n.deps||[]));else if(jR(n))r=()=>B(Ct(n.useExisting));else{let i=Ct(n&&(n.useClass||n.provide));if(GR(n))r=()=>new i(...Uf(n.deps));else return li(i)||Bf(i)}return r}function Es(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function GR(n){return!!n.deps}function WR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function KR(n){return typeof n=="function"||typeof n=="object"&&n instanceof X}function Hf(n,e){for(let t of n)Array.isArray(t)?Hf(t,e):t&&AE(t)?Hf(t.\u0275providers,e):e(t)}function wi(n,e){n instanceof Wo&&n.assertNotDestroyed();let t,r=Cr(n),i=Mt(void 0);try{return e()}finally{Cr(r),Mt(i)}}function QR(){return RE()!==void 0||mR()!=null}function YR(n){return typeof n=="function"}var Wn=0,re=1,Z=2,at=3,rn=4,un=5,Ko=6,Qo=7,Dt=8,As=9,sn=10,ct=11,Yo=12,Hw=13,Ns=14,on=15,ia=16,Is=17,qn=18,Xu=19,KE=20,Dr=21,Tf=22,hi=23,qt=25,QE=1;var fi=7,Pu=8,Rs=9,gt=10,Gp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Gp||{});function ci(n){return Array.isArray(n)&&typeof n[QE]=="object"}function Kn(n){return Array.isArray(n)&&n[QE]===!0}function Wp(n){return(n.flags&4)!==0}function el(n){return n.componentOffset>-1}function tl(n){return(n.flags&1)===1}function Ps(n){return!!n.template}function JR(n){return(n[Z]&512)!==0}var zf=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function YE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Ei(){return JE}function JE(n){return n.type.prototype.ngOnChanges&&(n.setInput=XR),ZR}Ei.ngInherit=!0;function ZR(){let n=XE(this),e=n?.current;if(e){let t=n.previous;if(t===Go)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function XR(n,e,t,r,i){let s=this.declaredInputs[r],o=XE(n)||eM(n,{previous:Go,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new zf(l&&l.currentValue,t,u===Go),YE(n,e,i,t)}var ZE="__ngSimpleChanges__";function XE(n){return n[ZE]||null}function eM(n,e){return n[ZE]=e}var zw=null;var _n=function(n,e,t){zw?.(n,e,t)},eI="svg",tM="math",nM=!1;function rM(){return nM}function In(n){for(;Array.isArray(n);)n=n[Wn];return n}function iM(n,e){return In(e[n])}function Gt(n,e){return In(e[n.index])}function Kp(n,e){return n.data[e]}function sM(n,e){return n[e]}function Rr(n,e){let t=e[n];return ci(t)?t:t[Wn]}function oM(n){return(n[Z]&4)===4}function Qp(n){return(n[Z]&128)===128}function aM(n){return Kn(n[at])}function Ms(n,e){return e==null?null:n[e]}function tI(n){n[Is]=0}function cM(n){n[Z]&1024||(n[Z]|=1024,Qp(n)&&Jo(n))}function uM(n,e){for(;n>0;)e=e[Ns],n--;return e}function Yp(n){return!!(n[Z]&9216||n[hi]?.dirty)}function qf(n){n[sn].changeDetectionScheduler?.notify(1),Yp(n)?Jo(n):n[Z]&64&&(rM()?(n[Z]|=1024,Jo(n)):n[sn].changeDetectionScheduler?.notify())}function Jo(n){n[sn].changeDetectionScheduler?.notify();let e=Zo(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Qp(e)));)e=Zo(e)}function nI(n,e){if((n[Z]&256)===256)throw new O(911,!1);n[Dr]===null&&(n[Dr]=[]),n[Dr].push(e)}function lM(n,e){if(n[Dr]===null)return;let t=n[Dr].indexOf(e);t!==-1&&n[Dr].splice(t,1)}function Zo(n){let e=n[at];return Kn(e)?e[at]:e}var de={lFrame:uI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dM(){return de.lFrame.elementDepthCount}function hM(){de.lFrame.elementDepthCount++}function fM(){de.lFrame.elementDepthCount--}function rI(){return de.bindingsEnabled}function pM(){return de.skipHydrationRootTNode!==null}function gM(n){return de.skipHydrationRootTNode===n}function mM(){de.skipHydrationRootTNode=null}function ve(){return de.lFrame.lView}function Tt(){return de.lFrame.tView}function Qn(n){return de.lFrame.contextLView=n,n[Dt]}function Yn(n){return de.lFrame.contextLView=null,n}function Pt(){let n=iI();for(;n!==null&&n.type===64;)n=n.parent;return n}function iI(){return de.lFrame.currentTNode}function yM(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ii(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function Jp(){return de.lFrame.isParent}function sI(){de.lFrame.isParent=!1}function sa(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function vM(n){return de.lFrame.bindingIndex=n}function nl(){return de.lFrame.bindingIndex++}function _M(){return de.lFrame.inI18n}function wM(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Gf(e)}function EM(){return de.lFrame.currentDirectiveIndex}function Gf(n){de.lFrame.currentDirectiveIndex=n}function oI(){return de.lFrame.currentQueryIndex}function Zp(n){de.lFrame.currentQueryIndex=n}function IM(n){let e=n[re];return e.type===2?e.declTNode:e.type===1?n[un]:null}function aI(n,e,t){if(t&le.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&le.Host);)if(i=IM(s),i===null||(s=s[Ns],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=de.lFrame=cI();return r.currentTNode=e,r.lView=n,!0}function Xp(n){let e=cI(),t=n[re];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function cI(){let n=de.lFrame,e=n===null?null:n.child;return e===null?uI(n):e}function uI(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function lI(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var dI=lI;function eg(){let n=lI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function CM(n){return(de.lFrame.contextLView=uM(n,de.lFrame.contextLView))[Dt]}function rl(){return de.lFrame.selectedIndex}function pi(n){de.lFrame.selectedIndex=n}function hI(){let n=de.lFrame;return Kp(n.tView,n.selectedIndex)}function fI(){de.lFrame.currentNamespace=eI}function pI(){DM()}function DM(){de.lFrame.currentNamespace=null}function TM(){return de.lFrame.currentNamespace}var gI=!0;function il(){return gI}function sl(n){gI=n}function bM(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=JE(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function ol(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Cu(n,e,t){mI(n,e,3,t)}function Du(n,e,t,r){(n[Z]&3)===t&&mI(n,e,t,r)}function bf(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function mI(n,e,t,r){let i=r!==void 0?n[Is]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Is]+=65536),(a<s||s==-1)&&(SM(n,t,e,u),n[Is]=(n[Is]&4294901760)+u+2),u++}function qw(n,e){_n(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),_n(5,n,e)}}function SM(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[Z]>>14<n[Is]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,qw(a,s)):qw(a,s)}var Ts=-1,gi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function AM(n){return n instanceof gi}function RM(n){return(n.flags&8)!==0}function MM(n){return(n.flags&16)!==0}function yI(n){return n!==Ts}function xu(n){return n&32767}function NM(n){return n>>16}function Ou(n,e){let t=NM(n),r=e;for(;t>0;)r=r[Ns],t--;return r}var Wf=!0;function ku(n){let e=Wf;return Wf=n,e}var PM=256,vI=PM-1,_I=5,xM=0,wn={};function OM(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(zo)&&(r=t[zo]),r==null&&(r=t[zo]=xM++);let i=r&vI,s=1<<i;e.data[n+(i>>_I)]|=s}function Fu(n,e){let t=wI(n,e);if(t!==-1)return t;let r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,Sf(r.data,n),Sf(e,null),Sf(r.blueprint,null));let i=tg(n,e),s=n.injectorIndex;if(yI(i)){let o=xu(i),a=Ou(i,e),u=a[re].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Sf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function wI(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function tg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=TI(i),r===null)return Ts;if(t++,i=i[Ns],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ts}function Kf(n,e,t){OM(n,e,t)}function EI(n,e,t){if(t&le.Optional||n!==void 0)return n;Vp(e,"NodeInjector")}function II(n,e,t,r){if(t&le.Optional&&r===void 0&&(r=null),!(t&(le.Self|le.Host))){let i=n[As],s=Mt(void 0);try{return i?i.get(e,r,t&le.Optional):ME(e,r,t&le.Optional)}finally{Mt(s)}}return EI(r,e,t)}function CI(n,e,t,r=le.Default,i){if(n!==null){if(e[Z]&2048&&!(r&le.Self)){let o=VM(n,e,t,r,wn);if(o!==wn)return o}let s=DI(n,e,t,r,wn);if(s!==wn)return s}return II(e,t,r,i)}function DI(n,e,t,r,i){let s=FM(t);if(typeof s=="function"){if(!aI(e,n,r))return r&le.Host?EI(i,t,r):II(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&le.Optional))Vp(t);else return o}finally{dI()}}else if(typeof s=="number"){let o=null,a=wI(n,e),u=Ts,l=r&le.Host?e[on][un]:null;for((a===-1||r&le.SkipSelf)&&(u=a===-1?tg(n,e):e[a+8],u===Ts||!Ww(r,!1)?a=-1:(o=e[re],a=xu(u),e=Ou(u,e)));a!==-1;){let h=e[re];if(Gw(s,a,h.data)){let p=kM(a,e,t,o,r,l);if(p!==wn)return p}u=e[a+8],u!==Ts&&Ww(r,e[re].data[a+8]===l)&&Gw(s,a,e)?(o=h,a=xu(u),e=Ou(u,e)):a=-1}}return i}function kM(n,e,t,r,i,s){let o=e[re],a=o.data[n+8],u=r==null?el(a)&&Wf:r!=o&&(a.type&3)!==0,l=i&le.Host&&s===a,h=Tu(a,o,t,u,l);return h!==null?mi(e,o,h,a):wn}function Tu(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,u=n.directiveStart,l=n.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=o[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){let y=o[u];if(y&&Ps(y)&&y.type===t)return u}return null}function mi(n,e,t,r){let i=n[t],s=e.data;if(AM(i)){let o=i;o.resolving&&dR(lR(s[t]));let a=ku(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Mt(o.injectImpl):null,h=aI(n,r,le.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&bM(t,s[t],e)}finally{l!==null&&Mt(l),ku(a),o.resolving=!1,dI()}}return i}function FM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(zo)?n[zo]:void 0;return typeof e=="number"?e>=0?e&vI:LM:e}function Gw(n,e,t){let r=1<<n;return!!(t[e+(n>>_I)]&r)}function Ww(n,e){return!(n&le.Self)&&!(n&le.Host&&e)}var ui=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return CI(this._tNode,this._lView,e,Ju(r),t)}};function LM(){return new ui(Pt(),ve())}function ng(n){return ra(()=>{let e=n.prototype.constructor,t=e[Au]||Qf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Au]||Qf(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Qf(n){return DE(n)?()=>{let e=Qf(Ct(n));return e&&e()}:li(n)}function VM(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[Z]&2048&&!(o[Z]&512);){let a=DI(s,o,t,r|le.Self,wn);if(a!==wn)return a;let u=s.parent;if(!u){let l=o[KE];if(l){let h=l.get(t,wn,r);if(h!==wn)return h}u=TI(o),o=o[Ns]}s=u}return i}function TI(n){let e=n[re],t=e.type;return t===2?e.declTNode:t===1?n[un]:null}function Kw(n,e=null,t=null,r){let i=bI(n,e,t,r);return i.resolveInjectorInitializers(),i}function bI(n,e=null,t=null,r,i=new Set){let s=[t||vn,Hp(n)];return r=r||(typeof n=="object"?void 0:Nt(n)),new Wo(s,e||qp(),r||null,i)}var ln=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Kw({name:""},i,r,"");{let s=r.name??"";return Kw({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=qo,e.NULL=new Nu,e.\u0275prov=U({token:e,providedIn:"any",factory:()=>B(xE)}),e.__NG_ELEMENT_ID__=-1;let n=e;return n})();var UM="ngOriginalError";function Af(n){return n[UM]}var an=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Af(e);for(;t&&Af(t);)t=Af(t);return t||null}},SI=new X("",{providedIn:"root",factory:()=>L(an).handleError.bind(void 0)}),AI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jM,e.__NG_ENV_ID__=r=>r;let n=e;return n})(),Yf=class extends AI{constructor(e){super(),this._lView=e}onDestroy(e){return nI(this._lView,e),()=>lM(this._lView,e)}};function jM(){return new Yf(ve())}function $M(){return xs(Pt(),ve())}function xs(n,e){return new Wt(Gt(n,e))}var Wt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=$M;let n=e;return n})();function BM(n){return n instanceof Wt?n.nativeElement:n}var Jf=class extends Ce{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,QR()&&(this.destroyRef=L(AI,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Rf(s),i&&(i=Rf(i)),o&&(o=Rf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(a),a}};function Rf(n){return e=>{setTimeout(n,void 0,e)}}var rt=Jf;function HM(){return this._results[Symbol.iterator]()}var Zf=class n{get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=HM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=IR(e);(this._changesDetected=!ER(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function RI(n){return(n.flags&128)===128}var MI=new Map,zM=0;function qM(){return zM++}function GM(n){MI.set(n[Xu],n)}function WM(n){MI.delete(n[Xu])}var Qw="__ngContext__";function Tr(n,e){ci(e)?(n[Qw]=e[Xu],GM(e)):n[Qw]=e}function NI(n){return xI(n[Yo])}function PI(n){return xI(n[rn])}function xI(n){for(;n!==null&&!Kn(n);)n=n[rn];return n}var Xf;function OI(n){Xf=n}function kI(){if(Xf!==void 0)return Xf;if(typeof document<"u")return document;throw new O(210,!1)}var al=new X("",{providedIn:"root",factory:()=>KM}),KM="ng",rg=new X(""),Kt=new X("",{providedIn:"platform",factory:()=>"unknown"});var ig=new X(""),sg=new X("",{providedIn:"root",factory:()=>kI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QM="h",YM="b";var JM=()=>null;function og(n,e,t=!1){return JM(n,e,t)}var FI=!1,ZM=new X("",{providedIn:"root",factory:()=>FI});var _u;function XM(){if(_u===void 0&&(_u=null,pt.trustedTypes))try{_u=pt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _u}function cl(n){return XM()?.createHTML(n)||n}var wu;function e3(){if(wu===void 0&&(wu=null,pt.trustedTypes))try{wu=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wu}function Yw(n){return e3()?.createHTML(n)||n}var Lu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${EE})`}};function ag(n){return n instanceof Lu?n.changingThisBreaksApplicationSecurity:n}function LI(n,e){let t=t3(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${EE})`)}return t===e}function t3(n){return n instanceof Lu&&n.getTypeName()||null}function n3(n){let e=new tp(n);return r3()?new ep(e):e}var ep=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(cl(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},tp=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=cl(e),t}};function r3(){try{return!!new window.DOMParser().parseFromString(cl(""),"text/html")}catch{return!1}}var i3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function VI(n){return n=String(n),n.match(i3)?n:"unsafe:"+n}function Jn(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function oa(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var UI=Jn("area,br,col,hr,img,wbr"),jI=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$I=Jn("rp,rt"),s3=oa($I,jI),o3=oa(jI,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),a3=oa($I,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jw=oa(UI,o3,a3,s3),BI=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),c3=Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),u3=Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),l3=oa(BI,c3,u3),d3=Jn("script,style,template"),np=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=p3(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=f3(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Zw(e).toLowerCase();if(!Jw.hasOwnProperty(t))return this.sanitizedSomething=!0,!d3.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!l3.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;BI[a]&&(u=VI(u)),this.buf.push(" ",o,'="',Xw(u),'"')}return this.buf.push(">"),!0}endElement(e){let t=Zw(e).toLowerCase();Jw.hasOwnProperty(t)&&!UI.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Xw(e))}};function h3(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function f3(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw HI(e);return e}function p3(n){let e=n.firstChild;if(e&&h3(n,e))throw HI(e);return e}function Zw(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function HI(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var g3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m3=/([^\#-~ |!])/g;function Xw(n){return n.replace(/&/g,"&amp;").replace(g3,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(m3,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Eu;function zI(n,e){let t=null;try{Eu=Eu||n3(n);let r=e?String(e):"";t=Eu.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Eu.getInertBodyElement(r)}while(r!==s);let a=new np().sanitizeChildren(eE(t)||t);return cl(a)}finally{if(t){let r=eE(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function eE(n){return"content"in n&&y3(n)?n.content:null}function y3(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var cg=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(cg||{});function ul(n){let e=v3();return e?Yw(e.sanitize(cg.HTML,n)||""):LI(n,"HTML")?Yw(ag(n)):zI(kI(),Yu(n))}function v3(){let n=ve();return n&&n[sn].sanitizer}var _3=/^>|^->|<!--|-->|--!>|<!-$/g,w3=/(<|>)/g,E3="\u200B$1\u200B";function I3(n){return n.replace(_3,e=>e.replace(w3,E3))}function qI(n){return n.ownerDocument}function GI(n){return n instanceof Function?n():n}var Mr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Mr||{}),C3;function ug(n,e){return C3(n,e)}function Cs(n,e,t,r,i){if(r!=null){let s,o=!1;Kn(r)?s=r:ci(r)&&(o=!0,r=r[Wn]);let a=In(r);n===0&&t!==null?i==null?YI(e,t,a):Vu(e,t,a,i||null,!0):n===1&&t!==null?Vu(e,t,a,i||null,!0):n===2?$3(e,a,o):n===3&&e.destroyNode(a),s!=null&&H3(e,n,s,t,i)}}function D3(n,e){return n.createText(e)}function T3(n,e,t){n.setValue(e,t)}function b3(n,e){return n.createComment(I3(e))}function WI(n,e,t){return n.createElement(e,t)}function S3(n,e){KI(n,e),e[Wn]=null,e[un]=null}function A3(n,e,t,r,i,s){r[Wn]=i,r[un]=e,hl(n,r,t,1,i,s)}function KI(n,e){e[sn].changeDetectionScheduler?.notify(1),hl(n,e,e[ct],2,null,null)}function R3(n){let e=n[Yo];if(!e)return Mf(n[re],n);for(;e;){let t=null;if(ci(e))t=e[Yo];else{let r=e[gt];r&&(t=r)}if(!t){for(;e&&!e[rn]&&e!==n;)ci(e)&&Mf(e[re],e),e=e[at];e===null&&(e=n),ci(e)&&Mf(e[re],e),t=e&&e[rn]}e=t}}function M3(n,e,t,r){let i=gt+r,s=t.length;r>0&&(t[i-1][rn]=e),r<s-gt?(e[rn]=t[i],PE(t,gt+r,e)):(t.push(e),e[rn]=null),e[at]=t;let o=e[ia];o!==null&&t!==o&&N3(o,e);let a=e[qn];a!==null&&a.insertView(n),qf(e),e[Z]|=128}function N3(n,e){let t=n[Rs],i=e[at][at][on];e[on]!==i&&(n[Z]|=Gp.HasTransplantedViews),t===null?n[Rs]=[e]:t.push(e)}function QI(n,e){let t=n[Rs],r=t.indexOf(e);t.splice(r,1)}function Xo(n,e){if(n.length<=gt)return;let t=gt+e,r=n[t];if(r){let i=r[ia];i!==null&&i!==n&&QI(i,r),e>0&&(n[t-1][rn]=r[rn]);let s=Mu(n,gt+e);S3(r[re],r);let o=s[qn];o!==null&&o.detachView(s[re]),r[at]=null,r[rn]=null,r[Z]&=-129}return r}function ll(n,e){if(!(e[Z]&256)){let t=e[ct];t.destroyNode&&hl(n,e,t,3,null,null),R3(e)}}function Mf(n,e){if(e[Z]&256)return;let t=ye(null);try{e[Z]&=-129,e[Z]|=256,e[hi]&&tw(e[hi]),x3(n,e),P3(n,e),e[re].type===1&&e[ct].destroy();let r=e[ia];if(r!==null&&Kn(e[at])){r!==e[at]&&QI(r,e);let i=e[qn];i!==null&&i.detachView(n)}WM(e)}finally{ye(t)}}function P3(n,e){let t=n.cleanup,r=e[Qo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Qo]=null);let i=e[Dr];if(i!==null){e[Dr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function x3(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof gi)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];_n(4,a,u);try{u.call(a)}finally{_n(5,a,u)}}else{_n(4,i,s);try{s.call(i)}finally{_n(5,i,s)}}}}}function O3(n,e,t){return k3(n,e.parent,t)}function k3(n,e,t){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return t[Wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===En.None||s===En.Emulated)return null}return Gt(r,t)}}function Vu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function YI(n,e,t){n.appendChild(e,t)}function tE(n,e,t,r,i){r!==null?Vu(n,e,t,r,i):YI(n,e,t)}function F3(n,e,t,r){n.removeChild(e,t,r)}function lg(n,e){return n.parentNode(e)}function L3(n,e){return n.nextSibling(e)}function V3(n,e,t){return j3(n,e,t)}function U3(n,e,t){return n.type&40?Gt(n,t):null}var j3=U3,nE;function dl(n,e,t,r){let i=O3(n,r,e),s=e[ct],o=r.parent||e[un],a=V3(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)tE(s,i,t[u],a,!1);else tE(s,i,t,a,!1);nE!==void 0&&nE(s,r,e,t,i)}function bu(n,e){if(e!==null){let t=e.type;if(t&3)return Gt(e,n);if(t&4)return rp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return bu(n,r);{let i=n[e.index];return Kn(i)?rp(-1,i):In(i)}}else{if(t&32)return ug(e,n)()||In(n[e.index]);{let r=JI(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zo(n[on]);return bu(i,r)}else return bu(n,e.next)}}}return null}function JI(n,e){if(e!==null){let r=n[on][un],i=e.projection;return r.projection[i]}return null}function rp(n,e){let t=gt+n+1;if(t<e.length){let r=e[t],i=r[re].firstChild;if(i!==null)return bu(r,i)}return e[fi]}function $3(n,e,t){let r=lg(n,e);r&&F3(n,r,e,t)}function dg(n,e,t,r,i,s,o){for(;t!=null;){let a=r[t.index],u=t.type;if(o&&e===0&&(a&&Tr(In(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)dg(n,e,t.child,r,i,s,!1),Cs(e,n,i,a,s);else if(u&32){let l=ug(t,r),h;for(;h=l();)Cs(e,n,i,h,s);Cs(e,n,i,a,s)}else u&16?B3(n,e,r,t,i,s):Cs(e,n,i,a,s);t=o?t.projectionNext:t.next}}function hl(n,e,t,r,i,s){dg(t,r,n.firstChild,e,i,s,!1)}function B3(n,e,t,r,i,s){let o=t[on],u=o[un].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Cs(e,n,i,h,s)}else{let l=u,h=o[at];RI(r)&&(l.flags|=128),dg(n,e,l,h,i,s,!0)}}function H3(n,e,t,r,i){let s=t[fi],o=In(t);s!==o&&Cs(e,n,r,s,i);for(let a=gt;a<t.length;a++){let u=t[a];hl(u[re],u,n,e,r,s)}}function z3(n,e,t){n.setAttribute(e,"style",t)}function ZI(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function XI(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&jf(n,e,r),i!==null&&ZI(n,e,i),s!==null&&z3(n,e,s)}var aa={};function Le(n=1){eC(Tt(),ve(),rl()+n,!1)}function eC(n,e,t,r){if(!r)if((e[Z]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Cu(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Du(e,s,0,t)}pi(t)}function pe(n,e=le.Default){let t=ve();if(t===null)return B(n,e);let r=Pt();return CI(r,t,Ct(n),e)}function tC(n,e,t,r,i,s){let o=ye(null);try{let a=null;i&zn.SignalBased&&(a=e[r][J_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&zn.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):YE(e,a,r,s)}finally{ye(o)}}function q3(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)pi(~i);else{let s=i,o=t[++r],a=t[++r];wM(o,s);let u=e[s];a(2,u)}}}finally{pi(-1)}}function fl(n,e,t,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Wn]=i,p[Z]=r|4|128|8|64,(l!==null||n&&n[Z]&2048)&&(p[Z]|=2048),tI(p),p[at]=p[Ns]=n,p[Dt]=t,p[sn]=o||n&&n[sn],p[ct]=a||n&&n[ct],p[As]=u||n&&n[As]||null,p[un]=s,p[Xu]=qM(),p[Ko]=h,p[KE]=l,p[on]=e.type==2?n[on]:p,p}function ca(n,e,t,r,i){let s=n.data[e];if(s===null)s=G3(n,e,t,r,i),_M()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=yM();s.injectorIndex=o===null?-1:o.injectorIndex}return Ii(s,!0),s}function G3(n,e,t,r,i){let s=iI(),o=Jp(),a=o?s:s&&s.parent,u=n.data[e]=Z3(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function nC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function rC(n,e,t,r,i){let s=rl(),o=r&2;try{pi(-1),o&&e.length>qt&&eC(n,e,qt,!1),_n(o?2:0,i),t(r,i)}finally{pi(s),_n(o?3:1,i)}}function hg(n,e,t){if(Wp(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let u=t[o];a.contentQueries(1,u,o)}}}finally{ye(r)}}}function fg(n,e,t){rI()&&(sN(n,e,t,Gt(t,e)),(t.flags&64)===64&&oC(n,e,t))}function pg(n,e,t=Gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function iC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=gg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function gg(n,e,t,r,i,s,o,a,u,l,h){let p=qt+r,m=p+i,y=W3(p,m),C=typeof l=="function"?l():l;return y[re]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function W3(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:aa);return t}function K3(n,e,t,r){let s=r.get(ZM,FI)||t===En.ShadowDom,o=n.selectRootElement(e,s);return Q3(o),o}function Q3(n){Y3(n)}var Y3=()=>null;function J3(n,e,t,r){let i=uC(e);i.push(t),n.firstCreatePass&&lC(n).push(r,i.length-1)}function Z3(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return pM()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function rE(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=zn.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?iE(r,t,l,a,u):iE(r,t,l,a)}return r}function iE(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function X3(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=t?t.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=rE(0,p.inputs,h,u,y),l=rE(1,p.outputs,h,l,C);let A=u!==null&&o!==null&&!Bp(e)?mN(u,h,o):null;a.push(A)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function eN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function tN(n,e,t,r,i,s,o,a){let u=Gt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(yg(n,t,h,r,i),el(e)&&nN(t,e.index)):e.type&3?(r=eN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function nN(n,e){let t=Rr(e,n);t[Z]&16||(t[Z]|=64)}function mg(n,e,t,r){if(rI()){let i=r===null?null:{"":-1},s=aN(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&sC(n,e,t,o,i,a),i&&cN(t,r,i)}t.mergedAttrs=$p(t.mergedAttrs,t.attrs)}function sC(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Kf(Fu(t,e),n,r[l].type);lN(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=nC(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=$p(t.mergedAttrs,h.hostAttrs),dN(n,t,e,u,h),uN(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}X3(n,t,s)}function rN(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;iN(o)!=a&&o.push(a),o.push(t,r,s)}}function iN(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function sN(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;el(t)&&hN(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Fu(t,e),Tr(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let u=n.data[a],l=mi(e,n,a,t);if(Tr(l,e),o!==null&&gN(e,a-i,l,u,t,o),Ps(u)){let h=Rr(t.index,e);h[Dt]=mi(e,n,a,t)}}}function oC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=EM();try{pi(s);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Gf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&oN(u,l)}}finally{pi(-1),Gf(o)}}function oN(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function aN(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(MR(e,o.selectors,!1))if(r||(r=[]),Ps(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;ip(n,e,u)}else r.unshift(o),ip(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function ip(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function cN(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new O(-301,!1);r.push(e[i],s)}}}function uN(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ps(e)&&(t[""]=n)}}function lN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function dN(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=li(i.type,!0)),o=new gi(s,Ps(i),pe);n.blueprint[r]=o,t[r]=o,rN(n,e,r,nC(n,t,i.hostVars,aa),i)}function hN(n,e,t){let r=Gt(e,n),i=iC(t),s=n[sn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=pl(n,fl(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function fN(n,e,t,r,i,s){let o=Gt(n,e);pN(e[ct],o,s,n.value,t,r,i)}function pN(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?Yu(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function gN(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];tC(r,t,u,l,h,p)}}function mN(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function aC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function cC(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Zp(s),a.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function pl(n,e){return n[Yo]?n[Hw][rn]=e:n[Yo]=e,n[Hw]=e,e}function sp(n,e,t){Zp(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function uC(n){return n[Qo]||(n[Qo]=[])}function lC(n){return n.cleanup||(n.cleanup=[])}function dC(n,e){let t=n[As],r=t?t.get(an,null):null;r&&r.handleError(e)}function yg(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],u=t[s++],l=e[o],h=n.data[o];tC(h,l,r,a,u,i)}}function yN(n,e,t){let r=iM(e,n);T3(n[ct],r,t)}function vN(n,e){let t=Rr(e,n),r=t[re];_N(r,t);let i=t[Wn];i!==null&&t[Ko]===null&&(t[Ko]=og(i,t[As])),vg(r,t,t[Dt])}function _N(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function vg(n,e,t){Xp(e);try{let r=n.viewQuery;r!==null&&sp(1,r,t);let i=n.template;i!==null&&rC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[qn]?.finishViewCreation(n),n.staticContentQueries&&cC(n,e),n.staticViewQueries&&sp(2,n.viewQuery,t);let s=n.components;s!==null&&wN(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,eg()}}function wN(n,e){for(let t=0;t<e.length;t++)vN(n,e[t])}function _g(n,e,t,r){let i=ye(null);try{let s=e.tView,a=n[Z]&4096?4096:16,u=fl(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[ia]=l;let h=n[qn];return h!==null&&(u[qn]=h.createEmbeddedView(s)),vg(s,u,t),u}finally{ye(i)}}function EN(n,e){let t=gt+e;if(t<n.length)return n[t]}function Uu(n,e){return!e||e.firstChild===null||RI(n)}function wg(n,e,t,r=!0){let i=e[re];if(M3(i,e,n,t),r){let o=rp(t,n),a=e[ct],u=lg(a,n[fi]);u!==null&&A3(i,n[un],a,e,u,o)}let s=e[Ko];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function IN(n,e){let t=Xo(n,e);return t!==void 0&&ll(t[re],t),t}function ju(n,e,t,r,i=!1){for(;t!==null;){let s=e[t.index];s!==null&&r.push(In(s)),Kn(s)&&CN(s,r);let o=t.type;if(o&8)ju(n,e,t.child,r);else if(o&32){let a=ug(t,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=JI(e,t);if(Array.isArray(a))r.push(...a);else{let u=Zo(e[on]);ju(u[re],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function CN(n,e){for(let t=gt;t<n.length;t++){let r=n[t],i=r[re].firstChild;i!==null&&ju(r[re],r,i,e)}n[fi]!==n[Wn]&&e.push(n[fi])}var hC=[];function DN(n){return n[hi]??TN(n)}function TN(n){let e=hC.pop()??Object.create(SN);return e.lView=n,e}function bN(n){n.lView[hi]!==n&&(n.lView=null,hC.push(n))}var SN=Oe(F({},Z_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Jo(n.lView)},consumerOnSignalRead(){this.lView[hi]=this}}),fC=100;function pC(n,e=!0,t=0){let r=n[sn],i=r.rendererFactory,s=!1;s||i.begin?.();try{AN(n,t)}catch(o){throw e&&dC(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function AN(n,e){op(n,e);let t=0;for(;Yp(n);){if(t===fC)throw new O(103,!1);t++,op(n,1)}}function RN(n,e,t,r){let i=e[Z];if((i&256)===256)return;let s=!1;!s&&e[sn].inlineEffectRunner?.flush(),Xp(e);let o=null,a=null;!s&&MN(n)&&(a=DN(e),o=X_(a));try{tI(e),vM(n.bindingStartIndex),t!==null&&rC(n,e,t,2,r);let u=(i&3)===3;if(!s)if(u){let p=n.preOrderCheckHooks;p!==null&&Cu(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Du(e,p,0,null),bf(e,0)}if(NN(e),gC(e,0),n.contentQueries!==null&&cC(n,e),!s)if(u){let p=n.contentCheckHooks;p!==null&&Cu(e,p)}else{let p=n.contentHooks;p!==null&&Du(e,p,1),bf(e,1)}q3(n,e);let l=n.components;l!==null&&yC(e,l,0);let h=n.viewQuery;if(h!==null&&sp(2,h,r),!s)if(u){let p=n.viewCheckHooks;p!==null&&Cu(e,p)}else{let p=n.viewHooks;p!==null&&Du(e,p,2),bf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Tf]){for(let p of e[Tf])p();e[Tf]=null}s||(e[Z]&=-73)}catch(u){throw Jo(e),u}finally{a!==null&&(ew(a,o),bN(a)),eg()}}function MN(n){return n.type!==2}function gC(n,e){for(let t=NI(n);t!==null;t=PI(t))for(let r=gt;r<t.length;r++){let i=t[r];mC(i,e)}}function NN(n){for(let e=NI(n);e!==null;e=PI(e)){if(!(e[Z]&Gp.HasTransplantedViews))continue;let t=e[Rs];for(let r=0;r<t.length;r++){let i=t[r],s=i[at];cM(i)}}}function PN(n,e,t){let r=Rr(e,n);mC(r,t)}function mC(n,e){Qp(n)&&op(n,e)}function op(n,e){let r=n[re],i=n[Z],s=n[hi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&tf(s)),s&&(s.dirty=!1),n[Z]&=-9217,o)RN(r,n,r.template,n[Dt]);else if(i&8192){gC(n,1);let a=r.components;a!==null&&yC(n,a,1)}}function yC(n,e,t){for(let r=0;r<e.length;r++)PN(n,e[r],t)}function Eg(n){for(n[sn].changeDetectionScheduler?.notify();n;){n[Z]|=64;let e=Zo(n);if(JR(n)&&!e)return n;n=e}return null}var yi=class{get rootNodes(){let e=this._lView,t=e[re];return ju(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dt]}set context(e){this._lView[Dt]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(Kn(e)){let t=e[Pu],r=t?t.indexOf(this):-1;r>-1&&(Xo(e,r),Mu(t,r))}this._attachedToViewContainer=!1}ll(this._lView[re],this._lView)}onDestroy(e){nI(this._lView,e)}markForCheck(){Eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Z]&=-129}reattach(){qf(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,pC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,KI(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e,qf(this._lView)}},Gn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kN;let n=e;return n})(),xN=Gn,ON=class extends xN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=_g(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new yi(i)}};function kN(){return Ig(Pt(),ve())}function Ig(n,e){return n.type&4?new ON(e,n,xs(n,e)):null}var Nz=new RegExp(`^(\\d+)*(${YM}|${QM})*(.*)`);var FN=()=>null;function $u(n,e){return FN(n,e)}var ea=class{},ap=class{},Bu=class{};function LN(n){let e=Error(`No component factory found for ${Nt(n)}.`);return e[VN]=n,e}var VN="ngComponent";var cp=class{resolveComponentFactory(e){throw LN(e)}},gl=(()=>{let e=class e{};e.NULL=new cp;let n=e;return n})(),vi=class{},Ci=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>UN();let n=e;return n})();function UN(){let n=ve(),e=Pt(),t=Rr(e.index,n);return(ci(t)?t:n)[ct]}var jN=(()=>{let e=class e{};e.\u0275prov=U({token:e,providedIn:"root",factory:()=>null});let n=e;return n})(),Nf={};var sE=new Set;function ml(n){sE.has(n)||(sE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function oE(...n){}function $N(){let n=typeof pt.requestAnimationFrame=="function",e=pt[n?"requestAnimationFrame":"setTimeout"],t=pt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var fe=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=$N().nativeRequestAnimationFrame,zN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new O(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,BN,oE,oE);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},BN={};function Cg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function HN(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,up(n),n.isCheckStableRunning=!0,Cg(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),up(n))}function zN(n){let e=()=>{HN(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(qN(a))return t.invokeTask(i,s,o,a);try{return aE(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),cE(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return aE(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),cE(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,up(n),Cg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function up(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function aE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cE(n){n._nesting--,Cg(n)}function qN(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var vC=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=U({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();function Hu(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=xw(i,a);else if(s==2){let u=a,l=e[++o];r=xw(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var zu=class extends gl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=di(e);return new ta(t,this.ngModule)}};function uE(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let r=n[t];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}function GN(n){let e=n.toLowerCase();return e==="svg"?eI:e==="math"?tM:null}var lp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ju(r);let i=this.injector.get(e,Nf,r);return i!==Nf||t===Nf?i:this.parentInjector.get(e,t,r)}},ta=class extends Bu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=uE(e.inputs);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return uE(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=OR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof zt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new lp(e,o):e,u=a.get(vi,null);if(u===null)throw new O(407,!1);let l=a.get(jN,null),h=a.get(vC,null),p=a.get(ea,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",A=r?K3(y,r,this.componentDef.encapsulation,a):WI(y,C,GN(C)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let N=null;A!==null&&(N=og(A,a,!0));let q=gg(0,null,null,1,0,null,null,null,null,null,null),$=fl(null,q,null,M,null,null,m,y,a,null,N);Xp($);let W,be;try{let K=this.componentDef,E,v=null;K.findHostDirectiveDefs?(E=[],v=new Map,K.findHostDirectiveDefs(K,E,v),E.push(K)):E=[K];let _=WN($,A),I=KN(_,A,K,E,$,m,y);be=Kp(q,qt),A&&JN(y,K,A,r),t!==void 0&&ZN(be,this.ngContentSelectors,t),W=YN(I,K,E,v,$,[XN]),vg(q,$,null)}finally{eg()}return new dp(this.componentType,W,xs(be,$),$,be)}finally{ye(s)}}},dp=class extends ap{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new yi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;yg(s[re],s,i,e,t),this.previousInputValues.set(e,t);let o=Rr(this._tNode.index,s);Eg(o)}}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function WN(n,e){let t=n[re],r=qt;return n[r]=e,ca(t,r,2,"#host",null)}function KN(n,e,t,r,i,s,o){let a=i[re];QN(r,n,e,o);let u=null;e!==null&&(u=og(e,i[As]));let l=s.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=fl(i,iC(t),null,h,i[n.index],n,s,l,null,null,u);return a.firstCreatePass&&ip(a,n,r.length-1),pl(i,p),i[n.index]=p}function QN(n,e,t,r){for(let i of n)e.mergedAttrs=$p(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Hu(e,e.mergedAttrs,!0),t!==null&&XI(r,t,e))}function YN(n,e,t,r,i,s){let o=Pt(),a=i[re],u=Gt(o,i);sC(a,i,o,t,null,r);for(let h=0;h<t.length;h++){let p=o.directiveStart+h,m=mi(i,a,p,o);Tr(m,i)}oC(a,i,o),u&&Tr(u,i);let l=mi(i,a,o.directiveStart+o.componentOffset,o);if(n[Dt]=i[Dt]=l,s!==null)for(let h of s)h(l,e);return hg(a,o,i),l}function JN(n,e,t,r){if(r)jf(n,t,["ng-version","17.3.11"]);else{let{attrs:i,classes:s}=kR(e.selectors[0]);i&&jf(n,t,i),s&&s.length>0&&ZI(n,t,s.join(" "))}}function ZN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function XN(){let n=Pt();ol(ve()[re],n)}var Zn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eP;let n=e;return n})();function eP(){let n=Pt();return wC(n,ve())}var tP=Zn,_C=class extends tP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return xs(this._hostTNode,this._hostLView)}get injector(){return new ui(this._hostTNode,this._hostLView)}get parentInjector(){let e=tg(this._hostTNode,this._hostLView);if(yI(e)){let t=Ou(e,this._hostLView),r=xu(e),i=t[re].data[r+8];return new ui(i,t)}else return new ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=lE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=$u(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Uu(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!YR(e),a;if(o)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new ta(di(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let A=(o?l:this.parentInjector).get(zt,null);A&&(s=A)}let h=di(u.componentType??{}),p=$u(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,Uu(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(aM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[at],l=new _C(u,u[un],u[at]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return wg(o,i,s,r),e.attachToViewContainerRef(),PE(Pf(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=lE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Xo(this._lContainer,t);r&&(Mu(Pf(this._lContainer),t),ll(r[re],r))}detach(e){let t=this._adjustIndex(e,-1),r=Xo(this._lContainer,t);return r&&Mu(Pf(this._lContainer),t)!=null?new yi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function lE(n){return n[Pu]}function Pf(n){return n[Pu]||(n[Pu]=[])}function wC(n,e){let t,r=e[n.index];return Kn(r)?t=r:(t=aC(r,e,null,n),e[n.index]=t,pl(e,t)),rP(t,e,n,r),new _C(t,n,e)}function nP(n,e){let t=n[ct],r=t.createComment(""),i=Gt(e,n),s=lg(t,i);return Vu(t,s,r,L3(t,i),!1),r}var rP=oP,iP=()=>!1;function sP(n,e,t){return iP(n,e,t)}function oP(n,e,t,r){if(n[fi])return;let i;t.type&8?i=In(r):i=nP(e,t),n[fi]=i}var hp=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},fp=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Dg(e,t).matches!==null&&this.queries[t].setDirty()}},pp=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=pP(e):this.predicate=e}},gp=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},mp=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,aP(t,s)),this.matchTNodeWithReadOption(e,t,Tu(t,e,s,!1,!1))}else r===Gn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Tu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Wt||i===Zn||i===Gn&&t.type&4)this.addMatch(t.index,-2);else{let s=Tu(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function aP(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function cP(n,e){return n.type&11?xs(n,e):n.type&4?Ig(n,e):null}function uP(n,e,t,r){return t===-1?cP(e,n):t===-2?lP(n,e,r):mi(n,n[re],t,e)}function lP(n,e,t){if(t===Wt)return xs(e,n);if(t===Gn)return Ig(e,n);if(t===Zn)return wC(e,n)}function EC(n,e,t,r){let i=e[qn].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(uP(e,h,o[u+1],t.metadata.read))}}i.matches=a}return i.matches}function yp(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=EC(n,e,i,t);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=gt;p<h.length;p++){let m=h[p];m[ia]===m[at]&&yp(m[re],m,l,r)}if(h[Rs]!==null){let p=h[Rs];for(let m=0;m<p.length;m++){let y=p[m];yp(y[re],y,l,r)}}}}}return r}function dP(n,e){return n[qn].queries[e].queryList}function hP(n,e,t){let r=new Zf((t&4)===4);return J3(n,e,r,r.destroy),(e[qn]??=new fp).queries.push(new hp(r))-1}function fP(n,e,t,r){let i=Tt();if(i.firstCreatePass){let s=Pt();gP(i,new pp(e,t,r),s.index),mP(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return hP(i,ve(),t)}function pP(n){return n.split(",").map(e=>e.trim())}function gP(n,e,t){n.queries===null&&(n.queries=new gp),n.queries.track(new mp(e,t))}function mP(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Dg(n,e){return n.queries.getByIndex(e)}function yP(n,e){let t=n[re],r=Dg(t,e);return r.crossesNgTemplate?yp(t,n,e,[]):EC(t,n,r,e)}var br=class{},na=class{};var vp=class extends br{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zu(this);let i=$E(e);this._bootstrapComponents=GI(i.bootstrap),this._r3Injector=bI(e,t,[{provide:br,useValue:this},{provide:gl,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_p=class extends na{constructor(e){super(),this.moduleType=e}create(e){return new vp(this.moduleType,e,[])}};var qu=class extends br{constructor(e){super(),this.componentFactoryResolver=new zu(this),this.instance=null;let t=new Wo([...e.providers,{provide:br,useValue:this},{provide:gl,useValue:this.componentFactoryResolver}],e.parent||qp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Tg(n,e,t=null){return new qu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var yl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function IC(n){return bg(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function vP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function bg(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function vl(n,e,t){return n[e]=t}function _P(n,e){return n[e]}function Sr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function wp(n,e,t,r){let i=Sr(n,e,t);return Sr(n,e+1,r)||i}function CC(n,e,t,r,i,s){let o=wp(n,e,t,r);return wp(n,e+2,i,s)||o}function wP(n){return(n.flags&32)===32}function EP(n,e,t,r,i,s,o,a,u){let l=e.consts,h=ca(e,n,4,o||null,Ms(l,a));mg(e,t,h,Ms(l,u)),ol(e,h);let p=h.tView=gg(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function cn(n,e,t,r,i,s,o,a){let u=ve(),l=Tt(),h=n+qt,p=l.firstCreatePass?EP(h,l,u,e,t,r,i,s,o):l.data[h];Ii(p,!1);let m=IP(l,u,p,n);il()&&dl(l,u,m,p),Tr(m,u);let y=aC(m,u,m,p);return u[h]=y,pl(u,y),sP(y,p,u),tl(p)&&fg(l,u,p),o!=null&&pg(u,p,a),cn}var IP=CP;function CP(n,e,t,r){return sl(!0),e[ct].createComment("")}function Xn(n,e,t,r){let i=ve(),s=nl();if(Sr(i,s,e)){let o=Tt(),a=hI();fN(a,i,n,e,t,r)}return Xn}function DP(n,e,t,r){return Sr(n,nl(),t)?e+Yu(t)+r:aa}function Ue(n,e,t){let r=ve(),i=nl();if(Sr(r,i,e)){let s=Tt(),o=hI();tN(s,o,r,n,e,r[ct],t,!1)}return Ue}function dE(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";yg(n,t,s[o],o,r)}var Ep=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function xf(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function TP(n,e,t){let r,i,s=0,o=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let u=n.at(s),l=e[s],h=xf(s,u,s,l,t);if(h!==0){h<0&&n.updateValue(s,l),s++;continue}let p=n.at(o),m=e[a],y=xf(o,p,a,m,t);if(y!==0){y<0&&n.updateValue(o,m),o--,a--;continue}let C=t(s,u),A=t(o,p),M=t(s,l);if(Object.is(M,A)){let N=t(a,m);Object.is(N,C)?(n.swap(s,o),n.updateValue(o,m),a--,o--):n.move(o,s),n.updateValue(s,l),s++;continue}if(r??=new Gu,i??=fE(n,s,o,t),Ip(n,r,s,M))n.updateValue(s,l),s++,o++;else if(i.has(M))r.set(C,n.detach(s)),o--;else{let N=n.create(s,e[s]);n.attach(s,N),s++,o++}}for(;s<=a;)hE(n,r,t,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),u=a.next();for(;!u.done&&s<=o;){let l=n.at(s),h=u.value,p=xf(s,l,s,h,t);if(p!==0)p<0&&n.updateValue(s,h),s++,u=a.next();else{r??=new Gu,i??=fE(n,s,o,t);let m=t(s,h);if(Ip(n,r,s,m))n.updateValue(s,h),s++,o++,u=a.next();else if(!i.has(m))n.attach(s,n.create(s,h)),s++,o++,u=a.next();else{let y=t(s,l);r.set(y,n.detach(s)),o--}}}for(;!u.done;)hE(n,r,t,n.length,u.value),u=a.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(a=>{n.destroy(a)})}function Ip(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function hE(n,e,t,r,i){if(Ip(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function fE(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var Gu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};var Cp=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-gt}};function DC(n){return n}var Dp=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function TC(n,e,t,r,i,s,o,a,u,l,h,p,m){ml("NgControlFlow");let y=u!==void 0,C=ve(),A=a?o.bind(C[on][Dt]):o,M=new Dp(y,A);C[qt+n]=M,cn(n+1,e,t,r,i,s),y&&cn(n+2,u,l,h,p,m)}var Tp=class extends Ep{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-gt}at(e){return this.getLView(e)[Dt].$implicit}attach(e,t){let r=t[Ko];this.needsIndexUpdate||=e!==this.length,wg(this.lContainer,t,e,Uu(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,bP(this.lContainer,e)}create(e,t){let r=$u(this.lContainer,this.templateTNode.tView.ssrId);return _g(this.hostLView,this.templateTNode,new Cp(this.lContainer,t,e),{dehydratedView:r})}destroy(e){ll(e[re],e)}updateValue(e,t){this.getLView(e)[Dt].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Dt].$index=e}getLView(e){return SP(this.lContainer,e)}};function bC(n){let e=ye(null),t=rl();try{let r=ve(),i=r[re],s=r[t];if(s.liveCollection===void 0){let a=t+1,u=pE(r,a),l=gE(i,a);s.liveCollection=new Tp(u,r,l)}else s.liveCollection.reset();let o=s.liveCollection;if(TP(o,n,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=nl(),u=o.length===0;if(Sr(r,a,u)){let l=t+2,h=pE(r,l);if(u){let p=gE(i,l),m=$u(h,p.tView.ssrId),y=_g(r,p,void 0,{dehydratedView:m});wg(h,y,0,Uu(p,m))}else IN(h,0)}}}finally{ye(e)}}function pE(n,e){return n[e]}function bP(n,e){return Xo(n,e)}function SP(n,e){return EN(n,e)}function gE(n,e){return Kp(n,e)}function AP(n,e,t,r,i,s){let o=e.consts,a=Ms(o,i),u=ca(e,n,2,r,a);return mg(e,t,u,Ms(o,s)),u.attrs!==null&&Hu(u,u.attrs,!1),u.mergedAttrs!==null&&Hu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Re(n,e,t,r){let i=ve(),s=Tt(),o=qt+n,a=i[ct],u=s.firstCreatePass?AP(o,s,i,e,t,r):s.data[o],l=RP(s,i,u,a,e,n);i[o]=l;let h=tl(u);return Ii(u,!0),XI(a,l,u),!wP(u)&&il()&&dl(s,i,l,u),dM()===0&&Tr(l,i),hM(),h&&(fg(s,i,u),hg(s,u,i)),r!==null&&pg(i,u),Re}function Me(){let n=Pt();Jp()?sI():(n=n.parent,Ii(n,!1));let e=n;gM(e)&&mM(),fM();let t=Tt();return t.firstCreatePass&&(ol(t,n),Wp(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&RM(e)&&dE(t,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MM(e)&&dE(t,e,ve(),e.stylesWithoutHost,!1),Me}function ut(n,e,t,r){return Re(n,e,t,r),Me(),ut}var RP=(n,e,t,r,i,s)=>(sl(!0),WI(r,i,TM()));function MP(n,e,t,r,i){let s=e.consts,o=Ms(s,r),a=ca(e,n,8,"ng-container",o);o!==null&&Hu(a,o,!0);let u=Ms(s,i);return mg(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function _l(n,e,t){let r=ve(),i=Tt(),s=n+qt,o=i.firstCreatePass?MP(s,i,r,e,t):i.data[s];Ii(o,!0);let a=NP(i,r,o,n);return r[s]=a,il()&&dl(i,r,a,o),Tr(a,r),tl(o)&&(fg(i,r,o),hg(i,o,r)),t!=null&&pg(r,o),_l}function wl(){let n=Pt(),e=Tt();return Jp()?sI():(n=n.parent,Ii(n,!1)),e.firstCreatePass&&(ol(e,n),Wp(n)&&e.queries.elementEnd(n)),wl}var NP=(n,e,t,r)=>(sl(!0),b3(e[ct],""));function ua(){return ve()}var Wu="en-US";var PP=Wu;function xP(n){typeof n=="string"&&(PP=n.toLowerCase().replace(/_/g,"-"))}function dn(n,e,t,r){let i=ve(),s=Tt(),o=Pt();return kP(s,i,i[ct],o,n,e,r),dn}function OP(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Qo],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function kP(n,e,t,r,i,s,o){let a=tl(r),l=n.firstCreatePass&&lC(n),h=e[Dt],p=uC(e),m=!0;if(r.type&3||o){let A=Gt(r,e),M=o?o(A):A,N=p.length,q=o?W=>o(In(W[r.index])):r.index,$=null;if(!o&&a&&($=OP(n,e,i,r.index)),$!==null){let W=$.__ngLastListenerFn__||$;W.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,m=!1}else{s=yE(r,e,h,s,!1);let W=t.listen(M,i,s);p.push(s,W),l&&l.push(i,q,N,N+1)}}else s=yE(r,e,h,s,!1);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let A=C.length;if(A)for(let M=0;M<A;M+=2){let N=C[M],q=C[M+1],be=e[N][q].subscribe(s),K=p.length;p.push(s,be),l&&l.push(i,r.index,K,-(K+1))}}}function mE(n,e,t,r){let i=ye(null);try{return _n(6,e,t),t(r)!==!1}catch(s){return dC(n,s),!1}finally{_n(7,e,t),ye(i)}}function yE(n,e,t,r,i){return function s(o){if(o===Function)return r;let a=n.componentOffset>-1?Rr(n.index,e):e;Eg(a);let u=mE(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)u=mE(e,t,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function hn(n=1){return CM(n)}function Sg(n,e,t,r){fP(n,e,t,r)}function Ag(n){let e=ve(),t=Tt(),r=oI();Zp(r+1);let i=Dg(t,r);if(n.dirty&&oM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=yP(e,r);n.reset(s,BM),n.notifyOnChanges()}return!0}return!1}function Rg(){return dP(ve(),oI())}function FP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Os(n,e=""){let t=ve(),r=Tt(),i=n+qt,s=r.firstCreatePass?ca(r,i,1,e,null):r.data[i],o=LP(r,t,s,e,n);t[i]=o,il()&&dl(r,t,o,s),Ii(s,!1)}var LP=(n,e,t,r,i)=>(sl(!0),D3(e[ct],r));function El(n){return SC("",n,""),El}function SC(n,e,t){let r=ve(),i=DP(r,n,e,t);return i!==aa&&yN(r,rl(),i),SC}function VP(n,e,t){let r=Tt();if(r.firstCreatePass){let i=Ps(n);bp(t,r.data,r.blueprint,i,!0),bp(e,r.data,r.blueprint,i,!1)}}function bp(n,e,t,r,i){if(n=Ct(n),Array.isArray(n))for(let s=0;s<n.length;s++)bp(n[s],e,t,r,i);else{let s=Tt(),o=ve(),a=Pt(),u=Ss(n)?n:Ct(n.provide),l=WE(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ss(n)||!n.multi){let y=new gi(l,i,pe),C=kf(u,e,i?h:h+m,p);C===-1?(Kf(Fu(a,o),s,u),Of(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[C]=y,o[C]=y)}else{let y=kf(u,e,h+m,p),C=kf(u,e,h,h+m),A=y>=0&&t[y],M=C>=0&&t[C];if(i&&!M||!i&&!A){Kf(Fu(a,o),s,u);let N=$P(i?jP:UP,t.length,i,r,l);!i&&M&&(t[C].providerFactory=N),Of(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(N),o.push(N)}else{let N=AC(t[i?C:y],l,!i&&r);Of(s,n,y>-1?y:C,N)}!i&&r&&M&&t[C].componentProviders++}}}function Of(n,e,t,r){let i=Ss(e),s=BR(e);if(i||s){let u=(s?Ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function AC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function kf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function UP(n,e,t,r){return Sp(this.multi,[])}function jP(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=mi(t,t[re],this.providerFactory.index,r);s=a.slice(0,o),Sp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Sp(i,s);return s}function Sp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function $P(n,e,t,r,i){let s=new gi(n,t,pe);return s.multi=[],s.index=e,s.componentProviders=0,AC(s,i,r&&!t),s}function RC(n,e=[]){return t=>{t.providersResolver=(r,i)=>VP(r,i?i(n):n,e)}}var BP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=zE(!1,r.type),s=i.length>0?Tg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=U({token:e,providedIn:"environment",factory:()=>new e(B(zt))});let n=e;return n})();function Il(n){ml("NgStandalone"),n.getStandaloneInjector=e=>e.get(BP).getOrCreateStandaloneInjector(n)}function er(n,e,t,r){return NC(ve(),sa(),n,e,t,r)}function Cl(n,e,t,r,i){return HP(ve(),sa(),n,e,t,r,i)}function MC(n,e,t,r,i,s,o){return zP(ve(),sa(),n,e,t,r,i,s,o)}function Mg(n,e,t,r,i,s,o,a){let u=sa()+n,l=ve(),h=CC(l,u,t,r,i,s);return Sr(l,u+4,o)||h?vl(l,u+5,a?e.call(a,t,r,i,s,o):e(t,r,i,s,o)):_P(l,u+5)}function Ng(n,e){let t=n[e];return t===aa?void 0:t}function NC(n,e,t,r,i,s){let o=e+t;return Sr(n,o,i)?vl(n,o+1,s?r.call(s,i):r(i)):Ng(n,o+1)}function HP(n,e,t,r,i,s,o){let a=e+t;return wp(n,a,i,s)?vl(n,a+2,o?r.call(o,i,s):r(i,s)):Ng(n,a+2)}function zP(n,e,t,r,i,s,o,a,u){let l=e+t;return CC(n,l,i,s,o,a)?vl(n,l+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):Ng(n,l+4)}function PC(n,e){let t=Tt(),r,i=n+qt;t.firstCreatePass?(r=qP(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=li(r.type,!0)),o,a=Mt(pe);try{let u=ku(!1),l=s();return ku(u),FP(t,ve(),i,l),l}finally{Mt(a)}}function qP(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function xC(n,e,t){let r=n+qt,i=ve(),s=sM(i,r);return GP(i,r)?NC(i,sa(),e,s.transform,t,s):s.transform(t)}function GP(n,e){return n[re].data[e].pure}var Ar=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},OC=new Ar("17.3.11"),Dl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var Pg=new X(""),la=new X(""),Tl=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,xg||(WP(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(B(fe),B(bl),B(la))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})(),bl=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return xg?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();function WP(n){xg=n}var xg;function ks(n){return!!n&&typeof n.then=="function"}function Og(n){return!!n&&typeof n.subscribe=="function"}var kC=new X(""),FC=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=L(kC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ks(o))r.push(o);else if(Og(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),kg=new X("");function KP(){nw(()=>{throw new O(600,!1)})}function QP(n){return n.isBoundToModule}function YP(n,e,t){try{let r=t();return ks(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Fs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(SI),this.afterRenderEffectManager=L(vC),this.externalTestViews=new Set,this.beforeRender=new Ce,this.afterTick=new Ce,this.componentTypes=[],this.components=[],this.isStable=L(yl).hasPendingTasks.pipe(ne(r=>!r)),this._injector=L(zt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Bu;if(!this._injector.get(FC).done){let y=!s&&jE(r),C=!1;throw new O(405,C)}let a;s?a=r:a=this._injector.get(gl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=QP(a)?void 0:this._injector.get(br),l=i||a.selector,h=a.create(ln.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(Pg,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Ff(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new O(101,!1);let i=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ye(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===fC)throw new O(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:u}of this._views)JP(a,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ap(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ap(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ff(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(kg,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ff(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new O(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Ff(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JP(n,e,t){!e&&!Ap(n)||ZP(n,t,e)}function Ap(n){return Yp(n)}function ZP(n,e,t){let r;t?(r=0,n[Z]|=1024):n[Z]&64?r=0:r=1,pC(n,e,r)}var Rp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Fg=(()=>{let e=class e{compileModuleSync(r){return new _p(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=$E(r),o=GI(s.declarations).reduce((a,u)=>{let l=di(u);return l&&a.push(new ta(l)),a},[]);return new Rp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var XP=(()=>{let e=class e{constructor(){this.zone=L(fe),this.applicationRef=L(Fs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function ex(n){return[{provide:fe,useFactory:n},{provide:bs,multi:!0,useFactory:()=>{let e=L(XP,{optional:!0});return()=>e.initialize()}},{provide:bs,multi:!0,useFactory:()=>{let e=L(ix);return()=>{e.initialize()}}},{provide:SI,useFactory:tx}]}function tx(){let n=L(fe),e=L(an);return t=>n.runOutsideAngular(()=>e.handleError(t))}function nx(n){let e=ex(()=>new fe(rx(n)));return bn([[],e])}function rx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var ix=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=L(fe),this.pendingTasks=L(yl)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function sx(){return typeof $localize<"u"&&$localize.locale||Wu}var Lg=new X("",{providedIn:"root",factory:()=>L(Lg,le.Optional|le.SkipSelf)||sx()});var LC=new X("");var Su=null;function ox(n=[],e){return ln.create({name:e,providers:[{provide:Zu,useValue:"platform"},{provide:LC,useValue:new Set([()=>Su=null])},...n]})}function ax(n=[]){if(Su)return Su;let e=ox(n);return Su=e,KP(),cx(e),e}function cx(n){n.get(rg,null)?.forEach(t=>t())}function VC(){return!1}var Nr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ux;let n=e;return n})();function ux(n){return lx(Pt(),ve(),(n&16)===16)}function lx(n,e,t){if(el(n)&&!t){let r=Rr(n.index,e);return new yi(r,r)}else if(n.type&47){let r=e[on];return new yi(r,e)}return null}var Mp=class{constructor(){}supports(e){return IC(e)}create(e){return new Np(e)}},dx=(n,e)=>e,Np=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dx}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<vE(r,i,s)?t:r,a=vE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,C=y+m;h<=C&&C<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!IC(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,vP(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Pp(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ku),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ku),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Pp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},xp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ku=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new xp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Op=class{constructor(){}supports(e){return e instanceof Map||bg(e)}create(){return new kp}},kp=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||bg(e)))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Fp(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Fp=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function _E(){return new Vg([new Mp])}var Vg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||_E()),deps:[[e,new Up,new mt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new O(901,!1)}};e.\u0275prov=U({token:e,providedIn:"root",factory:_E});let n=e;return n})();function wE(){return new Ug([new Op])}var Ug=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||wE()),deps:[[e,new Up,new mt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new O(901,!1)}};e.\u0275prov=U({token:e,providedIn:"root",factory:wE});let n=e;return n})();var UC=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(B(Fs))},e.\u0275mod=Dn({type:e}),e.\u0275inj=Cn({});let n=e;return n})();function jC(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=ax(r),s=[nx(),...t||[]],a=new qu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(fe);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(an,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(LC);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),YP(l,u,()=>{let y=a.get(FC);return y.runInitializers(),y.donePromise.then(()=>{let C=a.get(Lg,Wu);xP(C||Wu);let A=a.get(Fs);return e!==void 0&&A.bootstrap(e),A})})})}catch(e){return Promise.reject(e)}}function jg(n){let e=ye(null);try{return n()}finally{ye(e)}}var WC=null;function Ti(){return WC}function KC(n){WC??=n}var Sl=class{};var xt=new X(""),QC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>L(px),providedIn:"platform"});let n=e;return n})();var px=(()=>{let e=class e extends QC{constructor(){super(),this._doc=L(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ti().getBaseHref(this._doc)}onPopState(r){let i=Ti().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ti().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function YC(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function $C(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Di(n){return n&&n[0]!=="?"?"?"+n:n}var da=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>L(JC),providedIn:"root"});let n=e;return n})(),gx=new X(""),JC=(()=>{let e=class e extends da{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??L(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return YC(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Di(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Di(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Di(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(QC),B(gx,8))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ha=(()=>{let e=class e{constructor(r){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=vx($C(BC(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Di(i))}normalize(r){return e.stripTrailingSlash(yx(this._basePath,BC(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Di(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Di(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Di,e.joinWithSlash=YC,e.stripTrailingSlash=$C,e.\u0275fac=function(i){return new(i||e)(B(da))},e.\u0275prov=U({token:e,factory:()=>mx(),providedIn:"root"});let n=e;return n})();function mx(){return new ha(B(da))}function yx(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function BC(n){return n.replace(/\/index.html$/,"")}function vx(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function ZC(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var $g=/\s+/,HC=[],Gg=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=HC,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split($g):HC}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split($g):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split($g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(pe(Wt),pe(Ci))},e.\u0275dir=Tn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[zn.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var Bg=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wg=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Bg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),zC(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);zC(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(pe(Zn),pe(Gn),pe(Vg))},e.\u0275dir=Tn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function zC(n,e){n.context.$implicit=e.item}var Kg=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Hg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){qC("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){qC("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(pe(Zn),pe(Gn))},e.\u0275dir=Tn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),Hg=class{constructor(){this.$implicit=null,this.ngIf=null}};function qC(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Nt(e)}'.`)}var Rl=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:Mr.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(pe(Wt),pe(Ug),pe(Ci))},e.\u0275dir=Tn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),XC=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(pe(Zn))},e.\u0275dir=Tn({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ei]});let n=e;return n})();function _x(n,e){return new O(2100,!1)}var zg=class{createSubscription(e,t){return jg(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){jg(()=>e.unsubscribe())}},qg=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},wx=new qg,Ex=new zg,eD=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(ks(r))return wx;if(Og(r))return Ex;throw _x(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(pe(Nr,16))},e.\u0275pipe=LE({name:"async",type:e,pure:!1,standalone:!0});let n=e;return n})();var Ls=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=Cn({});let n=e;return n})(),Qg="browser",Ix="server";function Ml(n){return n===Qg}function Yg(n){return n===Ix}var Al=class{};var Xg=class extends Sl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},em=class n extends Xg{static makeCurrent(){KC(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Cx();return t==null?null:Dx(t)}resetBaseElement(){fa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ZC(document.cookie,e)}},fa=null;function Cx(){return fa=fa||document.querySelector("base"),fa?fa.getAttribute("href"):null}function Dx(n){return new URL(n,document.baseURI).pathname}var tm=class{addToWindow(e){pt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new O(5103,!1);return s},pt.getAllAngularTestabilities=()=>e.getAllTestabilities(),pt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=pt.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};pt.frameworkStabilizers||(pt.frameworkStabilizers=[]),pt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?Ti().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},Tx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})(),nm=new X(""),iD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(B(nm),B(fe))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})(),Nl=class{constructor(e){this._doc=e}},Jg="ng-app-id",sD=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yg(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Jg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Jg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Jg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(B(xt),B(al),B(sg,8),B(Kt))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})(),Zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},im=/%COMP%/g,oD="%COMP%",bx=`_nghost-${oD}`,Sx=`_ngcontent-${oD}`,Ax=!0,Rx=new X("",{providedIn:"root",factory:()=>Ax});function Mx(n){return Sx.replace(im,n)}function Nx(n){return bx.replace(im,n)}function aD(n,e){return e.map(t=>t.replace(im,n))}var Pl=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Yg(u),this.defaultRenderer=new pa(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===En.ShadowDom&&(i=Oe(F({},i),{encapsulation:En.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof xl?s.applyToHost(r):s instanceof ga&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case En.Emulated:o=new xl(l,h,i,this.appId,p,a,u,m);break;case En.ShadowDom:return new rm(l,h,r,i,a,u,this.nonce,m);default:o=new ga(l,h,i,p,a,u,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(B(iD),B(sD),B(al),B(Rx),B(xt),B(Kt),B(fe),B(sg))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})(),pa=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Zg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(nD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(nD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Zg[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Zg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Mr.DashCase|Mr.Important)?e.style.setProperty(t,r,i&Mr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Ti().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function nD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var rm=class extends pa{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=aD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ga=class extends pa{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?aD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xl=class extends ga{constructor(e,t,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,t,r,s,o,a,u,l),this.contentAttr=Mx(l),this.hostAttr=Nx(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Px=(()=>{let e=class e extends Nl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(B(xt))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})(),rD=["alt","control","meta","shift"],xx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ox={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},kx=(()=>{let e=class e extends Nl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ti().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),rD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=xx[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),rD.forEach(a=>{if(a!==s){let u=Ox[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(B(xt))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})();function cD(n,e){return jC(F({rootComponent:n},Fx(e)))}function Fx(n){return{appProviders:[...uD,...n?.providers??[]],platformProviders:jx}}function Lx(){em.makeCurrent()}function Vx(){return new an}function Ux(){return OI(document),document}var jx=[{provide:Kt,useValue:Qg},{provide:rg,useValue:Lx,multi:!0},{provide:xt,useFactory:Ux,deps:[]}];var $x=new X(""),Bx=[{provide:la,useClass:tm,deps:[]},{provide:Pg,useClass:Tl,deps:[fe,bl,la]},{provide:Tl,useClass:Tl,deps:[fe,bl,la]}],uD=[{provide:Zu,useValue:"root"},{provide:an,useFactory:Vx,deps:[]},{provide:nm,useClass:Px,multi:!0,deps:[xt,fe,Kt]},{provide:nm,useClass:kx,multi:!0,deps:[xt]},Pl,sD,iD,{provide:vi,useExisting:Pl},{provide:Al,useClass:Tx,deps:[]},[]],lD=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:al,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(B($x,12))},e.\u0275mod=Dn({type:e}),e.\u0275inj=Cn({providers:[...uD,...Bx],imports:[Ls,UC]});let n=e;return n})();var dD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(B(xt))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var oe="primary",Ra=Symbol("RouteTitle"),um=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Bs(n){return new um(n)}function zx(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sn(n[t],e[t]))return!1;return!0}function Sn(n,e){let t=n?lm(n):void 0,r=e?lm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!yD(n[i],e[i]))return!1;return!0}function lm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function vD(n){return n.length>0?n[n.length-1]:null}function Fr(n){return vf(n)?n:ks(n)?Fe(Promise.resolve(n)):J(n)}var Gx={exact:wD,subset:ED},_D={exact:Wx,subset:Kx,ignored:()=>!0};function hD(n,e,t){return Gx[t.paths](n.root,e.root,t.matrixParams)&&_D[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Wx(n,e){return Sn(n,e)}function wD(n,e,t){if(!Si(n.segments,e.segments)||!Fl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!wD(n.children[r],e.children[r],t))return!1;return!0}function Kx(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yD(n[t],e[t]))}function ED(n,e,t){return ID(n,e,e.segments,t)}function ID(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Si(i,t)||e.hasChildren()||!Fl(i,t,r))}else if(n.segments.length===t.length){if(!Si(n.segments,t)||!Fl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ED(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Si(n.segments,i)||!Fl(n.segments,i,r)||!n.children[oe]?!1:ID(n.children[oe],e,s,r)}}function Fl(n,e,t){return e.every((r,i)=>_D[t](n[i].parameters,r.parameters))}var xr=class{constructor(e=new De([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bs(this.queryParams),this._queryParamMap}toString(){return Jx.serialize(this)}},De=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ll(this)}},bi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Bs(this.parameters),this._parameterMap}toString(){return DD(this)}};function Qx(n,e){return Si(n,e)&&n.every((t,r)=>Sn(t.parameters,e[r].parameters))}function Si(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Yx(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}var Fm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>new Ul,providedIn:"root"});let n=e;return n})(),Ul=class{parse(e){let t=new hm(e);return new xr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ma(e.root,!0)}`,r=e4(e.queryParams),i=typeof e.fragment=="string"?`#${Zx(e.fragment)}`:"";return`${t}${r}${i}`}},Jx=new Ul;function Ll(n){return n.segments.map(e=>DD(e)).join("/")}function ma(n,e){if(!n.hasChildren())return Ll(n);if(e){let t=n.children[oe]?ma(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==oe&&r.push(`${i}:${ma(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Yx(n,(r,i)=>i===oe?[ma(n.children[oe],!1)]:[`${i}:${ma(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Ll(n)}/${t[0]}`:`${Ll(n)}/(${t.join("//")})`}}function CD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ol(n){return CD(n).replace(/%3B/gi,";")}function Zx(n){return encodeURI(n)}function dm(n){return CD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vl(n){return decodeURIComponent(n)}function fD(n){return Vl(n.replace(/\+/g,"%20"))}function DD(n){return`${dm(n.path)}${Xx(n.parameters)}`}function Xx(n){return Object.entries(n).map(([e,t])=>`;${dm(e)}=${dm(t)}`).join("")}function e4(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ol(t)}=${Ol(i)}`).join("&"):`${Ol(t)}=${Ol(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var t4=/^[^\/()?;#]+/;function sm(n){let e=n.match(t4);return e?e[0]:""}var n4=/^[^\/()?;=#]+/;function r4(n){let e=n.match(n4);return e?e[0]:""}var i4=/^[^=?&#]+/;function s4(n){let e=n.match(i4);return e?e[0]:""}var o4=/^[^&#]+/;function a4(n){let e=n.match(o4);return e?e[0]:""}var hm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new De(e,t)),r}parseSegment(){let e=sm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new bi(Vl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=r4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=sm(this.remaining);i&&(r=i,this.capture(r))}e[Vl(t)]=Vl(r)}parseQueryParam(e){let t=s4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=a4(this.remaining);o&&(r=o,this.capture(r))}let i=fD(t),s=fD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[oe]:new De([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function TD(n){return n.segments.length>0?new De([],{[oe]:n}):n}function bD(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=bD(i);if(r===oe&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new De(n.segments,e);return c4(t)}function c4(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new De(n.segments.concat(e.segments),e.children)}return n}function Hs(n){return n instanceof xr}function u4(n,e,t=null,r=null){let i=SD(n);return AD(i,e,t,r)}function SD(n){let e;function t(s){let o={};for(let u of s.children){let l=t(u);o[u.outlet]=l}let a=new De(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=TD(r);return e??i}function AD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return om(i,i,i,t,r);let s=l4(e);if(s.toRoot())return om(i,i,new De([],{}),t,r);let o=d4(s,i,n),a=o.processChildren?_a(o.segmentGroup,o.index,s.commands):MD(o.segmentGroup,o.index,s.commands);return om(i,o.segmentGroup,a,t,r)}function jl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ia(n){return typeof n=="object"&&n!=null&&n.outlets}function om(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;n===e?o=t:o=RD(n,e,t);let a=TD(bD(o));return new xr(a,s,i)}function RD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=RD(s,e,t)}),new De(n.segments,r)}var $l=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jl(r[0]))throw new O(4003,!1);let i=r.find(Ia);if(i&&i!==vD(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function l4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new $l(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new $l(t,e,r)}var js=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function d4(n,e,t){if(n.isAbsolute)return new js(e,!0,0);if(!t)return new js(e,!1,NaN);if(t.parent===null)return new js(t,!0,0);let r=jl(n.commands[0])?0:1,i=t.segments.length-1+r;return h4(t,i,n.numberOfDoubleDots)}function h4(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new js(r,!1,i-s)}function f4(n){return Ia(n[0])?n[0].outlets:{[oe]:n}}function MD(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return _a(n,e,t);let r=p4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new De(n.segments.slice(0,r.pathIndex),{});return s.children[oe]=new De(n.segments.slice(r.pathIndex),n.children),_a(s,0,i)}else return r.match&&i.length===0?new De(n.segments,{}):r.match&&!n.hasChildren()?fm(n,e,t):r.match?_a(n,0,i):fm(n,e,t)}function _a(n,e,t){if(t.length===0)return new De(n.segments,{});{let r=f4(t),i={};if(Object.keys(r).some(s=>s!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let s=_a(n.children[oe],e,t);return new De(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=MD(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new De(n.segments,i)}}function p4(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Ia(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!gD(u,l,o))return s;r+=2}else{if(!gD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function fm(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Ia(s)){let u=g4(s.outlets);return new De(r,u)}if(i===0&&jl(t[0])){let u=n.segments[e];r.push(new bi(u.path,pD(t[0]))),i++;continue}let o=Ia(s)?s.outlets[oe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&jl(a)?(r.push(new bi(o,pD(a))),i+=2):(r.push(new bi(o,{})),i++)}return new De(r,{})}function g4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=fm(new De([],{}),0,r))}),e}function pD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gD(n,e,t){return n==t.path&&Sn(e,t.parameters)}var wa="imperative",lt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(lt||{}),Qt=class{constructor(e,t){this.id=e,this.url=t}},Ai=class extends Qt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=lt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ri=class extends Qt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Lt||{}),pm=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(pm||{}),Or=class extends Qt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mi=class extends Qt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=lt.NavigationSkipped}},Ca=class extends Qt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bl=class extends Qt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gm=class extends Qt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mm=class extends Qt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ym=class extends Qt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vm=class extends Qt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_m=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wm=class{constructor(e){this.route=e,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Em=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Im=class{constructor(e){this.snapshot=e,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cm=class{constructor(e){this.snapshot=e,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dm=class{constructor(e){this.snapshot=e,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Da=class{},Ta=class{constructor(e){this.url=e}};var Tm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kl,this.attachRef=null}},Kl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Tm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Hl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=bm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=bm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Sm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Sm(e,this._root).map(t=>t.value)}};function bm(n,e){if(n===e.value)return e;for(let t of e.children){let r=bm(n,t);if(r)return r}return null}function Sm(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Sm(n,t);if(r.length)return r.unshift(e),r}return[]}var Ft=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Us(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var zl=class extends Hl{constructor(e,t){super(e),this.snapshot=t,Vm(this,e)}toString(){return this.snapshot.toString()}};function ND(n){let e=m4(n),t=new ot([new bi("",{})]),r=new ot({}),i=new ot({}),s=new ot({}),o=new ot(""),a=new kr(t,r,s,o,i,oe,n,e.root);return a.snapshot=e.root,new zl(new Ft(a,[]),e)}function m4(n){let e={},t={},r={},i="",s=new ba([],e,r,i,t,oe,n,null,{});return new ql("",new Ft(s,[]))}var kr=class{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[Ra]))??J(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Bs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Bs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lm(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&xD(i)&&(r.resolve[Ra]=i.title),r}var ba=class{get title(){return this.data?.[Ra]}constructor(e,t,r,i,s,o,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ql=class extends Hl{constructor(e,t){super(t),this.url=e,Vm(this,t)}toString(){return PD(this._root)}};function Vm(n,e){e.value._routerState=n,e.children.forEach(t=>Vm(n,t))}function PD(n){let e=n.children.length>0?` { ${n.children.map(PD).join(", ")} } `:"";return`${n.value}${e}`}function am(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Sn(e.params,t.params)||n.paramsSubject.next(t.params),qx(e.url,t.url)||n.urlSubject.next(t.url),Sn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Am(n,e){let t=Sn(n.params,e.params)&&Qx(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Am(n.parent,e.parent))}function xD(n){return typeof n.title=="string"||n.title===null}var y4=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=L(Kl),this.location=L(Zn),this.changeDetector=L(Nr),this.environmentInjector=L(zt),this.inputBinder=L(Um,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Rm(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Tn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ei]});let n=e;return n})(),Rm=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===kr?this.route:e===Kl?this.childContexts:this.parent.get(e,t)}},Um=new X("");function v4(n,e,t){let r=Sa(n,e._root,t?t._root:void 0);return new zl(r,e)}function Sa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=_4(n,e,t);return new Ft(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Sa(n,a)),o}}let r=w4(e.value),i=e.children.map(s=>Sa(n,s));return new Ft(r,i)}}function _4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Sa(n,r,i);return Sa(n,r)})}function w4(n){return new kr(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}var OD="ngNavigationCancelingError";function kD(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Hs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=FD(!1,Lt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function FD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[OD]=!0,t.cancellationCode=e,t}function E4(n){return LD(n)&&Hs(n.url)}function LD(n){return!!n&&n[OD]}var I4=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_i({type:e,selectors:[["ng-component"]],standalone:!0,features:[Il],decls:1,vars:0,template:function(i,s){i&1&&ut(0,"router-outlet")},dependencies:[y4],encapsulation:2});let n=e;return n})();function C4(n,e){return n.providers&&!n._injector&&(n._injector=Tg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function jm(n){let e=n.children&&n.children.map(jm),t=e?Oe(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=I4),t}function An(n){return n.outlet||oe}function D4(n,e){let t=n.filter(r=>An(r)===e);return t.push(...n.filter(r=>An(r)!==e)),t}function Ma(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var T4=(n,e,t,r)=>ne(i=>(new Mm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Mm=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),am(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Us(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Us(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Dm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Im(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(am(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),am(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ma(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Gl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$s=class{constructor(e,t){this.component=e,this.route=t}};function b4(n,e,t){let r=n._root,i=e?e._root:null;return ya(r,i,t,[r.value])}function S4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function qs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!TE(n)?n:e.get(n):r}function ya(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Us(e);return n.children.forEach(o=>{A4(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ea(a,t.getContext(o),i)),i}function A4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=R4(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ya(n,e,a?a.children:null,r,i):ya(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $s(a.outlet.component,o))}else o&&Ea(e,a,i),i.canActivateChecks.push(new Gl(r)),s.component?ya(n,null,a?a.children:null,r,i):ya(n,null,t,r,i);return i}function R4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Si(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Si(n.url,e.url)||!Sn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Am(n,e)||!Sn(n.queryParams,e.queryParams);case"paramsChange":default:return!Am(n,e)}}function Ea(n,e,t){let r=Us(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ea(o,e.children.getContext(s),t):Ea(o,null,t):Ea(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $s(e.outlet.component,i)):t.canDeactivateChecks.push(new $s(null,i)):t.canDeactivateChecks.push(new $s(null,i))}function Na(n){return typeof n=="function"}function M4(n){return typeof n=="boolean"}function N4(n){return n&&Na(n.canLoad)}function P4(n){return n&&Na(n.canActivate)}function x4(n){return n&&Na(n.canActivateChild)}function O4(n){return n&&Na(n.canDeactivate)}function k4(n){return n&&Na(n.canMatch)}function VD(n){return n instanceof Hn||n?.name==="EmptyError"}var kl=Symbol("INITIAL_VALUE");function zs(){return Qe(n=>du(n.map(e=>e.pipe(nt(1),yu(kl)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===kl)return kl;if(t===!1||t instanceof xr)return t}return!0}),He(e=>e!==kl),nt(1)))}function F4(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?J(Oe(F({},t),{guardsResult:!0})):L4(o,r,i,n).pipe(Ve(a=>a&&M4(a)?V4(r,s,n,e):J(a)),ne(a=>Oe(F({},t),{guardsResult:a})))})}function L4(n,e,t,r){return Fe(n).pipe(Ve(i=>H4(i.component,i.route,t,e,r)),Rt(i=>i!==!0,!0))}function V4(n,e,t,r){return Fe(e).pipe(_s(i=>wr(j4(i.route.parent,r),U4(i.route,r),B4(n,i.path,t),$4(n,i.route,t))),Rt(i=>i!==!0,!0))}function U4(n,e){return n!==null&&e&&e(new Cm(n)),J(!0)}function j4(n,e){return n!==null&&e&&e(new Em(n)),J(!0)}function $4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(s=>hu(()=>{let o=Ma(e)??t,a=qs(s,o),u=P4(a)?a.canActivate(e,n):wi(o,()=>a(e,n));return Fr(u).pipe(Rt())}));return J(i).pipe(zs())}function B4(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>S4(o)).filter(o=>o!==null).map(o=>hu(()=>{let a=o.guards.map(u=>{let l=Ma(o.node)??t,h=qs(u,l),p=x4(h)?h.canActivateChild(r,n):wi(l,()=>h(r,n));return Fr(p).pipe(Rt())});return J(a).pipe(zs())}));return J(s).pipe(zs())}function H4(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);let o=s.map(a=>{let u=Ma(e)??i,l=qs(a,u),h=O4(l)?l.canDeactivate(n,e,t,r):wi(u,()=>l(n,e,t,r));return Fr(h).pipe(Rt())});return J(o).pipe(zs())}function z4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let s=i.map(o=>{let a=qs(o,n),u=N4(a)?a.canLoad(e,t):wi(n,()=>a(e,t));return Fr(u)});return J(s).pipe(zs(),UD(r))}function UD(n){return Qc(ee(e=>{if(Hs(e))throw kD(n,e)}),ne(e=>e===!0))}function q4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let s=i.map(o=>{let a=qs(o,n),u=k4(a)?a.canMatch(e,t):wi(n,()=>a(e,t));return Fr(u)});return J(s).pipe(zs(),UD(r))}var Aa=class{constructor(e){this.segmentGroup=e||null}},Wl=class extends Error{constructor(e){super(),this.urlTree=e}};function Vs(n){return vs(new Aa(n))}function G4(n){return vs(new O(4e3,!1))}function W4(n){return vs(FD(!1,Lt.GuardRejected))}var Nm=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[oe])return G4(e.redirectTo);i=i.children[oe]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new Wl(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new xr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new De(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Pm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K4(n,e,t,r,i){let s=$m(n,e,t);return s.matched?(r=C4(e,r),q4(r,e,t,i).pipe(ne(o=>o===!0?s:F({},Pm)))):J(s)}function $m(n,e,t){if(e.path==="**")return Q4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},Pm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zx)(t,n,e);if(!i)return F({},Pm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Q4(n){return{matched:!0,parameters:n.length>0?vD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mD(n,e,t,r){return t.length>0&&Z4(n,t,r)?{segmentGroup:new De(e,J4(r,new De(t,n.children))),slicedSegments:[]}:t.length===0&&X4(n,t,r)?{segmentGroup:new De(n.segments,Y4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function Y4(n,e,t,r){let i={};for(let s of t)if(Ql(n,e,s)&&!r[An(s)]){let o=new De([],{});i[An(s)]=o}return F(F({},r),i)}function J4(n,e){let t={};t[oe]=e;for(let r of n)if(r.path===""&&An(r)!==oe){let i=new De([],{});t[An(r)]=i}return t}function Z4(n,e,t){return t.some(r=>Ql(n,e,r)&&An(r)!==oe)}function X4(n,e,t){return t.some(r=>Ql(n,e,r))}function Ql(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function e9(n,e,t,r){return An(n)!==r&&(r===oe||!Ql(e,t,n))?!1:$m(e,n,t).matched}function t9(n,e,t){return e.length===0&&!n.children[t]}var xm=class{};function n9(n,e,t,r,i,s,o="emptyOnly"){return new Om(n,e,t,r,i,o,s).recognize()}var r9=31,Om=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Nm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=mD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(t=>{let r=new ba([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,{}),i=new Ft(r,t),s=new ql("",i),o=u4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,oe).pipe(Er(r=>{if(r instanceof Wl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Aa?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=Lm(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(ne(s=>s instanceof Ft?[s]:[]))}processChildren(e,t,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Fe(i).pipe(_s(s=>{let o=r.children[s],a=D4(t,s);return this.processSegmentGroup(e,a,o,s)}),gu((s,o)=>(s.push(...o),s)),Ir(null),If(),Ve(s=>{if(s===null)return Vs(r);let o=jD(s);return i9(o),J(o)}))}processSegment(e,t,r,i,s,o){return Fe(t).pipe(_s(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Er(u=>{if(u instanceof Aa)return J(null);throw u}))),Rt(a=>!!a),Er(a=>{if(VD(a))return t9(r,i,s)?J(new xm):Vs(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return e9(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Vs(i):Vs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=$m(t,i,s);if(!a)return Vs(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>r9&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ve(m=>this.processSegment(e,r,t,m.concat(h),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){let o=K4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),o.pipe(Qe(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Qe(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,y=new ba(h,m,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,o9(r),An(r),r.component??r._loadedComponent??null,r,a9(r)),{segmentGroup:C,slicedSegments:A}=mD(t,h,p,u);if(A.length===0&&C.hasChildren())return this.processChildren(l,u,C).pipe(ne(N=>N===null?null:new Ft(y,N)));if(u.length===0&&A.length===0)return J(new Ft(y,[]));let M=An(r)===s;return this.processSegment(l,u,C,A,M?oe:s,!0).pipe(ne(N=>new Ft(y,N instanceof Ft?[N]:[])))}))):Vs(t)))}getChildConfig(e,t,r){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):z4(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(ee(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):W4(t))):J({routes:[],injector:e})}};function i9(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function s9(n){let e=n.value.routeConfig;return e&&e.path===""}function jD(n){let e=[],t=new Set;for(let r of n){if(!s9(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=jD(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!t.has(r))}function o9(n){return n.data||{}}function a9(n){return n.resolve||{}}function c9(n,e,t,r,i,s){return Ve(o=>n9(n,e,t,r,o.extractedUrl,i,s).pipe(ne(({state:a,tree:u})=>Oe(F({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function u9(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return J(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of $D(u))o.add(l);let a=0;return Fe(o).pipe(_s(u=>s.has(u)?l9(u,r,n,e):(u.data=Lm(u,u.parent,n).resolve,J(void 0))),ee(()=>a++),ws(1),Ve(u=>a===o.size?J(t):It))})}function $D(n){let e=n.children.map(t=>$D(t)).flat();return[n,...e]}function l9(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!xD(i)&&(s[Ra]=i.title),d9(s,n,e,r).pipe(ne(o=>(n._resolvedData=o,n.data=Lm(n,n.parent,t).resolve,null)))}function d9(n,e,t,r){let i=lm(n);if(i.length===0)return J({});let s={};return Fe(i).pipe(Ve(o=>h9(n[o],e,t,r).pipe(Rt(),ee(a=>{s[o]=a}))),ws(1),Bo(s),Er(o=>VD(o)?It:vs(o)))}function h9(n,e,t,r){let i=Ma(e)??r,s=qs(n,i),o=s.resolve?s.resolve(e,t):wi(i,()=>s(e,t));return Fr(o)}function cm(n){return Qe(e=>{let t=n(e);return t?Fe(t).pipe(ne(()=>e)):J(e)})}var BD=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===oe);return i}getResolvedTitleForRoute(r){return r.data[Ra]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>L(f9),providedIn:"root"});let n=e;return n})(),f9=(()=>{let e=class e extends BD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(B(dD))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Bm=new X("",{providedIn:"root",factory:()=>({})}),Hm=new X(""),p9=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Fg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return J(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Fr(r.loadComponent()).pipe(ne(HD),ee(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ho(()=>{this.componentLoaders.delete(r)})),s=new hs(i,()=>new Ce).pipe(ds());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=g9(i,this.compiler,r,this.onLoadEndListener).pipe(Ho(()=>{this.childrenLoaders.delete(i)})),a=new hs(o,()=>new Ce).pipe(ds());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function g9(n,e,t,r){return Fr(n.loadChildren()).pipe(ne(HD),Ve(i=>i instanceof na||Array.isArray(i)?J(i):Fe(e.compileModuleAsync(i))),ne(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Hm,[],{optional:!0,self:!0}).flat()),{routes:o.map(jm),injector:s}}))}function m9(n){return n&&typeof n=="object"&&"default"in n}function HD(n){return m9(n)?n.default:n}var zm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>L(y9),providedIn:"root"});let n=e;return n})(),y9=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),v9=new X("");var _9=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ce,this.transitionAbortSubject=new Ce,this.configLoader=L(p9),this.environmentInjector=L(zt),this.urlSerializer=L(Fm),this.rootContexts=L(Kl),this.location=L(ha),this.inputBindingEnabled=L(Um,{optional:!0})!==null,this.titleStrategy=L(BD),this.options=L(Bm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(zm),this.createViewTransition=L(v9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let r=s=>this.events.next(new _m(s)),i=s=>this.events.next(new wm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Oe(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ot({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(He(o=>o.id!==0),ne(o=>Oe(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qe(o=>{let a=!1,u=!1;return J(o).pipe(Qe(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Lt.SupersededByNewNavigation),It;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Oe(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Mi(l.id,this.urlSerializer.serialize(l.rawUrl),m,pm.IgnoredSameUrlNavigation)),l.resolve(null),It}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return J(l).pipe(Qe(m=>{let y=this.transitions?.getValue();return this.events.next(new Ai(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?It:Promise.resolve(m)}),c9(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ee(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Oe(F({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Bl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:C,restoredState:A,extras:M}=l,N=new Ai(m,this.urlSerializer.serialize(y),C,A);this.events.next(N);let q=ND(this.rootComponentType).snapshot;return this.currentTransition=o=Oe(F({},l),{targetSnapshot:q,urlAfterRedirects:y,extras:Oe(F({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,J(o)}else{let m="";return this.events.next(new Mi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,pm.IgnoredByUrlHandlingStrategy)),l.resolve(null),It}}),ee(l=>{let h=new gm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ne(l=>(this.currentTransition=o=Oe(F({},l),{guards:b4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),F4(this.environmentInjector,l=>this.events.next(l)),ee(l=>{if(o.guardsResult=l.guardsResult,Hs(l.guardsResult))throw kD(this.urlSerializer,l.guardsResult);let h=new mm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),He(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Lt.GuardRejected),!1)),cm(l=>{if(l.guards.canActivateChecks.length)return J(l).pipe(ee(h=>{let p=new ym(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Qe(h=>{let p=!1;return J(h).pipe(u9(this.paramsInheritanceStrategy,this.environmentInjector),ee({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Lt.NoDataFromResolver)}}))}),ee(h=>{let p=new vm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),cm(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(ee(y=>{p.component=y}),ne(()=>{})));for(let y of p.children)m.push(...h(y));return m};return du(h(l.targetSnapshot.root)).pipe(Ir(null),nt(1))}),cm(()=>this.afterPreactivation()),Qe(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Fe(p).pipe(ne(()=>o)):J(o)}),ne(l=>{let h=v4(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Oe(F({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),ee(()=>{this.events.next(new Da)}),T4(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),nt(1),ee({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ri(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Cf(this.transitionAbortSubject.pipe(ee(l=>{throw l}))),Ho(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Lt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Er(l=>{if(u=!0,LD(l))this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),E4(l)?this.events.next(new Ta(l.url)):o.resolve(!1);else{this.events.next(new Ca(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return It}))}))}cancelNavigationTransition(r,i,s){let o=new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function w9(n){return n!==wa}var E9=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>L(I9),providedIn:"root"});let n=e;return n})(),km=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},I9=(()=>{let e=class e extends km{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ng(e)))(s||e)}})(),e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),zD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>L(C9),providedIn:"root"});let n=e;return n})(),C9=(()=>{let e=class e extends zD{constructor(){super(...arguments),this.location=L(ha),this.urlSerializer=L(Fm),this.options=L(Bm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(zm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ND(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ai)this.stateMemento=this.createStateMemento();else if(r instanceof Mi)this.rawUrlTree=i.initialUrl;else if(r instanceof Bl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Da?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Or&&(r.code===Lt.GuardRejected||r.code===Lt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ca?this.restoreHistory(i,!0):r instanceof Ri&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ng(e)))(s||e)}})(),e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),va=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(va||{});function D9(n,e){n.events.pipe(He(t=>t instanceof Ri||t instanceof Or||t instanceof Ca||t instanceof Mi),ne(t=>t instanceof Ri||t instanceof Mi?va.COMPLETE:(t instanceof Or?t.code===Lt.Redirect||t.code===Lt.SupersededByNewNavigation:!1)?va.REDIRECTING:va.FAILED),He(t=>t!==va.REDIRECTING),nt(1)).subscribe(()=>{e()})}function T9(n){throw n}var b9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gs=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=L(Dl),this.stateManager=L(zD),this.options=L(Bm,{optional:!0})||{},this.pendingTasks=L(yl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(_9),this.urlSerializer=L(Fm),this.location=L(ha),this.urlHandlingStrategy=L(zm),this._events=new Ce,this.errorHandler=this.options.errorHandler||T9,this.navigated=!1,this.routeReuseStrategy=L(E9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(Hm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(Um,{optional:!0}),this.eventsSubscription=new Ge,this.isNgZoneEnabled=L(fe)instanceof fe&&fe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Or&&i.code!==Lt.Redirect&&i.code!==Lt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ri)this.navigated=!0;else if(i instanceof Ta){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||w9(s.source)};this.scheduleNavigation(a,wa,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}R9(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=F({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=s?s.snapshot:this.routerState.snapshot.root;m=SD(y)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return AD(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Hs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,wa,null,i)}navigate(r,i={skipLocationChange:!1}){return A9(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=F({},b9):i===!1?s=F({},S9):s=i,Hs(r))return hD(this.currentUrlTree,r,s);let o=this.parseUrl(r);return hD(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return D9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function A9(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new O(4008,!1)}function R9(n){return!(n instanceof Da)&&!(n instanceof Ta)}var M9=new X("");function qD(n,...e){return bn([{provide:Hm,multi:!0,useValue:n},[],{provide:kr,useFactory:N9,deps:[Gs]},{provide:kg,multi:!0,useFactory:P9},e.map(t=>t.\u0275providers)])}function N9(n){return n.routerState.root}function P9(){let n=L(ln);return e=>{let t=n.get(Fs);if(e!==t.components[0])return;let r=n.get(Gs),i=n.get(x9);n.get(O9)===1&&r.initialNavigation(),n.get(k9,null,le.Optional)?.setUpPreloading(),n.get(M9,null,le.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var x9=new X("",{factory:()=>new Ce}),O9=new X("",{providedIn:"root",factory:()=>1});var k9=new X("");var se=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(se||{}),Rn="*";function GD(n,e){return{type:se.Trigger,name:n,definitions:e,options:{}}}function qm(n,e=null){return{type:se.Animate,styles:e,timings:n}}function WD(n,e=null){return{type:se.Sequence,steps:n,options:e}}function Ws(n){return{type:se.Style,styles:n,offset:null}}function Gm(n,e,t){return{type:se.State,name:n,styles:e,options:t}}function Wm(n,e,t=null){return{type:se.Transition,expr:n,animation:e,options:t}}var Lr=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Pa=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Yl="!";function KD(n){return new O(3e3,!1)}function L9(){return new O(3100,!1)}function V9(){return new O(3101,!1)}function U9(n){return new O(3001,!1)}function j9(n){return new O(3003,!1)}function $9(n){return new O(3004,!1)}function B9(n,e){return new O(3005,!1)}function H9(){return new O(3006,!1)}function z9(){return new O(3007,!1)}function q9(n,e){return new O(3008,!1)}function G9(n){return new O(3002,!1)}function W9(n,e,t,r,i){return new O(3010,!1)}function K9(){return new O(3011,!1)}function Q9(){return new O(3012,!1)}function Y9(){return new O(3200,!1)}function J9(){return new O(3202,!1)}function Z9(){return new O(3013,!1)}function X9(n){return new O(3014,!1)}function e6(n){return new O(3015,!1)}function t6(n){return new O(3016,!1)}function n6(n,e){return new O(3404,!1)}function r6(n){return new O(3502,!1)}function i6(n){return new O(3503,!1)}function s6(){return new O(3300,!1)}function o6(n){return new O(3504,!1)}function a6(n){return new O(3301,!1)}function c6(n,e){return new O(3302,!1)}function u6(n){return new O(3303,!1)}function l6(n,e){return new O(3400,!1)}function d6(n){return new O(3401,!1)}function h6(n){return new O(3402,!1)}function f6(n,e){return new O(3505,!1)}function Vr(n){switch(n.length){case 0:return new Lr;case 1:return n[0];default:return new Pa(n)}}function cT(n,e,t=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(u=>{let l=u.get("offset"),h=l==o,p=h&&a||new Map;u.forEach((m,y)=>{let C=y,A=m;if(y!=="offset")switch(C=n.normalizePropertyName(C,i),A){case Yl:A=t.get(y);break;case Rn:A=r.get(y);break;default:A=n.normalizeStyleValue(y,C,A,i);break}p.set(C,A)}),h||s.push(p),a=p,o=l}),i.length)throw r6(i);return s}function my(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Km(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Km(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Km(t,"destroy",n)));break}}function Km(n,e,t){let r=t.totalTime,i=!!t.disabled,s=yy(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),o=n._data;return o!=null&&(s._data=o),s}function yy(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ut(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function QD(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var p6=typeof document>"u"?null:document.documentElement;function vy(n){let e=n.parentNode||n.host||null;return e===p6?null:e}function g6(n){return n.substring(1,6)=="ebkit"}var Ni=null,YD=!1;function m6(n){Ni||(Ni=y6()||{},YD=Ni.style?"WebkitAppearance"in Ni.style:!1);let e=!0;return Ni.style&&!g6(n)&&(e=n in Ni.style,!e&&YD&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ni.style)),e}function y6(){return typeof document<"u"?document.body:null}function uT(n,e){for(;e;){if(e===n)return!0;e=vy(e)}return!1}function lT(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var _y=(()=>{let e=class e{validateStyleProperty(r){return m6(r)}matchesElement(r,i){return!1}containsElement(r,i){return uT(r,i)}getParentElement(r){return vy(r)}query(r,i,s){return lT(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,u=[],l){return new Lr(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})(),Cy=class Cy{};Cy.NOOP=new _y;var Oi=Cy,ki=class{};var v6=1e3,dT="{{",_6="}}",hT="ng-enter",ey="ng-leave",Jl="ng-trigger",nd=".ng-trigger",JD="ng-animating",ty=".ng-animating";function tr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ny(parseFloat(e[1]),e[2])}function ny(n,e){switch(e){case"s":return n*v6;default:return n}}function rd(n,e,t){return n.hasOwnProperty("duration")?n:w6(n,e,t)}function w6(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(KD(n)),{duration:0,delay:0,easing:""};i=ny(parseFloat(a[1]),a[2]);let u=a[3];u!=null&&(s=ny(parseFloat(u),a[4]));let l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(L9()),a=!0),s<0&&(e.push(V9()),a=!0),a&&e.splice(u,0,KD(n))}return{duration:i,delay:s,easing:o}}function E6(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Mn(n,e,t){e.forEach((r,i)=>{let s=wy(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function xi(n,e){e.forEach((t,r)=>{let i=wy(r);n.style[i]=""})}function xa(n){return Array.isArray(n)?n.length==1?n[0]:WD(n):n}function I6(n,e,t){let r=e.params||{},i=fT(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(U9(s))})}var ry=new RegExp(`${dT}\\s*(.+?)\\s*${_6}`,"g");function fT(n){let e=[];if(typeof n=="string"){let t;for(;t=ry.exec(n);)e.push(t[1]);ry.lastIndex=0}return e}function ka(n,e,t){let r=`${n}`,i=r.replace(ry,(s,o)=>{let a=e[o];return a==null&&(t.push(j9(o)),a=""),a.toString()});return i==r?n:i}var C6=/-+([a-z0-9])/g;function wy(n){return n.replace(C6,(...e)=>e[1].toUpperCase())}function D6(n,e){return n===0||e===0}function T6(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Ey(n,a)))}}return e}function Vt(n,e,t){switch(e.type){case se.Trigger:return n.visitTrigger(e,t);case se.State:return n.visitState(e,t);case se.Transition:return n.visitTransition(e,t);case se.Sequence:return n.visitSequence(e,t);case se.Group:return n.visitGroup(e,t);case se.Animate:return n.visitAnimate(e,t);case se.Keyframes:return n.visitKeyframes(e,t);case se.Style:return n.visitStyle(e,t);case se.Reference:return n.visitReference(e,t);case se.AnimateChild:return n.visitAnimateChild(e,t);case se.AnimateRef:return n.visitAnimateRef(e,t);case se.Query:return n.visitQuery(e,t);case se.Stagger:return n.visitStagger(e,t);default:throw $9(e.type)}}function Ey(n,e){return window.getComputedStyle(n)[e]}var b6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),id=class extends ki{normalizePropertyName(e,t){return wy(e)}normalizeStyleValue(e,t,r,i){let s="",o=r.toString().trim();if(b6.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(B9(e,r))}return o+s}};var sd="*";function S6(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>A6(r,t,e)):t.push(n),t}function A6(n,e,t){if(n[0]==":"){let u=R6(n,t);if(typeof u=="function"){e.push(u);return}n=u}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(e6(n)),e;let i=r[1],s=r[2],o=r[3];e.push(ZD(i,o));let a=i==sd&&o==sd;s[0]=="<"&&!a&&e.push(ZD(o,i))}function R6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(t6(n)),"* => *"}}var Zl=new Set(["true","1"]),Xl=new Set(["false","0"]);function ZD(n,e){let t=Zl.has(n)||Xl.has(n),r=Zl.has(e)||Xl.has(e);return(i,s)=>{let o=n==sd||n==i,a=e==sd||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?Zl.has(n):Xl.has(n)),!a&&r&&typeof s=="boolean"&&(a=s?Zl.has(e):Xl.has(e)),o&&a}}var pT=":self",M6=new RegExp(`s*${pT}s*,?`,"g");function gT(n,e,t,r){return new iy(n).build(e,t,r)}var XD="",iy=class{constructor(e){this._driver=e}build(e,t,r){let i=new sy(t);return this._resetContextStyleTimingState(i),Vt(this,xa(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=XD,e.collectedStyles=new Map,e.collectedStyles.set(XD,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(H9()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==se.State){let u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(h=>{u.name=h,s.push(this.visitState(u,t))}),u.name=l}else if(a.type==se.Transition){let u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(z9())}),{type:se.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{fT(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&t.errors.push(q9(e.name,[...s.values()]))}return{type:se.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Vt(this,xa(e.animation),t),i=S6(e.expr,t.errors);return{type:se.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Pi(e.options)}}visitSequence(e,t){return{type:se.Sequence,steps:e.steps.map(r=>Vt(this,r,t)),options:Pi(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=r;let a=Vt(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:se.Group,steps:s,options:Pi(e.options)}}visitAnimate(e,t){let r=O6(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Ws({});if(s.type==se.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let l={};r.easing&&(l.easing=r.easing),o=Ws(l)}t.currentTime+=r.duration+r.delay;let u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:se.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Rn?r.push(a):t.errors.push(G9(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let u of a.values())if(u.toString().indexOf(dT)>=0){s=!0;break}}}),{type:se.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,u)=>{let l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(u),p=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(W9(u,h.startTime,h.endTime,s,i)),p=!1),s=h.startTime),p&&l.set(u,{startTime:s,endTime:i}),t.options&&I6(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:se.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(K9()),r;let i=1,s=0,o=[],a=!1,u=!1,l=0,h=e.steps.map(N=>{let q=this._makeStyleAst(N,t),$=q.offset!=null?q.offset:x6(q.styles),W=0;return $!=null&&(s++,W=q.offset=$),u=u||W<0||W>1,a=a||W<l,l=W,o.push(W),q});u&&t.errors.push(Q9()),a&&t.errors.push(Y9());let p=e.steps.length,m=0;s>0&&s<p?t.errors.push(J9()):s==0&&(m=i/(p-1));let y=p-1,C=t.currentTime,A=t.currentAnimateTimings,M=A.duration;return h.forEach((N,q)=>{let $=m>0?q==y?1:m*q:o[q],W=$*M;t.currentTime=C+A.delay+W,A.duration=W,this._validateStyleAst(N,t),N.offset=$,r.styles.push(N)}),r}visitReference(e,t){return{type:se.Reference,animation:Vt(this,xa(e.animation),t),options:Pi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:se.AnimateChild,options:Pi(e.options)}}visitAnimateRef(e,t){return{type:se.AnimateRef,animation:this.visitReference(e.animation,t),options:Pi(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=N6(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ut(t.collectedStyles,t.currentQuerySelector,new Map);let a=Vt(this,xa(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:se.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Pi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Z9());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:rd(e.timings,t.errors,!0);return{type:se.Stagger,animation:Vt(this,xa(e.animation),t),timings:r,options:null}}};function N6(n){let e=!!n.split(/\s*,\s*/).find(t=>t==pT);return e&&(n=n.replace(M6,"")),n=n.replace(/@\*/g,nd).replace(/@\w+/g,t=>nd+"-"+t.slice(1)).replace(/:animating/g,ty),[n,e]}function P6(n){return n?F({},n):null}var sy=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function x6(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function O6(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=rd(n,e).duration;return Qm(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Qm(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=rd(t,e);return Qm(i.duration,i.delay,i.easing)}function Pi(n){return n?(n=F({},n),n.params&&(n.params=P6(n.params))):n={},n}function Qm(n,e,t){return{duration:n,delay:e,easing:t}}function Iy(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Fa=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},k6=1,F6=":enter",L6=new RegExp(F6,"g"),V6=":leave",U6=new RegExp(V6,"g");function mT(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return new oy().buildKeyframes(n,e,t,r,i,s,o,a,u,l)}var oy=class{buildKeyframes(e,t,r,i,s,o,a,u,l,h=[]){l=l||new Fa;let p=new ay(e,t,l,i,s,h,[]);p.options=u;let m=u.delay?tr(u.delay):0;p.currentTimeline.delayNextStep(m),p.currentTimeline.setStyles([o],null,p.errors,u),Vt(this,r,p);let y=p.timelines.filter(C=>C.containsAnimation());if(y.length&&a.size){let C;for(let A=y.length-1;A>=0;A--){let M=y[A];if(M.element===t){C=M;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,p.errors,u)}return y.length?y.map(C=>C.buildKeyframes()):[Iy(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:tr(ka(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,o=r.duration!=null?tr(r.duration):null,a=r.delay!=null?tr(r.delay):null;return o!==0&&e.forEach(u=>{let l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Vt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==se.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=od);let o=tr(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Vt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?tr(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Vt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?ka(r,t.params,t.errors):r;return rd(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==se.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{let l=u.offset||0;a.forwardTime(l*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?tr(i.delay):0;s&&(t.previousNode.type===se.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=od);let o=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,h)=>{t.currentQueryIndex=h;let p=t.createSubContext(e.options,l);s&&p.delayNextStep(s),l===t.element&&(u=p.currentTimeline),Vt(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let m=p.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime;break}let h=t.currentTimeline;u&&h.delayNextStep(u);let p=h.currentTime;Vt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},od={},ay=class n{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=od,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ad(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=tr(r.duration)),r.delay!=null&&(i.delay=tr(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=ka(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=od,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new cy(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(L6,"."+this._enterClassName),e=e.replace(U6,"."+this._leaveClassName);let u=r!=1,l=this._driver.query(this.element,e,u);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&a.length==0&&o.push(X9(t)),a}},ad=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=k6,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Rn),this._currentKeyframe.set(t,Rn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=j6(e,this._globalTimelineStyles);for(let[a,u]of o){let l=ka(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Rn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,u)=>{let l=new Map([...this._backFill,...a]);l.forEach((h,p)=>{h===Yl?e.add(p):h===Rn&&t.add(p)}),r||l.set("offset",u/this.duration),i.push(l)});let s=[...e.values()],o=[...t.values()];if(r){let a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return Iy(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},cy=class extends ad{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=r+t,a=t/o,u=new Map(e[0]);u.set("offset",0),s.push(u);let l=new Map(e[0]);l.set("offset",eT(a)),s.push(l);let h=e.length-1;for(let p=1;p<=h;p++){let m=new Map(e[p]),y=m.get("offset"),C=t+y*r;m.set("offset",eT(C/o)),s.push(m)}r=o,t=0,i="",e=s}return Iy(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function eT(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function j6(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,Rn)}else for(let[s,o]of i)t.set(s,o)}),t}function tT(n,e,t,r,i,s,o,a,u,l,h,p,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:h,totalTime:p,errors:m}}var Ym={},cd=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return $6(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,h){let p=[],m=this.ast.options&&this.ast.options.params||Ym,y=a&&a.params||Ym,C=this.buildStyles(r,y,p),A=u&&u.params||Ym,M=this.buildStyles(i,A,p),N=new Set,q=new Map,$=new Map,W=i==="void",be={params:yT(A,m),delay:this.ast.options?.delay},K=h?[]:mT(e,t,this.ast.animation,s,o,C,M,be,l,p),E=0;return K.forEach(v=>{E=Math.max(v.duration+v.delay,E)}),p.length?tT(t,this._triggerName,r,i,W,C,M,[],[],q,$,E,p):(K.forEach(v=>{let _=v.element,I=Ut(q,_,new Set);v.preStyleProps.forEach(S=>I.add(S));let T=Ut($,_,new Set);v.postStyleProps.forEach(S=>T.add(S)),_!==t&&N.add(_)}),tT(t,this._triggerName,r,i,W,C,M,K,[...N.values()],q,$,E))}};function $6(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function yT(n,e){let t=F({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var uy=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=yT(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=ka(o,i,t));let u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}};function B6(n,e,t){return new ly(n,e,t)}var ly=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new uy(i.style,s,r))}),nT(this.states,"true","1"),nT(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new cd(e,i,this.states))}),this.fallbackTransition=H6(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function H6(n,e,t){let r=[(o,a)=>!0],i={type:se.Sequence,steps:[],options:null},s={type:se.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new cd(n,s,e)}function nT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var z6=new Fa,dy=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],s=gT(this._driver,t,r,i);if(r.length)throw i6(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=cT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=mT(this._driver,t,s,hT,ey,new Map,new Map,r,z6,i),o.forEach(h=>{let p=Ut(a,h.element,new Map);h.postStyleProps.forEach(m=>p.set(m,null))})):(i.push(s6()),o=[]),i.length)throw o6(i);a.forEach((h,p)=>{h.forEach((m,y)=>{h.set(y,this._driver.computeStyle(p,y,Rn))})});let u=o.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),l=Vr(u);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw a6(e);return t}listen(e,t,r,i){let s=yy(t,"","","");return my(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},rT="ng-animate-queued",q6=".ng-animate-queued",Jm="ng-animate-disabled",G6=".ng-animate-disabled",W6="ng-star-inserted",K6=".ng-star-inserted",Q6=[],vT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Y6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fn="__ng_removed",La=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=Z6(i),r){let s=e,{value:o}=s,a=Q_(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Oa="void",Zm=new La(Oa),hy=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Yt(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw c6(r,t);if(r==null||r.length==0)throw u6(t);if(!X6(r))throw l6(r,t);let s=Ut(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);let a=Ut(this._engine.statesByElement,e,new Map);return a.has(t)||(Yt(e,Jl),Yt(e,Jl+"-"+t),a.set(t,Zm)),()=>{this._engine.afterFlush(()=>{let u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw d6(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),o=new Va(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Yt(e,Jl),Yt(e,Jl+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t),l=new La(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=Zm),!(l.value===Oa)&&u.value===l.value){if(!nO(u.params,l.params)){let A=[],M=s.matchStyles(u.value,u.params,A),N=s.matchStyles(l.value,l.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{xi(e,M),Mn(e,N)})}return}let m=Ut(this._engine.playersByElement,e,[]);m.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let y=s.matchTransition(u.value,l.value,e,l.params),C=!1;if(!y){if(!i)return;y=s.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:u,toState:l,player:o,isFallbackTransition:C}),C||(Yt(e,rT),o.onStart(()=>{Ks(e,rT)})),o.onDone(()=>{let A=this.players.indexOf(o);A>=0&&this.players.splice(A,1);let M=this._engine.playersByElement.get(e);if(M){let N=M.indexOf(o);N>=0&&M.splice(N,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,nd,!0);r.forEach(i=>{if(i[fn])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){let h=this.trigger(e,l,Oa,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Vr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let u=this._triggers.get(o).fallbackTransition,l=r.get(o)||Zm,h=new La(Oa),p=new Va(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[fn];(!s||s===vT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Yt(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let u=yy(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,my(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},fy=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new hy(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let u=i.get(a);if(u){let l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(ed(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ed(t))return;let s=t[fn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yt(e,Jm)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ks(e,Jm))}removeNode(e,t,r){if(ed(t)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[fn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return ed(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,nd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,ty,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[fn];if(t&&t.setForRemoval){if(e[fn]=vT,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Jm)&&this.markElementAsDisabled(e,!1),this.driver.query(e,G6,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Yt(i,W6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Vr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw h6(e)}_flushAnimations(e,t){let r=new Fa,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(V=>{h.add(V);let z=this.driver.query(V,q6,!0);for(let G=0;G<z.length;G++)h.add(z[G])});let p=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=oT(m,this.collectedEnterElements),C=new Map,A=0;y.forEach((V,z)=>{let G=hT+A++;C.set(z,G),V.forEach(he=>Yt(he,G))});let M=[],N=new Set,q=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let z=this.collectedLeaveElements[V],G=z[fn];G&&G.setForRemoval&&(M.push(z),N.add(z),G.hasAnimation?this.driver.query(z,K6,!0).forEach(he=>N.add(he)):q.add(z))}let $=new Map,W=oT(m,Array.from(N));W.forEach((V,z)=>{let G=ey+A++;$.set(z,G),V.forEach(he=>Yt(he,G))}),e.push(()=>{y.forEach((V,z)=>{let G=C.get(z);V.forEach(he=>Ks(he,G))}),W.forEach((V,z)=>{let G=$.get(z);V.forEach(he=>Ks(he,G))}),M.forEach(V=>{this.processLeaveNode(V)})});let be=[],K=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(t).forEach(G=>{let he=G.player,qe=G.element;if(be.push(he),this.collectedEnterElements.length){let $e=qe[fn];if($e&&$e.setForMove){if($e.previousTriggersValues&&$e.previousTriggersValues.has(G.triggerName)){let Un=$e.previousTriggersValues.get(G.triggerName),St=this.statesByElement.get(G.element);if(St&&St.has(G.triggerName)){let jn=St.get(G.triggerName);jn.value=Un,St.set(G.triggerName,jn)}}he.destroy();return}}let Ht=!p||!this.driver.containsElement(p,qe),je=$.get(qe),Ne=C.get(qe),Pe=this._buildInstruction(G,r,Ne,je,Ht);if(Pe.errors&&Pe.errors.length){K.push(Pe);return}if(Ht){he.onStart(()=>xi(qe,Pe.fromStyles)),he.onDestroy(()=>Mn(qe,Pe.toStyles)),i.push(he);return}if(G.isFallbackTransition){he.onStart(()=>xi(qe,Pe.fromStyles)),he.onDestroy(()=>Mn(qe,Pe.toStyles)),i.push(he);return}let hr=[];Pe.timelines.forEach($e=>{$e.stretchStartingKeyframe=!0,this.disabledNodes.has($e.element)||hr.push($e)}),Pe.timelines=hr,r.append(qe,Pe.timelines);let Rh={instruction:Pe,player:he,element:qe};o.push(Rh),Pe.queriedElements.forEach($e=>Ut(a,$e,[]).push(he)),Pe.preStyleProps.forEach(($e,Un)=>{if($e.size){let St=u.get(Un);St||u.set(Un,St=new Set),$e.forEach((jn,fr)=>St.add(fr))}}),Pe.postStyleProps.forEach(($e,Un)=>{let St=l.get(Un);St||l.set(Un,St=new Set),$e.forEach((jn,fr)=>St.add(fr))})});if(K.length){let V=[];K.forEach(z=>{V.push(f6(z.triggerName,z.errors))}),be.forEach(z=>z.destroy()),this.reportError(V)}let E=new Map,v=new Map;o.forEach(V=>{let z=V.element;r.has(z)&&(v.set(z,z),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,E))}),i.forEach(V=>{let z=V.element;this._getPreviousPlayers(z,!1,V.namespaceId,V.triggerName,null).forEach(he=>{Ut(E,z,[]).push(he),he.destroy()})});let _=M.filter(V=>aT(V,u,l)),I=new Map;sT(I,this.driver,q,l,Rn).forEach(V=>{aT(V,u,l)&&_.push(V)});let S=new Map;y.forEach((V,z)=>{sT(S,this.driver,new Set(V),u,Yl)}),_.forEach(V=>{let z=I.get(V),G=S.get(V);I.set(V,new Map([...z?.entries()??[],...G?.entries()??[]]))});let w=[],Bt=[],dr={};o.forEach(V=>{let{element:z,player:G,instruction:he}=V;if(r.has(z)){if(h.has(z)){G.onDestroy(()=>Mn(z,he.toStyles)),G.disabled=!0,G.overrideTotalTime(he.totalTime),i.push(G);return}let qe=dr;if(v.size>1){let je=z,Ne=[];for(;je=je.parentNode;){let Pe=v.get(je);if(Pe){qe=Pe;break}Ne.push(je)}Ne.forEach(Pe=>v.set(Pe,qe))}let Ht=this._buildAnimation(G.namespaceId,he,E,s,S,I);if(G.setRealPlayer(Ht),qe===dr)w.push(G);else{let je=this.playersByElement.get(qe);je&&je.length&&(G.parentPlayer=Vr(je)),i.push(G)}}else xi(z,he.fromStyles),G.onDestroy(()=>Mn(z,he.toStyles)),Bt.push(G),h.has(z)&&i.push(G)}),Bt.forEach(V=>{let z=s.get(V.element);if(z&&z.length){let G=Vr(z);V.setRealPlayer(G)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<M.length;V++){let z=M[V],G=z[fn];if(Ks(z,ey),G&&G.hasAnimation)continue;let he=[];if(a.size){let Ht=a.get(z);Ht&&Ht.length&&he.push(...Ht);let je=this.driver.query(z,ty,!0);for(let Ne=0;Ne<je.length;Ne++){let Pe=a.get(je[Ne]);Pe&&Pe.length&&he.push(...Pe)}}let qe=he.filter(Ht=>!Ht.destroyed);qe.length?eO(this,z,qe):this.processLeaveNode(z)}return M.length=0,w.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let z=this.players.indexOf(V);this.players.splice(z,1)}),V.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let u=!s||s==Oa;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let u of t.timelines){let l=u.element,h=l!==s,p=Ut(r,l,[]);this._getPreviousPlayers(l,h,o,a,t.toState).forEach(y=>{let C=y.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),y.destroy(),p.push(y)})}xi(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){let a=t.triggerName,u=t.element,l=[],h=new Set,p=new Set,m=t.timelines.map(C=>{let A=C.element;h.add(A);let M=A[fn];if(M&&M.removedBeforeQueried)return new Lr(C.duration,C.delay);let N=A!==u,q=tO((r.get(A)||Q6).map(E=>E.getRealPlayer())).filter(E=>{let v=E;return v.element?v.element===A:!1}),$=s.get(A),W=o.get(A),be=cT(this._normalizer,C.keyframes,$,W),K=this._buildPlayer(C,be,q);if(C.subTimeline&&i&&p.add(A),N){let E=new Va(e,a,A);E.setRealPlayer(K),l.push(E)}return K});l.forEach(C=>{Ut(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>J6(this.playersByQueriedElement,C.element,C))}),h.forEach(C=>Yt(C,JD));let y=Vr(m);return y.onDestroy(()=>{h.forEach(C=>Ks(C,JD)),Mn(u,t.toStyles)}),p.forEach(C=>{Ut(i,C,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Lr(e.duration,e.delay)}},Va=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Lr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>my(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ut(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function J6(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function Z6(n){return n??null}function ed(n){return n&&n.nodeType===1}function X6(n){return n=="start"||n=="done"}function iT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function sT(n,e,t,r,i){let s=[];t.forEach(u=>s.push(iT(u)));let o=[];r.forEach((u,l)=>{let h=new Map;u.forEach(p=>{let m=e.computeStyle(l,p,i);h.set(p,m),(!m||m.length==0)&&(l[fn]=Y6,o.push(l))}),n.set(l,h)});let a=0;return t.forEach(u=>iT(u,s[a++])),o}function oT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let u=s.get(a);if(u)return u;let l=a.parentNode;return t.has(l)?u=l:i.has(l)?u=r:u=o(l),s.set(a,u),u}return e.forEach(a=>{let u=o(a);u!==r&&t.get(u).push(a)}),t}function Yt(n,e){n.classList?.add(e)}function Ks(n,e){n.classList?.remove(e)}function eO(n,e,t){Vr(t).onDone(()=>n.processLeaveNode(e))}function tO(n){let e=[];return _T(n,e),e}function _T(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Pa?_T(r.players,e):e.push(r)}}function nO(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function aT(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var Ys=class{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new fy(e.body,t,r,i),this._timelineEngine=new dy(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let u=[],l=[],h=gT(this._driver,s,u,l);if(u.length)throw n6(i,u);l.length&&void 0,a=B6(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,o]=QD(r),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[o,a]=QD(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function rO(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Xm(e[0]),e.length>1&&(r=Xm(e[e.length-1]))):e instanceof Map&&(t=Xm(e)),t||r?new py(n,t,r):null}var Qs=class Qs{constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=Qs.initialStylesByElement.get(e);i||Qs.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Mn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mn(this._element,this._initialStyles),this._endStyles&&(Mn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Qs.initialStylesByElement.delete(this._element),this._startStyles&&(xi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xi(this._element,this._endStyles),this._endStyles=null),Mn(this._element,this._initialStyles),this._state=3)}};Qs.initialStylesByElement=new WeakMap;var py=Qs;function Xm(n){let e=null;return n.forEach((t,r)=>{iO(r)&&(e=e||new Map,e.set(r,t))}),e}function iO(n){return n==="display"||n==="position"}var ud=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Ey(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ld=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return uT(e,t)}getParentElement(e){return vy(e)}query(e,t,r){return lT(e,t,r)}computeStyle(e,t,r){return Ey(e,t)}animate(e,t,r,i,s,o=[]){let a=i==0?"both":"forwards",u={duration:r,delay:i,fill:a};s&&(u.easing=s);let l=new Map,h=o.filter(y=>y instanceof ud);D6(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((C,A)=>l.set(A,C))});let p=E6(t).map(y=>new Map(y));p=T6(e,p,l);let m=rO(e,p);return new ud(e,p,u,m)}};var td="@",wT="@.disabled",dd=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==td&&t==wT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},gy=class extends dd{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==td?t.charAt(1)=="."&&t==wT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==td){let i=sO(e),s=t.slice(1),o="";return s.charAt(0)!=td&&([s,o]=oO(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let u=a._data||-1;this.factory.scheduleListenerCallback(u,r,a)})}return this.delegate.listen(e,t,r)}};function sO(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function oO(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var hd=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,h=l.get(i);if(!h){let p=()=>l.delete(i);h=new dd(r,i,this.engine,p),l.set(i,h)}return h}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return t.data.animation.forEach(a),new gy(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var cO=(()=>{let e=class e extends Ys{constructor(r,i,s){super(r,i,s,L(ea,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(B(xt),B(Oi),B(ki))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let n=e;return n})();function uO(){return new id}function lO(n,e,t){return new hd(n,e,t)}var IT=[{provide:ki,useFactory:uO},{provide:Ys,useClass:cO},{provide:vi,useFactory:lO,deps:[Pl,Ys,fe]}],ET=[{provide:Oi,useFactory:()=>new ld},{provide:ig,useValue:"BrowserAnimations"},...IT],dO=[{provide:Oi,useClass:_y},{provide:ig,useValue:"NoopAnimations"},...IT],CT=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?dO:ET}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=Cn({providers:ET,imports:[lD]});let n=e;return n})();var DT=[];var bT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},hO=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ST={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Ty;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ty=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fO=function(n){let e=bT(n);return ST.encodeByteArray(e,!0)},Ua=function(n){return fO(n).replace(/\./g,"")},Sy=function(n){try{return ST.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gO=()=>pO().__FIREBASE_DEFAULTS__,mO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Sy(n[1]);return e&&JSON.parse(e)},pd=()=>{try{return gO()||mO()||yO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ay=n=>{var e,t;return(t=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},AT=n=>{let e=Ay(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ry=()=>{var n;return(n=pd())===null||n===void 0?void 0:n.config},My=n=>{var e;return(e=pd())===null||e===void 0?void 0:e[`_${n}`]};var fd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function RT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ua(JSON.stringify(t)),Ua(JSON.stringify(o)),""].join(".")}function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function vO(){var n;let e=(n=pd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function PT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xT(){let n=et();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OT(){return!vO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ny(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var _O="FirebaseError",jt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_O,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nr.prototype.create)}},nr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new jt(i,a,r)}};function wO(n,e){return n.replace(EO,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var EO=/\{\$([^}]+)}/g;function FT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(TT(s)&&TT(o)){if(!Fi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function TT(n){return n!==null&&typeof n=="object"}function ja(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LT(n,e){let t=new by(n,e);return t.subscribe.bind(t)}var by=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");IO(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Dy),i.error===void 0&&(i.error=Dy),i.complete===void 0&&(i.complete=Dy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function IO(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dy(){}var sG=4*60*60*1e3;function $t(n){return n&&n._delegate?n._delegate:n}var Jt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Li="[DEFAULT]";var Py=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new fd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DO(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CO(n){return n===Li?void 0:n}function DO(n){return n.instantiationMode==="EAGER"}var gd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Py(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var TO=[],me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(me||{}),bO={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},SO=me.INFO,AO={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},RO=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=AO[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ur=class{constructor(e){this.name=e,this._logLevel=SO,this._logHandler=RO,this._userLogHandler=null,TO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var MO=(n,e)=>e.some(t=>n instanceof t),VT,UT;function NO(){return VT||(VT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PO(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jT=new WeakMap,Oy=new WeakMap,$T=new WeakMap,xy=new WeakMap,Fy=new WeakMap;function xO(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Nn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&jT.set(t,n)}).catch(()=>{}),Fy.set(e,n),e}function OO(n){if(Oy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Oy.set(n,e)}var ky={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Oy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||$T.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BT(n){ky=n(ky)}function kO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(md(this),e,...t);return $T.set(r,e.sort?e.sort():[e]),Nn(r)}:PO().includes(n)?function(...e){return n.apply(md(this),e),Nn(jT.get(this))}:function(...e){return Nn(n.apply(md(this),e))}}function FO(n){return typeof n=="function"?kO(n):(n instanceof IDBTransaction&&OO(n),MO(n,NO())?new Proxy(n,ky):n)}function Nn(n){if(n instanceof IDBRequest)return xO(n);if(xy.has(n))return xy.get(n);let e=FO(n);return e!==n&&(xy.set(n,e),Fy.set(e,n)),e}var md=n=>Fy.get(n);function zT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Nn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Nn(o.result),u.oldVersion,u.newVersion,Nn(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var LO=["get","getKey","getAll","getAllKeys","count"],VO=["put","add","delete","clear"],Ly=new Map;function HT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=VO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LO.includes(t)))return;let s=function(o,...a){return D(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Ly.set(e,s),s}BT(n=>Oe(F({},n),{get:(e,t,r)=>HT(e,t)||n.get(e,t,r),has:(e,t)=>!!HT(e,t)||n.has(e,t)}));var Uy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UO(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function UO(n){let e=n.getComponent();return e?.type==="VERSION"}var jy="@firebase/app",qT="0.10.6";var Vi=new Ur("@firebase/app"),jO="@firebase/app-compat",$O="@firebase/analytics-compat",BO="@firebase/analytics",HO="@firebase/app-check-compat",zO="@firebase/app-check",qO="@firebase/auth",GO="@firebase/auth-compat",WO="@firebase/database",KO="@firebase/database-compat",QO="@firebase/functions",YO="@firebase/functions-compat",JO="@firebase/installations",ZO="@firebase/installations-compat",XO="@firebase/messaging",e5="@firebase/messaging-compat",t5="@firebase/performance",n5="@firebase/performance-compat",r5="@firebase/remote-config",i5="@firebase/remote-config-compat",s5="@firebase/storage",o5="@firebase/storage-compat",a5="@firebase/firestore",c5="@firebase/vertexai-preview",u5="@firebase/firestore-compat",l5="firebase",d5="10.12.3";var $y="[DEFAULT]",h5={[jy]:"fire-core",[jO]:"fire-core-compat",[BO]:"fire-analytics",[$O]:"fire-analytics-compat",[zO]:"fire-app-check",[HO]:"fire-app-check-compat",[qO]:"fire-auth",[GO]:"fire-auth-compat",[WO]:"fire-rtdb",[KO]:"fire-rtdb-compat",[QO]:"fire-fn",[YO]:"fire-fn-compat",[JO]:"fire-iid",[ZO]:"fire-iid-compat",[XO]:"fire-fcm",[e5]:"fire-fcm-compat",[t5]:"fire-perf",[n5]:"fire-perf-compat",[r5]:"fire-rc",[i5]:"fire-rc-compat",[s5]:"fire-gcs",[o5]:"fire-gcs-compat",[a5]:"fire-fst",[u5]:"fire-fst-compat",[c5]:"fire-vertex","fire-js":"fire-js",[l5]:"fire-js-all"};var $a=new Map,f5=new Map,By=new Map;function GT(n,e){try{n.container.addComponent(e)}catch(t){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $r(n){let e=n.name;if(By.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;By.set(e,n);for(let t of $a.values())GT(t,n);for(let t of f5.values())GT(t,n);return!0}function Ha(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pn(n){return n.settings!==void 0}var p5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new nr("app","Firebase",p5);var Hy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};var Br=d5;function Gy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$y,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(t||(t=Ry()),!t)throw jr.create("no-options");let s=$a.get(i);if(s){if(Fi(t,s.options)&&Fi(r,s.config))return s;throw jr.create("duplicate-app",{appName:i})}let o=new gd(i);for(let u of By.values())o.addComponent(u);let a=new Hy(t,r,o);return $a.set(i,a),a}function Js(n=$y){let e=$a.get(n);if(!e&&n===$y&&Ry())return Gy();if(!e)throw jr.create("no-app",{appName:n});return e}function yd(){return Array.from($a.values())}function tt(n,e,t){var r;let i=(r=h5[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}$r(new Jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var g5="firebase-heartbeat-database",m5=1,Ba="firebase-heartbeat-store",Vy=null;function YT(){return Vy||(Vy=zT(g5,m5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ba)}catch(t){console.warn(t)}}}}).catch(n=>{throw jr.create("idb-open",{originalErrorMessage:n.message})})),Vy}function y5(n){return D(this,null,function*(){try{let t=(yield YT()).transaction(Ba),r=yield t.objectStore(Ba).get(JT(n));return yield t.done,r}catch(e){if(e instanceof jt)Vi.warn(e.message);else{let t=jr.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(t.message)}}})}function WT(n,e){return D(this,null,function*(){try{let r=(yield YT()).transaction(Ba,"readwrite");yield r.objectStore(Ba).put(e,JT(n)),yield r.done}catch(t){if(t instanceof jt)Vi.warn(t.message);else{let r=jr.create("idb-set",{originalErrorMessage:t?.message});Vi.warn(r.message)}}})}function JT(n){return`${n.name}!${n.options.appId}`}var v5=1024,_5=30*24*60*60*1e3,zy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new qy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,t;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KT();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=_5}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return D(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=KT(),{heartbeatsToSend:r,unsentEntries:i}=w5(this._heartbeatsCache.heartbeats),s=Ua(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function KT(){return new Date().toISOString().substring(0,10)}function w5(n,e=v5){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),QT(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),QT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var qy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Ny()?kT().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield y5(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function QT(n){return Ua(JSON.stringify({version:2,heartbeats:n})).length}function E5(n){$r(new Jt("platform-logger",e=>new Uy(e),"PRIVATE")),$r(new Jt("heartbeat",e=>new zy(e),"PRIVATE")),tt(jy,qT,n),tt(jy,qT,"esm2017"),tt("fire-js","")}E5("");var I5="firebase",C5="10.12.3";tt(I5,C5,"app");var ji=new Ar("ANGULARFIRE2_VERSION");function _d(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var za=(n,e)=>{let t=e?[e]:yd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Xs=class{constructor(){return za(D5)}},D5="app-check";function Zs(){}var vd=class{zone;delegate;constructor(e,t=gf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Wy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs)),t.pipe(ee({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},eo=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new vd(Zone.current)),this.insideAngular=t.run(()=>new vd(Zone.current,ms)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(B(fe))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function T5(n){return wd().ngZone.runOutsideAngular(()=>n())}function Ui(n){return wd().ngZone.run(()=>n())}function b5(n){return S5(wd())(n)}function S5(n){return function(t){return t=t.lift(new Wy(n.ngZone)),t.pipe(_r(n.outsideAngular),vr(n.insideAngular))}}var A5=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ui(()=>n.apply(void 0,r))},pn=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Ui(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs))),r[s]=A5(r[s],t));let i=T5(()=>n.apply(this,r));if(!e)if(i instanceof ue){let s=wd();return i.pipe(_r(s.outsideAngular),vr(s.insideAngular))}else return Ui(()=>i);return i instanceof ue?i.pipe(b5):i instanceof Promise?Ui(()=>new Promise((s,o)=>i.then(a=>Ui(()=>s(a)),a=>Ui(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ui(()=>i)};var rr=class{constructor(e){return e}},$i=class{constructor(){return yd()}};function R5(n){return n&&n.length===1?n[0]:new rr(Js())}var Ky=new X("angularfire2._apps"),M5={provide:rr,useFactory:R5,deps:[[new mt,Ky]]},N5={provide:$i,deps:[[new mt,Ky]]};function P5(n){return(e,t)=>{let r=t.get(Kt);tt("angularfire",ji.full,"core"),tt("angularfire",ji.full,"app"),tt("angular",OC.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new rr(i)}}function ZT(n,...e){return bn([M5,N5,{provide:Ky,useFactory:P5(n),multi:!0,deps:[fe,ln,eo,...e]}])}var XT=pn(Gy,!0);function pb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gb=pb,mb=new nr("auth","Firebase",pb());var bd=new Ur("@firebase/auth");function x5(n,...e){bd.logLevel<=me.WARN&&bd.warn(`Auth (${Br}): ${n}`,...e)}function Id(n,...e){bd.logLevel<=me.ERROR&&bd.error(`Auth (${Br}): ${n}`,...e)}function qr(n,...e){throw pv(n,...e)}function Bi(n,...e){return pv(n,...e)}function yb(n,e,t){let r=Object.assign(Object.assign({},gb()),{[e]:t});return new nr("auth","Firebase",r).create(e,{appName:n.name})}function zr(n){return yb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mb.create(n,...e)}function te(n,e,...t){if(!n)throw pv(e,...t)}function ir(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Id(e),new Error(e)}function Gr(n,e){n||ir(e)}function Zy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function O5(){return eb()==="http:"||eb()==="https:"}function eb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function k5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O5()||NT()||"connection"in navigator)?navigator.onLine:!0}function F5(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Hi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile=MT()||PT()}get(){return k5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gv(n,e){Gr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Sd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var L5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var V5=new Hi(3e4,6e4);function Ld(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function no(s,o,a,u){return D(this,arguments,function*(n,e,t,r,i={}){return vb(n,i,()=>D(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ja(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),Sd.fetch()(wb(n,n.config.apiHost,t,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function vb(n,e,t){return D(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},L5),e);try{let i=new Xy(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ed(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ed(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ed(n,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw yb(n,h,l);qr(n,h)}}catch(i){if(i instanceof jt)throw i;qr(n,"network-request-failed",{message:String(i)})}})}function _b(s,o,a,u){return D(this,arguments,function*(n,e,t,r,i={}){let l=yield no(n,e,t,r,i);return"mfaPendingCredential"in l&&qr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function wb(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?gv(n.config,i):`${n.config.apiScheme}://${i}`}var Xy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),V5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ed(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Bi(n,e,r);return i.customData._tokenResponse=t,i}function U5(n,e){return D(this,null,function*(){return no(n,"POST","/v1/accounts:delete",e)})}function Eb(n,e){return D(this,null,function*(){return no(n,"POST","/v1/accounts:lookup",e)})}function qa(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mv(n,e=!1){return D(this,null,function*(){let t=$t(n),r=yield t.getIdToken(e),i=yv(r);te(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:qa(Qy(i.auth_time)),issuedAtTime:qa(Qy(i.iat)),expirationTime:qa(Qy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Qy(n){return Number(n)*1e3}function yv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Id("JWT malformed, contained fewer than 3 sections"),null;try{let i=Sy(t);return i?JSON.parse(i):(Id("Failed to decode base64 JWT payload"),null)}catch(i){return Id("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tb(n){let e=yv(n);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wa(n,e,t=!1){return D(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof jt&&j5(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function j5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ev=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),t)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ka=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ad(n){return D(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Wa(n,Eb(t,{idToken:r}));te(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ib(s.providerUserInfo):[],a=$5(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ka(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function vv(n){return D(this,null,function*(){let e=$t(n);yield Ad(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $5(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ib(n){return n.map(e=>{var{providerId:t}=e,r=yf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function B5(n,e){return D(this,null,function*(){let t=yield vb(n,{},()=>D(this,null,function*(){let r=ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=wb(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function H5(n,e){return D(this,null,function*(){return no(n,"POST","/v2/accounts:revokeToken",Ld(n,e))})}var Ga=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){te(e.length!==0,"internal-error");let t=tb(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return D(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield B5(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ir("not implemented")}};function Hr(n,e){te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var to=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=yf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ev(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ka(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let t=yield Wa(this,this.stsTokenManager.getToken(this.auth,e));return te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return mv(this,e)}reload(){return vv(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ad(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(Pn(this.auth.app))return Promise.reject(zr(this.auth));let e=yield this.getIdToken();return yield Wa(this,U5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=t.photoURL)!==null&&o!==void 0?o:void 0,A=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,N=(l=t.createdAt)!==null&&l!==void 0?l:void 0,q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:W,isAnonymous:be,providerData:K,stsTokenManager:E}=t;te($&&E,e,"internal-error");let v=Ga.fromJSON(this.name,E);te(typeof $=="string",e,"internal-error"),Hr(p,e.name),Hr(m,e.name),te(typeof W=="boolean",e,"internal-error"),te(typeof be=="boolean",e,"internal-error"),Hr(y,e.name),Hr(C,e.name),Hr(A,e.name),Hr(M,e.name),Hr(N,e.name),Hr(q,e.name);let _=new n({uid:$,auth:e,email:m,emailVerified:W,displayName:p,isAnonymous:be,photoURL:C,phoneNumber:y,tenantId:A,stsTokenManager:v,createdAt:N,lastLoginAt:q});return K&&Array.isArray(K)&&(_.providerData=K.map(I=>Object.assign({},I))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,t,r=!1){return D(this,null,function*(){let i=new Ga;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ad(s),s})}static _fromGetAccountInfoResponse(e,t,r){return D(this,null,function*(){let i=t.users[0];te(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Ib(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ga;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ka(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var nb=new Map;function sr(n){Gr(n instanceof Function,"Expected a class definition");let e=nb.get(n);return e?(Gr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nb.set(n,e),e)}var z5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(t,r){return D(this,null,function*(){this.storage[t]=r})}_get(t){return D(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return D(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),tv=z5;function Cd(n,e,t){return`firebase:${n}:${e}:${t}`}var Rd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Cd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cd("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?to._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(this,null,function*(){if(!t.length)return new n(sr(tv),e,r);let i=(yield Promise.all(t.map(l=>D(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||sr(tv),o=Cd(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(o);if(h){let p=to._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>D(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function rb(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sb(e))return"Blackberry";if(Ab(e))return"Webos";if(_v(e))return"Safari";if((e.includes("chrome/")||Db(e))&&!e.includes("edge/"))return"Chrome";if(bb(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Cb(n=et()){return/firefox\//i.test(n)}function _v(n=et()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Db(n=et()){return/crios\//i.test(n)}function Tb(n=et()){return/iemobile/i.test(n)}function bb(n=et()){return/android/i.test(n)}function Sb(n=et()){return/blackberry/i.test(n)}function Ab(n=et()){return/webos/i.test(n)}function Vd(n=et()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function q5(n=et()){var e;return Vd(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G5(){return xT()&&document.documentMode===10}function Rb(n=et()){return Vd(n)||bb(n)||Ab(n)||Sb(n)||/windows phone/i.test(n)||Tb(n)}function W5(){try{return!!(window&&window!==window.top)}catch{return!1}}function Mb(n,e=[]){let t;switch(n){case"Browser":t=rb(et());break;case"Worker":t=`${rb(et())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Br}/${r}`}var nv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function K5(t){return D(this,arguments,function*(n,e={}){return no(n,"GET","/v2/passwordPolicy",Ld(n,e))})}var Q5=6,rv=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Q5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var iv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Md(this),this.idTokenSubscription=new Md(this),this.beforeStateQueue=new nv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=sr(t)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Rd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let t=yield Eb(this,{idToken:e}),r=yield to._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var t;if(Pn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield Ad(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=F5()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(Pn(this.app))return Promise.reject(zr(this));let t=e?$t(e):null;return t&&te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return D(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return Pn(this.app)?Promise.reject(zr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Pn(this.app)?Promise.reject(zr(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield K5(this),t=new rv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield H5(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&sr(e)||this._popupRedirectResolver;te(t,this,"argument-error"),this.redirectPersistenceManager=yield Rd.create(this,[sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return D(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&x5(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ud(n){return $t(n)}var Md=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=LT(t=>this.observer=t)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var wv={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y5(n){wv=n}function J5(n){return wv.loadJS(n)}function Z5(){return wv.gapiScript}function Nb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Ev(n,e){let t=Ha(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Fi(s,e??{}))return i;qr(i,"already-initialized")}return t.initialize({options:e})}function X5(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(sr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Iv(n,e,t){let r=Ud(n);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=Pb(e),{host:o,port:a}=ek(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||tk()}function Pb(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ek(n){let e=Pb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:ib(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:ib(o)}}}function ib(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function tk(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Nd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,t){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}};function Yy(n,e){return D(this,null,function*(){return _b(n,"POST","/v1/accounts:signInWithIdp",Ld(n,e))})}var Pd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sv=class extends Pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function nk(n,e){return D(this,null,function*(){return _b(n,"POST","/v1/accounts:signUp",Ld(n,e))})}var zi=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return D(this,null,function*(){let s=yield to._fromIdTokenResponse(e,r,i),o=sb(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=sb(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function sb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Cv(n){return D(this,null,function*(){var e;if(Pn(n.app))return Promise.reject(zr(n));let t=Ud(n);if(yield t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new zi({user:t.currentUser,providerId:null,operationType:"signIn"});let r=yield nk(t,{returnSecureToken:!0}),i=yield zi._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})}var ov=class n extends jt{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function xb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ov._fromErrorAndOperation(n,s,e,r):s})}function rk(n,e,t=!1){return D(this,null,function*(){let r=yield Wa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return zi._forOperation(n,"link",r)})}function ik(n,e,t=!1){return D(this,null,function*(){let{auth:r}=n;if(Pn(r.app))return Promise.reject(zr(r));let i="reauthenticate";try{let s=yield Wa(n,xb(r,i,e,n),t);te(s.idToken,r,"internal-error");let o=yv(s.idToken);te(o,r,"internal-error");let{sub:a}=o;return te(n.uid===a,r,"user-mismatch"),zi._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&qr(r,"user-mismatch"),s}})}function sk(n,e,t=!1){return D(this,null,function*(){if(Pn(n.app))return Promise.reject(zr(n));let r="signIn",i=yield xb(n,r,e),s=yield zi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Dv(n,e,t,r){return $t(n).onIdTokenChanged(e,t,r)}function Tv(n,e,t){return $t(n).beforeAuthStateChanged(e,t)}var xd="__sak";var Od=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xd,"1"),this.storage.removeItem(xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function ok(){let n=et();return _v(n)||Vd(n)}var ak=1e3,ck=10,uk=(()=>{class n extends Od{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ok()&&W5(),this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);G5()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,ck):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return D(this,null,function*(){yield yr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return D(this,null,function*(){let r=yield yr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return D(this,null,function*(){yield yr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Ob=uk;var lk=(()=>{class n extends Od{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),bv=lk;function dk(n){return Promise.all(n.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var hk=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return D(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>D(this,null,function*(){return h(r.origin,o)})),l=yield dk(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function kb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var av=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=kb("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function xn(){return window}function fk(n){xn().location.href=n}function Fb(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}function pk(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function gk(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mk(){return Fb()?self:null}var Lb="firebaseLocalStorageDb",yk=1,kd="firebaseLocalStorage",Vb="fbase_key",qi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function jd(n,e){return n.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function vk(){let n=indexedDB.deleteDatabase(Lb);return new qi(n).toPromise()}function cv(){let n=indexedDB.open(Lb,yk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(kd,{keyPath:Vb})}catch(i){t(i)}}),n.addEventListener("success",()=>D(this,null,function*(){let r=n.result;r.objectStoreNames.contains(kd)?e(r):(r.close(),yield vk(),e(yield cv()))}))})}function ob(n,e,t){return D(this,null,function*(){let r=jd(n,!0).put({[Vb]:e,value:t});return new qi(r).toPromise()})}function _k(n,e){return D(this,null,function*(){let t=jd(n,!1).get(e),r=yield new qi(t).toPromise();return r===void 0?null:r.value})}function ab(n,e){let t=jd(n,!0).delete(e);return new qi(t).toPromise()}var wk=800,Ek=3,Ik=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield cv(),this.db)})}_withRetries(t){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Ek)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return Fb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=hk._getInstance(mk()),this.receiver._subscribe("keyChanged",(t,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var t,r;if(this.activeServiceWorker=yield pk(),!this.activeServiceWorker)return;this.sender=new av(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||gk()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let t=yield cv();return yield ob(t,xd,"1"),yield ab(t,xd),!0}catch{}return!1})}_withPendingWrite(t){return D(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>ob(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return D(this,null,function*(){let r=yield this._withRetries(i=>_k(i,t));return this.localCache[t]=r,r})}_remove(t){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>ab(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return D(this,null,function*(){let t=yield this._withRetries(s=>{let o=jd(s,!1).getAll();return new qi(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Ub=Ik;var eW=Nb("rcb"),tW=new Hi(3e4,6e4);function Ck(n,e){return e?sr(e):(te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Qa=class extends Nd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Dk(n){return sk(n.auth,new Qa(n),n.bypassAuthState)}function Tk(n){let{auth:e,user:t}=n;return te(t,e,"internal-error"),ik(t,new Qa(n),n.bypassAuthState)}function bk(n){return D(this,null,function*(){let{auth:e,user:t}=n;return te(t,e,"internal-error"),rk(t,new Qa(n),n.bypassAuthState)})}var uv=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dk;case"linkViaPopup":case"linkViaRedirect":return bk;case"reauthViaPopup":case"reauthViaRedirect":return Tk;default:qr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var nW=new Hi(2e3,1e4);var Sk="pendingRedirect",Dd=new Map,lv=class n extends uv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=Dd.get(this.auth._key());if(!e){try{let r=(yield Ak(this.resolver,this.auth))?yield yr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return yr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,yr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function Ak(n,e){return D(this,null,function*(){let t=Nk(e),r=Mk(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Rk(n,e){Dd.set(n._key(),e)}function Mk(n){return sr(n._redirectPersistence)}function Nk(n){return Cd(Sk,n.config.apiKey,n.name)}function Pk(n,e,t=!1){return D(this,null,function*(){if(Pn(n.app))return Promise.reject(zr(n));let r=Ud(n),i=Ck(r,e),o=yield new lv(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var xk=10*60*1e3,dv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ok(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!jb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Bi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xk&&this.cachedEventUids.clear(),this.cachedEventUids.has(cb(e))}saveEventToCache(e){this.cachedEventUids.add(cb(e)),this.lastProcessedEventTime=Date.now()}};function cb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jb({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Ok(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(n);default:return!1}}function kk(t){return D(this,arguments,function*(n,e={}){return no(n,"GET","/v1/projects",e)})}var Fk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lk=/^https?/;function Vk(n){return D(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield kk(n);for(let t of e)try{if(Uk(t))return}catch{}qr(n,"unauthorized-domain")})}function Uk(n){let e=Zy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Lk.test(t))return!1;if(Fk.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var jk=new Hi(3e4,6e4);function ub(){let n=xn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $k(n){return new Promise((e,t)=>{var r,i,s;function o(){ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ub(),t(Bi(n,"network-request-failed"))},timeout:jk.get()})}if(!((i=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xn().gapi)===null||s===void 0)&&s.load)o();else{let a=Nb("iframefcb");return xn()[a]=()=>{gapi.load?o():t(Bi(n,"network-request-failed"))},J5(`${Z5()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Td=null,e})}var Td=null;function Bk(n){return Td=Td||$k(n),Td}var Hk=new Hi(5e3,15e3),zk="__/auth/iframe",qk="emulator/auth/iframe",Gk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kk(n){let e=n.config;te(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?gv(e,qk):`https://${n.config.authDomain}/${zk}`,r={apiKey:e.apiKey,appName:n.name,v:Br},i=Wk.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ja(r).slice(1)}`}function Qk(n){return D(this,null,function*(){let e=yield Bk(n),t=xn().gapi;return te(t,n,"internal-error"),e.open({where:document.body,url:Kk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gk,dontclear:!0},r=>new Promise((i,s)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Bi(n,"network-request-failed"),a=xn().setTimeout(()=>{s(o)},Hk.get());function u(){xn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Yk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jk=500,Zk=600,Xk="_blank",e8="http://localhost",Fd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function t8(n,e,t,r=Jk,i=Zk){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Yk),{width:r.toString(),height:i.toString(),top:s,left:o}),l=et().toLowerCase();t&&(a=Db(l)?Xk:t),Cb(l)&&(e=e||e8,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(q5(l)&&a!=="_self")return n8(e||"",a),new Fd(null);let p=window.open(e||"",a,h);te(p,n,"popup-blocked");try{p.focus()}catch{}return new Fd(p)}function n8(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var r8="__/auth/handler",i8="emulator/auth/handler",s8=encodeURIComponent("fac");function lb(n,e,t,r,i,s){return D(this,null,function*(){te(n.config.authDomain,n,"auth-domain-config-required"),te(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Br,eventId:i};if(e instanceof Pd){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",FT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof sv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${s8}=${encodeURIComponent(u)}`:"";return`${o8(n)}?${ja(a).slice(1)}${l}`})}function o8({config:n}){return n.emulator?gv(n,i8):`https://${n.authDomain}/${r8}`}var Jy="webStorageSupport",hv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bv,this._completeRedirectFn=Pk,this._overrideRedirectResult=Rk}_openPopup(e,t,r,i){return D(this,null,function*(){var s;Gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield lb(e,t,r,Zy(),i);return t8(e,o,kb())})}_openRedirect(e,t,r,i){return D(this,null,function*(){yield this._originValidation(e);let s=yield lb(e,t,r,Zy(),i);return fk(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Gr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return D(this,null,function*(){let t=yield Qk(e),r=new dv(e);return t.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jy,{type:Jy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Jy];o!==void 0&&t(!!o),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rb()||_v()||Vd()}},$b=hv;var db="@firebase/auth",hb="1.7.5";var fv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function a8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c8(n){$r(new Jt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mb(n)},l=new iv(r,i,s,u);return X5(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),$r(new Jt("auth-internal",e=>{let t=Ud(e.getProvider("auth").getImmediate());return(r=>new fv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(db,hb,a8(n)),tt(db,hb,"esm2017")}var u8=5*60,l8=My("authIdTokenMaxAge")||u8,fb=null,d8=n=>e=>D(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>l8)return;let i=t?.token;fb!==i&&(fb=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Sv(n=Js()){let e=Ha(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Ev(n,{popupRedirectResolver:$b,persistence:[Ub,Ob,bv]}),r=My("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=d8(s.toString());Tv(t,o,()=>o(t.currentUser)),Dv(t,a=>o(a))}}let i=Ay("auth");return i&&Iv(t,`http://${i}`),t}function h8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Y5({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Bi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",h8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c8("Browser");var Bb="auth",Ya=class{constructor(e){return e}},Ja=class{constructor(){return za(Bb)}};var Av=new X("angularfire2.auth-instances");function s7(n,e){let t=_d(Bb,n,e);return t&&new Ya(t)}function o7(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ya(r)}}var a7={provide:Ja,deps:[[new mt,Av]]},c7={provide:Ya,useFactory:s7,deps:[[new mt,Av],rr]};function Hb(n,...e){return tt("angularfire",ji.full,"auth"),bn([c7,a7,{provide:Av,useFactory:o7(n),multi:!0,deps:[fe,ln,eo,$i,[new mt,Xs],...e]}])}var $d=pn(Sv,!0);var zb=pn(Cv,!0);var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gb={};var Wr,Rv;(function(){var n;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(I,T,S){for(var w=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)w[Bt-2]=arguments[Bt];return v.prototype[T].apply(I,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)I[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],T=E.g[2];var S=E.g[3],w=v+(S^_&(T^S))+I[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=S+(T^v&(_^T))+I[1]+3905402710&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(_^S&(v^_))+I[2]+606105819&4294967295,T=S+(w<<17&4294967295|w>>>15),w=_+(v^T&(S^v))+I[3]+3250441966&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(S^_&(T^S))+I[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=S+(T^v&(_^T))+I[5]+1200080426&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(_^S&(v^_))+I[6]+2821735955&4294967295,T=S+(w<<17&4294967295|w>>>15),w=_+(v^T&(S^v))+I[7]+4249261313&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(S^_&(T^S))+I[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=S+(T^v&(_^T))+I[9]+2336552879&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(_^S&(v^_))+I[10]+4294925233&4294967295,T=S+(w<<17&4294967295|w>>>15),w=_+(v^T&(S^v))+I[11]+2304563134&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(S^_&(T^S))+I[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=S+(T^v&(_^T))+I[13]+4254626195&4294967295,S=v+(w<<12&4294967295|w>>>20),w=T+(_^S&(v^_))+I[14]+2792965006&4294967295,T=S+(w<<17&4294967295|w>>>15),w=_+(v^T&(S^v))+I[15]+1236535329&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(T^S&(_^T))+I[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=S+(_^T&(v^_))+I[6]+3225465664&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(S^v))+I[11]+643717713&4294967295,T=S+(w<<14&4294967295|w>>>18),w=_+(S^v&(T^S))+I[0]+3921069994&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^S&(_^T))+I[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=S+(_^T&(v^_))+I[10]+38016083&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(S^v))+I[15]+3634488961&4294967295,T=S+(w<<14&4294967295|w>>>18),w=_+(S^v&(T^S))+I[4]+3889429448&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^S&(_^T))+I[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=S+(_^T&(v^_))+I[14]+3275163606&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(S^v))+I[3]+4107603335&4294967295,T=S+(w<<14&4294967295|w>>>18),w=_+(S^v&(T^S))+I[8]+1163531501&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^S&(_^T))+I[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=S+(_^T&(v^_))+I[2]+4243563512&4294967295,S=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(S^v))+I[7]+1735328473&4294967295,T=S+(w<<14&4294967295|w>>>18),w=_+(S^v&(T^S))+I[12]+2368359562&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(_^T^S)+I[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=S+(v^_^T)+I[8]+2272392833&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^_)+I[11]+1839030562&4294967295,T=S+(w<<16&4294967295|w>>>16),w=_+(T^S^v)+I[14]+4259657740&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^S)+I[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=S+(v^_^T)+I[4]+1272893353&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^_)+I[7]+4139469664&4294967295,T=S+(w<<16&4294967295|w>>>16),w=_+(T^S^v)+I[10]+3200236656&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^S)+I[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=S+(v^_^T)+I[0]+3936430074&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^_)+I[3]+3572445317&4294967295,T=S+(w<<16&4294967295|w>>>16),w=_+(T^S^v)+I[6]+76029189&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^S)+I[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=S+(v^_^T)+I[12]+3873151461&4294967295,S=v+(w<<11&4294967295|w>>>21),w=T+(S^v^_)+I[15]+530742520&4294967295,T=S+(w<<16&4294967295|w>>>16),w=_+(T^S^v)+I[2]+3299628645&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(T^(_|~S))+I[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=S+(_^(v|~T))+I[7]+1126891415&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~_))+I[14]+2878612391&4294967295,T=S+(w<<15&4294967295|w>>>17),w=_+(S^(T|~v))+I[5]+4237533241&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~S))+I[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=S+(_^(v|~T))+I[3]+2399980690&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~_))+I[10]+4293915773&4294967295,T=S+(w<<15&4294967295|w>>>17),w=_+(S^(T|~v))+I[1]+2240044497&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~S))+I[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=S+(_^(v|~T))+I[15]+4264355552&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~_))+I[6]+2734768916&4294967295,T=S+(w<<15&4294967295|w>>>17),w=_+(S^(T|~v))+I[13]+1309151649&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~S))+I[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=S+(_^(v|~T))+I[11]+3174756917&4294967295,S=v+(w<<10&4294967295|w>>>22),w=T+(v^(S|~_))+I[2]+718787259&4294967295,T=S+(w<<15&4294967295|w>>>17),w=_+(S^(T|~v))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,I=this.B,T=this.h,S=0;S<v;){if(T==0)for(;S<=_;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<v;)if(I[T++]=E.charCodeAt(S++),T==this.blockSize){i(this,I),T=0;break}}else for(;S<v;)if(I[T++]=E[S++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var I=0;32>I;I+=8)E[_++]=this.g[v]>>>I&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],I=!0,T=E.length-1;0<=T;T--){var S=E[T]|0;I&&S==v||(_[T]=S,I=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(l(-E));for(var v=[],_=1,I=0;E>=_;I++)v[I]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return M(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),I=p,T=0;T<E.length;T+=8){var S=Math.min(8,E.length-T),w=parseInt(E.substring(T,T+S),v);8>S?(S=l(Math.pow(v,S)),I=I.j(S).add(l(w))):(I=I.j(_),I=I.add(l(w)))}return I}var p=u(0),m=u(1),y=u(16777216);n=o.prototype,n.m=function(){if(A(this))return-M(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var I=this.i(_);E+=(0<=I?I:4294967296+I)*v,v*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(A(this))return"-"+M(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,I="";;){var T=W(_,v).g;_=N(_,T.j(v));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=T,C(_))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function A(E){return E.h==-1}n.l=function(E){return E=N(this,E),A(E)?-1:C(E)?0:1};function M(E){for(var v=E.g.length,_=[],I=0;I<v;I++)_[I]=~E.g[I];return new o(_,~E.h).add(m)}n.abs=function(){return A(this)?M(this):this},n.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0,T=0;T<=v;T++){var S=I+(this.i(T)&65535)+(E.i(T)&65535),w=(S>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);I=w>>>16,S&=65535,w&=65535,_[T]=w<<16|S}return new o(_,_[_.length-1]&-2147483648?-1:0)};function N(E,v){return E.add(M(v))}n.j=function(E){if(C(this)||C(E))return p;if(A(this))return A(E)?M(this).j(M(E)):M(M(this).j(E));if(A(E))return M(this.j(M(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],I=0;I<2*v;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<E.g.length;T++){var S=this.i(I)>>>16,w=this.i(I)&65535,Bt=E.i(T)>>>16,dr=E.i(T)&65535;_[2*I+2*T]+=w*dr,q(_,2*I+2*T),_[2*I+2*T+1]+=S*dr,q(_,2*I+2*T+1),_[2*I+2*T+1]+=w*Bt,q(_,2*I+2*T+1),_[2*I+2*T+2]+=S*Bt,q(_,2*I+2*T+2)}for(I=0;I<v;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=v;I<2*v;I++)_[I]=0;return new o(_,0)};function q(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function $(E,v){this.g=E,this.h=v}function W(E,v){if(C(v))throw Error("division by zero");if(C(E))return new $(p,p);if(A(E))return v=W(M(E),v),new $(M(v.g),M(v.h));if(A(v))return v=W(E,M(v)),new $(M(v.g),v.h);if(30<E.g.length){if(A(E)||A(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,I=v;0>=I.l(E);)_=be(_),I=be(I);var T=K(_,1),S=K(I,1);for(I=K(I,2),_=K(_,2);!C(I);){var w=S.add(I);0>=w.l(E)&&(T=T.add(_),S=w),I=K(I,1),_=K(_,1)}return v=N(E,T.j(v)),new $(T,v)}for(T=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=l(_),w=S.j(v);A(w)||0<w.l(E);)_-=I,S=l(_),w=S.j(v);C(S)&&(S=m),T=T.add(S),E=N(E,w)}return new $(T,E)}n.A=function(E){return W(this,E).h},n.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)&E.i(I);return new o(_,this.h&E.h)},n.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)|E.i(I);return new o(_,this.h|E.h)},n.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],I=0;I<v;I++)_[I]=this.i(I)^E.i(I);return new o(_,this.h^E.h)};function be(E){for(var v=E.g.length+1,_=[],I=0;I<v;I++)_[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(_,E.h)}function K(E,v){var _=v>>5;v%=32;for(var I=E.g.length-_,T=[],S=0;S<I;S++)T[S]=0<v?E.i(S+_)>>>v|E.i(S+_+1)<<32-v:E.i(S+_);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Rv=Gb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Wr=Gb.Integer=o}).apply(typeof qb<"u"?qb:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},or={};var Mv,Nv,ro,Pv,Za,Hd,xv,Ov,kv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,R){for(var k=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)k[Se-2]=arguments[Se];return d.prototype[b].apply(g,k)}}function A(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,R=g.length||0;c.length=b+R;for(let k=0;k<R;k++)c[b+k]=g[k]}else c.push(g)}}class N{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var be=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function K(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let R=0;R<_.length;R++)f=_[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function w(){var c=he;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Bt{constructor(){this.h=this.g=null}add(d,f){let g=dr.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var dr=new N(()=>new V,c=>c.reset());class V{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let z,G=!1,he=new Bt,qe=()=>{let c=a.Promise.resolve(void 0);z=()=>{c.then(Ht)}};var Ht=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){S(f)}var d=dr;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}G=!1};function je(){this.s=this.s,this.C=this.C}je.prototype.s=!1,je.prototype.ma=function(){this.s||(this.s=!0,this.N())},je.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function hr(c,d){if(Ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(be){e:{try{W(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Rh[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&hr.aa.h.call(this)}}C(hr,Ne);var Rh={2:"touch",3:"pen",4:"mouse"};hr.prototype.h=function(){hr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Un=0;function St(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++Un,this.da=this.fa=!1}function jn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fr(c){this.src=c,this.g={},this.h=0}fr.prototype.add=function(c,d,f,g,b){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var k=Nh(c,d,g,b);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new St(d,this.src,R,!!g,b),d.fa=f,c.push(d)),d};function Mh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=b)&&Array.prototype.splice.call(g,b,1),R&&(jn(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Nh(c,d,f,g){for(var b=0;b<c.length;++b){var R=c[b];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==g)return b}return-1}var Ph="closure_lm_"+(1e6*Math.random()|0),xh={};function G1(c,d,f,g,b){if(g&&g.once)return K1(c,d,f,g,b);if(Array.isArray(d)){for(var R=0;R<d.length;R++)G1(c,d[R],f,g,b);return null}return f=Lh(f),c&&c[$e]?c.K(d,f,l(g)?!!g.capture:!!g,b):W1(c,d,f,!1,g,b)}function W1(c,d,f,g,b,R){if(!d)throw Error("Invalid event type");var k=l(b)?!!b.capture:!!b,Se=kh(c);if(Se||(c[Ph]=Se=new fr(c)),f=Se.add(d,f,g,k,R),f.proxy)return f;if(g=qS(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)Pe||(b=k),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(Y1(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function qS(){function c(f){return d.call(c.src,c.listener,f)}let d=GS;return c}function K1(c,d,f,g,b){if(Array.isArray(d)){for(var R=0;R<d.length;R++)K1(c,d[R],f,g,b);return null}return f=Lh(f),c&&c[$e]?c.L(d,f,l(g)?!!g.capture:!!g,b):W1(c,d,f,!0,g,b)}function Q1(c,d,f,g,b){if(Array.isArray(d))for(var R=0;R<d.length;R++)Q1(c,d[R],f,g,b);else g=l(g)?!!g.capture:!!g,f=Lh(f),c&&c[$e]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=Nh(R,f,g,b),-1<f&&(jn(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=kh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Nh(d,f,g,b)),(f=-1<c?d[c]:null)&&Oh(f))}function Oh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[$e])Mh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Y1(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=kh(d))?(Mh(f,c),f.h==0&&(f.src=null,d[Ph]=null)):jn(c)}}}function Y1(c){return c in xh?xh[c]:xh[c]="on"+c}function GS(c,d){if(c.da)c=!0;else{d=new hr(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Oh(c),c=f.call(g,d)}return c}function kh(c){return c=c[Ph],c instanceof fr?c:null}var Fh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lh(c){return typeof c=="function"?c:(c[Fh]||(c[Fh]=function(d){return c.handleEvent(d)}),c[Fh])}function dt(){je.call(this),this.i=new fr(this),this.M=this,this.F=null}C(dt,je),dt.prototype[$e]=!0,dt.prototype.removeEventListener=function(c,d,f,g){Q1(this,c,d,f,g)};function wt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Ne(d,c);else if(d instanceof Ne)d.target=d.target||c;else{var b=d;d=new Ne(g,c),I(d,b)}if(b=!0,f)for(var R=f.length-1;0<=R;R--){var k=d.g=f[R];b=Ac(k,g,!0,d)&&b}if(k=d.g=c,b=Ac(k,g,!0,d)&&b,b=Ac(k,g,!1,d)&&b,f)for(R=0;R<f.length;R++)k=d.g=f[R],b=Ac(k,g,!1,d)&&b}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)jn(f[g]);delete c.g[d],c.h--}}this.F=null},dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ac(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,R=0;R<d.length;++R){var k=d[R];if(k&&!k.da&&k.capture==f){var Se=k.listener,st=k.ha||k.src;k.fa&&Mh(c.i,k),b=Se.call(st,g)!==!1&&b}}return b&&!g.defaultPrevented}function J1(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Z1(c){c.g=J1(()=>{c.g=null,c.i&&(c.i=!1,Z1(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class WS extends je{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Z1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function To(c){je.call(this),this.h=c,this.g={}}C(To,je);var X1=[];function e_(c){K(c.g,function(d,f){this.g.hasOwnProperty(f)&&Oh(d)},c),c.g={}}To.prototype.N=function(){To.aa.N.call(this),e_(this)},To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vh=a.JSON.stringify,KS=a.JSON.parse,QS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Uh(){}Uh.prototype.h=null;function t_(c){return c.h||(c.h=c.i())}function n_(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jh(){Ne.call(this,"d")}C(jh,Ne);function $h(){Ne.call(this,"c")}C($h,Ne);var Xr={},r_=null;function Rc(){return r_=r_||new dt}Xr.La="serverreachability";function i_(c){Ne.call(this,Xr.La,c)}C(i_,Ne);function So(c){let d=Rc();wt(d,new i_(d))}Xr.STAT_EVENT="statevent";function s_(c,d){Ne.call(this,Xr.STAT_EVENT,c),this.stat=d}C(s_,Ne);function Et(c){let d=Rc();wt(d,new s_(d,c))}Xr.Ma="timingevent";function o_(c,d){Ne.call(this,Xr.Ma,c),this.size=d}C(o_,Ne);function Ao(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ro(){this.g=!0}Ro.prototype.xa=function(){this.g=!1};function YS(c,d,f,g,b,R){c.info(function(){if(c.g)if(R)for(var k="",Se=R.split("&"),st=0;st<Se.length;st++){var Ie=Se[st].split("=");if(1<Ie.length){var ht=Ie[0];Ie=Ie[1];var ft=ht.split("_");k=2<=ft.length&&ft[1]=="type"?k+(ht+"="+Ie+"&"):k+(ht+"=redacted&")}}else k=null;else k=R;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+k})}function JS(c,d,f,g,b,R,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+R+" "+k})}function ns(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+XS(c,f)+(g?" "+g:"")})}function ZS(c,d){c.info(function(){return"TIMEOUT: "+d})}Ro.prototype.info=function(){};function XS(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var R=b[0];if(R!="noop"&&R!="stop"&&R!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return Vh(f)}catch{return d}}var Mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},a_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bh;function Nc(){}C(Nc,Uh),Nc.prototype.g=function(){return new XMLHttpRequest},Nc.prototype.i=function(){return{}},Bh=new Nc;function pr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new To(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new c_}function c_(){this.i=null,this.g="",this.h=!1}var u_={},Hh={};function zh(c,d,f){c.L=1,c.v=kc($n(d)),c.m=f,c.P=!0,l_(c,null)}function l_(c,d){c.F=Date.now(),Pc(c),c.A=$n(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),D_(f.i,"t",g),c.C=0,f=c.j.J,c.h=new c_,c.g=B_(c.j,f?d:null,!c.m),0<c.O&&(c.M=new WS(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(X1[0]=b.toString()),b=X1);for(var R=0;R<b.length;R++){var k=G1(f,b[R],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),So(),YS(c.i,c.u,c.A,c.l,c.R,c.m)}pr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Bn(c)==3?d.j():this.Y(c)},pr.prototype.Y=function(c){try{if(c==this.g)e:{let ft=Bn(this.g);var d=this.g.Ba();let ss=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||N_(this.g)))){this.J||ft!=4||d==7||(d==8||0>=ss?So(3):So(2)),qh(this);var f=this.g.Z();this.X=f;t:if(d_(this)){var g=N_(this.g);c="";var b=g.length,R=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),Mo(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,JS(this.i,this.u,this.A,this.l,this.R,ft,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,st=this.g;if((Se=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Se)){var Ie=Se;break t}}Ie=null}if(f=Ie)ns(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gh(this,f);else{this.o=!1,this.s=3,Et(12),ei(this),Mo(this);break e}}if(this.P){f=!0;let Xt;for(;!this.J&&this.C<k.length;)if(Xt=eA(this,k),Xt==Hh){ft==4&&(this.s=4,Et(14),f=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==u_){this.s=4,Et(15),ns(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else ns(this.i,this.l,Xt,null),Gh(this,Xt);if(d_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||k.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)ns(this.i,this.l,k,"[Invalid Chunked Response]"),ei(this),Mo(this);else if(0<k.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Zh(ht),ht.M=!0,Et(11))}}else ns(this.i,this.l,k,null),Gh(this,k);ft==4&&ei(this),this.o&&!this.J&&(ft==4?V_(this.j,this):(this.o=!1,Pc(this)))}else yA(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),ei(this),Mo(this)}}}catch{}finally{}};function d_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eA(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Hh:(f=Number(d.substring(f,g)),isNaN(f)?u_:(g+=1,g+f>d.length?Hh:(d=d.slice(g,g+f),c.C=g+f,d)))}pr.prototype.cancel=function(){this.J=!0,ei(this)};function Pc(c){c.S=Date.now()+c.I,h_(c,c.I)}function h_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ao(m(c.ba,c),d)}function qh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}pr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ZS(this.i,this.A),this.L!=2&&(So(),Et(17)),ei(this),this.s=2,Mo(this)):h_(this,this.S-c)};function Mo(c){c.j.G==0||c.J||V_(c.j,c)}function ei(c){qh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,e_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Gh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Wh(f.h,c))){if(!c.K&&Wh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)jc(f),Vc(f);else break e;Jh(f),Et(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ao(m(f.Za,f),6e3));if(1>=g_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ni(f,11)}else if((c.K||f.g==c)&&jc(f),!q(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let Ie=b[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let ht=Ie[3];ht!=null&&(f.la=ht,f.j.info("VER="+f.la));let ft=Ie[4];ft!=null&&(f.Aa=ft,f.j.info("SVER="+f.Aa));let ss=Ie[5];ss!=null&&typeof ss=="number"&&0<ss&&(g=1.5*ss,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Xt=c.g;if(Xt){let Bc=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var R=g.h;R.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Kh(R,R.h),R.h=null))}if(g.D){let Xh=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xh&&(g.ya=Xh,xe(g.I,g.D,Xh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=$_(g,g.J?g.ia:null,g.W),k.K){m_(g.h,k);var Se=k,st=g.L;st&&(Se.I=st),Se.B&&(qh(Se),Pc(Se)),g.g=k}else F_(g);0<f.i.length&&Uc(f)}else Ie[0]!="stop"&&Ie[0]!="close"||ni(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?ni(f,7):Yh(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}So(4)}catch{}}var tA=class{constructor(c,d){this.g=c,this.map=d}};function f_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function g_(c){return c.h?1:c.g?c.g.size:0}function Wh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Kh(c,d){c.g?c.g.add(d):c.h=d}function m_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}f_.prototype.cancel=function(){if(this.i=y_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function y_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return A(c.i)}function nA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function rA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function v_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=rA(c),g=nA(c),b=g.length,R=0;R<b;R++)d.call(void 0,g[R],f&&f[R],c)}var __=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var R=c[f].substring(0,g);b=c[f].substring(g+1)}else R=c[f];d(R,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ti(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ti){this.h=c.h,xc(this,c.j),this.o=c.o,this.g=c.g,Oc(this,c.s),this.l=c.l;var d=c.i,f=new xo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),w_(this,f),this.m=c.m}else c&&(d=String(c).match(__))?(this.h=!1,xc(this,d[1]||"",!0),this.o=No(d[2]||""),this.g=No(d[3]||"",!0),Oc(this,d[4]),this.l=No(d[5]||"",!0),w_(this,d[6]||"",!0),this.m=No(d[7]||"")):(this.h=!1,this.i=new xo(null,this.h))}ti.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Po(d,E_,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Po(d,E_,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Po(f,f.charAt(0)=="/"?aA:oA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Po(f,uA)),c.join("")};function $n(c){return new ti(c)}function xc(c,d,f){c.j=f?No(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Oc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function w_(c,d,f){d instanceof xo?(c.i=d,lA(c.i,c.h)):(f||(d=Po(d,cA)),c.i=new xo(d,c.h))}function xe(c,d,f){c.i.set(d,f)}function kc(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function No(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Po(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,sA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var E_=/[#\/\?@]/g,oA=/[#\?:]/g,aA=/[#\?]/g,cA=/[#\?@]/g,uA=/#/g;function xo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function gr(c){c.g||(c.g=new Map,c.h=0,c.i&&iA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=xo.prototype,n.add=function(c,d){gr(this),this.i=null,c=rs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function I_(c,d){gr(c),d=rs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function C_(c,d){return gr(c),d=rs(c,d),c.g.has(d)}n.forEach=function(c,d){gr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){gr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let R=0;R<b.length;R++)f.push(d[g])}return f},n.V=function(c){gr(this);let d=[];if(typeof c=="string")C_(this,c)&&(d=d.concat(this.g.get(rs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return gr(this),this.i=null,c=rs(this,c),C_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function D_(c,d,f){I_(c,d),0<f.length&&(c.i=null,c.g.set(rs(c,d),A(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let R=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var b=R;k[g]!==""&&(b+="="+encodeURIComponent(String(k[g]))),c.push(b)}}return this.i=c.join("&")};function rs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function lA(c,d){d&&!c.j&&(gr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(I_(this,g),D_(this,b,f))},c)),c.j=d}function dA(c,d){let f=new Ro;if(a.Image){let g=new Image;g.onload=y(mr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(mr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(mr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(mr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function hA(c,d){let f=new Ro,g=new AbortController,b=setTimeout(()=>{g.abort(),mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(b),R.ok?mr(f,"TestPingServer: ok",!0,d):mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),mr(f,"TestPingServer: error",!1,d)})}function mr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function fA(){this.g=new QS}function pA(c,d,f){let g=f||"";try{v_(c,function(b,R){let k=b;l(b)&&(k=Vh(b)),d.push(g+R+"="+encodeURIComponent(k))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Oo(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Oo,Uh),Oo.prototype.g=function(){return new Fc(this.l,this.j)},Oo.prototype.i=function(c){return function(){return c}}({});function Fc(c,d){dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Fc,dt),n=Fc.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Fo(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ko(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;T_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function T_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ko(this):Fo(this),this.readyState==3&&T_(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ko(this))},n.Qa=function(c){this.g&&(this.response=c,ko(this))},n.ga=function(){this.g&&ko(this)};function ko(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fo(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Fo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function b_(c){let d="";return K(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Qh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=b_(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):xe(c,d,f))}function Be(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Be,dt);var gA=/^https?$/i,mA=["POST","PUT"];n=Be.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bh.g(),this.v=this.o?t_(this.o):t_(Bh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){S_(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mA,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,k]of f)this.g.setRequestHeader(R,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{M_(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){S_(this,R)}};function S_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,A_(c),Lc(c)}function A_(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Lc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lc(this,!0)),Be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?R_(this):this.bb())},n.bb=function(){R_(this)};function R_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)J1(c.Ea,0,c);else if(wt(c,"readystatechange"),Bn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var b=String(c.D).match(__)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!gA.test(b?b.toLowerCase():"")}f=g}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var R=2<Bn(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",A_(c)}}finally{Lc(c)}}}}function Lc(c,d){if(c.g){M_(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=g}catch{}}}function M_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),KS(d)}};function N_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yA(c){let d={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(q(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[b]||[];d[b]=R,R.push(f)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function P_(c){this.Aa=0,this.i=[],this.j=new Ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,c),this.cb=Lo("retryDelaySeedMs",1e4,c),this.Wa=Lo("forwardChannelMaxRetries",2,c),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new f_(c&&c.concurrentRequestLimit),this.Da=new fA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=P_.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Et(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=$_(this,null,this.W),Uc(this)};function Yh(c){if(x_(c),c.G==3){var d=c.U++,f=$n(c.I);if(xe(f,"SID",c.K),xe(f,"RID",d),xe(f,"TYPE","terminate"),Vo(c,f),d=new pr(c,c.j,d),d.L=2,d.v=kc($n(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=B_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pc(d)}j_(c)}function Vc(c){c.g&&(Zh(c),c.g.cancel(),c.g=null)}function x_(c){Vc(c),c.u&&(a.clearTimeout(c.u),c.u=null),jc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Uc(c){if(!p_(c.h)&&!c.s){c.s=!0;var d=c.Ga;z||qe(),G||(z(),G=!0),he.add(d,c),c.B=0}}function vA(c,d){return g_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ao(m(c.Ga,c,d),U_(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new pr(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),I(R,this.S)):R=this.S),this.m!==null||this.O||(b.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=k_(this,b,d),f=$n(this.I),xe(f,"RID",c),xe(f,"CVER",22),this.D&&xe(f,"X-HTTP-Session-Id",this.D),Vo(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(b_(R)))+"&"+d:this.m&&Qh(f,this.m,R)),Kh(this.h,b),this.Ua&&xe(f,"TYPE","init"),this.P?(xe(f,"$req",d),xe(f,"SID","null"),b.T=!0,zh(b,f,null)):zh(b,f,d),this.G=2}}else this.G==3&&(c?O_(this,c):this.i.length==0||p_(this.h)||O_(this))};function O_(c,d){var f;d?f=d.l:f=c.U++;let g=$n(c.I);xe(g,"SID",c.K),xe(g,"RID",f),xe(g,"AID",c.T),Vo(c,g),c.m&&c.o&&Qh(g,c.m,c.o),f=new pr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=k_(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Kh(c.h,f),zh(f,g,d)}function Vo(c,d){c.H&&K(c.H,function(f,g){xe(d,g,f)}),c.l&&v_({},function(f,g){xe(d,g,f)})}function k_(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let R=-1;for(;;){let k=["count="+f];R==-1?0<f?(R=b[0].g,k.push("ofs="+R)):R=0:k.push("ofs="+R);let Se=!0;for(let st=0;st<f;st++){let Ie=b[st].g,ht=b[st].map;if(Ie-=R,0>Ie)R=Math.max(0,b[st].g-100),Se=!1;else try{pA(ht,k,"req"+Ie+"_")}catch{g&&g(ht)}}if(Se){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function F_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;z||qe(),G||(z(),G=!0),he.add(d,c),c.v=0}}function Jh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ao(m(c.Fa,c),U_(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,L_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ao(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Vc(this),L_(this))};function Zh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function L_(c){c.g=new pr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=$n(c.qa);xe(d,"RID","rpc"),xe(d,"SID",c.K),xe(d,"AID",c.T),xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(d,"TO",c.ja),xe(d,"TYPE","xmlhttp"),Vo(c,d),c.m&&c.o&&Qh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=kc($n(d)),f.m=null,f.P=!0,l_(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Vc(this),Jh(this),Et(19))};function jc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function V_(c,d){var f=null;if(c.g==d){jc(c),Zh(c),c.g=null;var g=2}else if(Wh(c.h,d))f=d.D,m_(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Rc(),wt(g,new o_(g,f)),Uc(c)}else F_(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&vA(c,d)||g==2&&Jh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:ni(c,5);break;case 4:ni(c,10);break;case 3:ni(c,6);break;default:ni(c,2)}}}function U_(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ni(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new ti(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xc(g,"https"),kc(g),b?dA(g.toString(),f):hA(g.toString(),f)}else Et(2);c.G=0,c.l&&c.l.sa(d),j_(c),x_(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function j_(c){if(c.G=0,c.ka=[],c.l){let d=y_(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function $_(c,d,f){var g=f instanceof ti?$n(f):new ti(f);if(g.g!="")d&&(g.g=d+"."+g.g),Oc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var R=new ti(null);g&&xc(R,g),d&&(R.g=d),b&&Oc(R,b),f&&(R.l=f),g=R}return f=c.D,d=c.ya,f&&d&&xe(g,f,d),xe(g,"VER",c.la),Vo(c,g),g}function B_(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Be(new Oo({eb:f})):new Be(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function H_(){}n=H_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $c(){}$c.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){dt.call(this),this.g=new P_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new is(this)}C(Ot,dt),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Yh(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Vh(c),c=f);d.i.push(new tA(d.Ya++,c)),d.G==3&&Uc(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Yh(this.g),delete this.g,Ot.aa.N.call(this)};function z_(c){jh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(z_,jh);function q_(){$h.call(this),this.status=1}C(q_,$h);function is(c){this.g=c}C(is,H_),is.prototype.ua=function(){wt(this.g,"a")},is.prototype.ta=function(c){wt(this.g,new z_(c))},is.prototype.sa=function(c){wt(this.g,new q_)},is.prototype.ra=function(){wt(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,kv=or.createWebChannelTransport=function(){return new $c},Ov=or.getStatEventTarget=function(){return Rc()},xv=or.Event=Xr,Hd=or.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,Za=or.ErrorCode=Mc,a_.COMPLETE="complete",Pv=or.EventType=a_,n_.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ro=or.WebChannel=n_,Nv=or.FetchXmlHttpFactory=Oo,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Mv=or.XhrIo=Be}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});var Wb="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var Co="10.12.3";var Yi=new Ur("@firebase/firestore");function Xa(){return Yi.logLevel}function H(n,...e){if(Yi.logLevel<=me.DEBUG){let t=e.map(w1);Yi.debug(`Firestore (${Co}): ${n}`,...t)}}function cr(n,...e){if(Yi.logLevel<=me.ERROR){let t=e.map(w1);Yi.error(`Firestore (${Co}): ${n}`,...t)}}function fo(n,...e){if(Yi.logLevel<=me.WARN){let t=e.map(w1);Yi.warn(`Firestore (${Co}): ${n}`,...t)}}function w1(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ie(n="Unexpected state"){let e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function Xe(n,e){n||ie()}function Ee(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends jt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Kd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$v=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(it.UNAUTHENTICATED))}shutdown(){}},Bv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Hv=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kr)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new Kd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new it(e)}},zv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},qv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new zv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Wv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new Gv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function u7(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Kv=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=u7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function po(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var vt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new j(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new vt(0,0))}static max(){return new n(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ie(),r===void 0?r=e.length-t:r>e.length-t&&ie(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},We=class n extends Qd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},l7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zt=class n extends Qd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return l7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new j(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n(We.fromString(e))}static fromName(e){return new n(We.fromString(e).popFirst(5))}static empty(){return new n(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new We(e.slice()))}};var Qv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Qv.UNKNOWN_ID=-1;function d7(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new vt(t+1,0):new vt(t,r));return new Ji(i,Y.empty(),e)}function h7(n){return new Ji(n.readTime,n.key,-1)}var Ji=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),Y.empty(),-1)}static max(){return new n(ae.max(),Y.empty(),-1)}};function f7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var p7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function E1(n){return D(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==p7)throw n;H("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;t(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function g7(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ic(n){return n.name==="IndexedDbTransactionError"}var b2=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function wh(n){return n==null}function oc(n){return n===0&&1/n==-1/0}function m7(n){return typeof n=="number"&&Number.isInteger(n)&&!oc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var y7=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tK=[...y7,"documentOverlays"],v7=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_7=v7,nK=[..._7,"indexConfiguration","indexState","indexEntries"];function Kb(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function S2(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ke=class n{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ao(this.root,e,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ao(this.root,e,this.comparator,!0)}},ao=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();let e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}};kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,t,r,i,s){return this}insert(e,t,r){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _t=class n{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gi=class n{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new n([])}unionWith(e){let t=new _t(Zt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Jd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jd("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var w7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(n){if(Xe(!!n),typeof n=="string"){let e=0,t=w7.exec(n);if(Xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(n.seconds),nanos:ze(n.nanos)}}function ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qr(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}function I1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function C1(n){let e=n.mapValue.fields.__previous_value__;return I1(e)?C1(e):e}function ac(n){let e=ur(n.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}var Jv=class{constructor(e,t,r,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Zd=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var zd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?I1(n)?4:A2(n)?9007199254740991:10:ie()}function Ln(n,e){if(n===e)return!0;let t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ac(n).isEqual(ac(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ur(i.timestampValue),a=ur(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Qr(i.bytesValue).isEqual(Qr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ze(i.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ze(i.integerValue)===ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=ze(i.doubleValue),a=ze(s.doubleValue);return o===a?oc(o)===oc(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return po(n.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Kb(o)!==Kb(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Ln(o[u],a[u])))return!1;return!0}(n,e);default:return ie()}}function cc(n,e){return(n.values||[]).find(t=>Ln(t,e))!==void 0}function go(n,e){if(n===e)return 0;let t=Zi(n),r=Zi(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ze(s.integerValue||s.doubleValue),u=ze(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return Qb(n.timestampValue,e.timestampValue);case 4:return Qb(ac(n),ac(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Qr(s),u=Qr(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Te(a[l],u[l]);if(h!==0)return h}return Te(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Te(ze(s.latitude),ze(o.latitude));return a!==0?a:Te(ze(s.longitude),ze(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){let h=go(a[l],u[l]);if(h)return h}return Te(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===zd.mapValue&&o===zd.mapValue)return 0;if(s===zd.mapValue)return 1;if(o===zd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Te(u[p],h[p]);if(m!==0)return m;let y=go(a[u[p]],l[h[p]]);if(y!==0)return y}return Te(u.length,h.length)}(n.mapValue,e.mapValue);default:throw ie()}}function Qb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=ur(n),r=ur(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function mo(n){return Zv(n)}function Zv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ur(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Y.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Zv(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Zv(t.fields[o])}`;return i+"}"}(n.mapValue):ie()}function Yb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xv(n){return!!n&&"integerValue"in n}function D1(n){return!!n&&"arrayValue"in n}function Jb(n){return!!n&&"nullValue"in n}function Zb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fv(n){return!!n&&"mapValue"in n}function tc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Cc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ar=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}setAll(e){let t=Zt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=tc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Fv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Fv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Cc(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(tc(this.value))}};var gn=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),ar.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),ar.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var yo=class{constructor(e,t){this.position=e,this.inclusive=t}};function Xb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),t.key):r=go(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function e2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ln(n.position[t],e.position[t]))return!1;return!0}var Xi=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function E7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Xd=class{},Ze=class n extends Xd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new t0(e,t,r):t==="array-contains"?new i0(e,r):t==="in"?new s0(e,r):t==="not-in"?new o0(e,r):t==="array-contains-any"?new a0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new n0(e,r):new r0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(go(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mn=class n extends Xd{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return R2(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function R2(n){return n.op==="and"}function M2(n){return I7(n)&&R2(n)}function I7(n){for(let e of n.filters)if(e instanceof mn)return!1;return!0}function e0(n){if(n instanceof Ze)return n.field.canonicalString()+n.op.toString()+mo(n.value);if(M2(n))return n.filters.map(e=>e0(e)).join(",");{let e=n.filters.map(t=>e0(t)).join(",");return`${n.op}(${e})`}}function N2(n,e){return n instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(n,e):n instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&N2(o,i.filters[a]),!0):!1}(n,e):void ie()}function P2(n){return n instanceof Ze?function(t){return`${t.field.canonicalString()} ${t.op} ${mo(t.value)}`}(n):n instanceof mn?function(t){return t.op.toString()+" {"+t.getFilters().map(P2).join(" ,")+"}"}(n):"Filter"}var t0=class extends Ze{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},n0=class extends Ze{constructor(e,t){super(e,"in",t),this.keys=x2("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},r0=class extends Ze{constructor(e,t){super(e,"not-in",t),this.keys=x2("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function x2(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}var i0=class extends Ze{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return D1(t)&&cc(t.arrayValue,this.value)}},s0=class extends Ze{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&cc(this.value.arrayValue,t)}},o0=class extends Ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!cc(this.value.arrayValue,t)}},a0=class extends Ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!D1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cc(this.value.arrayValue,r))}};var c0=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function t2(n,e=null,t=[],r=[],i=null,s=null,o=null){return new c0(n,e,t,r,i,s,o)}function T1(n){let e=Ee(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>e0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>mo(r)).join(",")),e.ue=t}return e.ue}function b1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!E7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!N2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!e2(n.startAt,e.startAt)&&e2(n.endAt,e.endAt)}function u0(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Yr=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function C7(n,e,t,r,i,s,o,a){return new Yr(n,e,t,r,i,s,o,a)}function S1(n){return new Yr(n)}function n2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function O2(n){return n.collectionGroup!==null}function nc(n){let e=Ee(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(Zt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xi(s,r))}),t.has(Zt.keyField().canonicalString())||e.ce.push(new Xi(Zt.keyField(),r))}return e.ce}function Fn(n){let e=Ee(n);return e.le||(e.le=D7(e,nc(n))),e.le}function D7(n,e){if(n.limitType==="F")return t2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Xi(i.field,s)});let t=n.endAt?new yo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yo(n.startAt.position,n.startAt.inclusive):null;return t2(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function l0(n,e){let t=n.filters.concat([e]);return new Yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function d0(n,e,t){return new Yr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eh(n,e){return b1(Fn(n),Fn(e))&&n.limitType===e.limitType}function k2(n){return`${T1(Fn(n))}|lt:${n.limitType}`}function io(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>P2(i)).join(", ")}]`),wh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>mo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>mo(i)).join(",")),`Target(${r})`}(Fn(n))}; limitType=${n.limitType})`}function Ih(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of nc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=Xb(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,nc(r),i)||r.endAt&&!function(o,a,u){let l=Xb(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,nc(r),i))}(n,e)}function T7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function F2(n){return(e,t)=>{let r=!1;for(let i of nc(n)){let s=b7(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function b7(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?go(u,l):ie()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}var Jr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cc(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return S2(this.inner)}size(){return this.innerSize}};var S7=new Ke(Y.comparator);function Zr(){return S7}var L2=new Ke(Y.comparator);function ec(...n){let e=L2;for(let t of n)e=e.insert(t.key,t);return e}function A7(n){let e=L2;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wi(){return rc()}function V2(){return rc()}function rc(){return new Jr(n=>n.toString(),(n,e)=>n.isEqual(e))}var iK=new Ke(Y.comparator),R7=new _t(Y.comparator);function we(...n){let e=R7;for(let t of n)e=e.add(t);return e}var M7=new _t(Te);function N7(){return M7}function U2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function j2(n){return{integerValue:""+n}}function P7(n,e){return m7(e)?j2(e):U2(n,e)}var vo=class{constructor(){this._=void 0}};function x7(n,e,t){return n instanceof uc?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&I1(s)&&(s=C1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof _o?$2(n,e):n instanceof wo?B2(n,e):function(i,s){let o=k7(i,s),a=r2(o)+r2(i.Pe);return Xv(o)&&Xv(i.Pe)?j2(a):U2(i.serializer,a)}(n,e)}function O7(n,e,t){return n instanceof _o?$2(n,e):n instanceof wo?B2(n,e):t}function k7(n,e){return n instanceof lc?function(r){return Xv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var uc=class extends vo{},_o=class extends vo{constructor(e){super(),this.elements=e}};function $2(n,e){let t=H2(e);for(let r of n.elements)t.some(i=>Ln(i,r))||t.push(r);return{arrayValue:{values:t}}}var wo=class extends vo{constructor(e){super(),this.elements=e}};function B2(n,e){let t=H2(e);for(let r of n.elements)t=t.filter(i=>!Ln(i,r));return{arrayValue:{values:t}}}var lc=class extends vo{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function r2(n){return ze(n.integerValue||n.doubleValue)}function H2(n){return D1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function F7(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof _o&&i instanceof _o||r instanceof wo&&i instanceof wo?po(r.elements,i.elements,Ln):r instanceof lc&&i instanceof lc?Ln(r.Pe,i.Pe):r instanceof uc&&i instanceof uc}(n.transform,e.transform)}var ic=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var dc=class{};function z2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new h0(n.key,ic.none()):new hc(n.key,n.data,ic.none());{let t=n.data,r=ar.empty(),i=new _t(Zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Eo(n.key,r,new Gi(i.toArray()),ic.none())}}function L7(n,e,t){n instanceof hc?function(i,s,o){let a=i.value.clone(),u=s2(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Eo?function(i,s,o){if(!Gd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=s2(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(q2(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function sc(n,e,t,r){return n instanceof hc?function(s,o,a,u){if(!Gd(s.precondition,o))return a;let l=s.value.clone(),h=o2(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Eo?function(s,o,a,u){if(!Gd(s.precondition,o))return a;let l=o2(s.fieldTransforms,u,o),h=o.data;return h.setAll(q2(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,a){return Gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function i2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&po(r,i,(s,o)=>F7(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var hc=class extends dc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Eo=class extends dc{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function q2(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function s2(n,e,t){let r=new Map;Xe(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,O7(o,a,t[i]))}return r}function o2(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,x7(s,o,e))}return r}var h0=class extends dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var f0=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&L7(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=sc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=sc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=V2();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let u=z2(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(t,r)=>i2(t,r))&&po(this.baseMutations,e.baseMutations,(t,r)=>i2(t,r))}};var p0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var g0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ye,_e;function G2(n){if(n===void 0)return cr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ye.OK:return P.OK;case Ye.CANCELLED:return P.CANCELLED;case Ye.UNKNOWN:return P.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return P.INTERNAL;case Ye.UNAVAILABLE:return P.UNAVAILABLE;case Ye.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ye.NOT_FOUND:return P.NOT_FOUND;case Ye.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ye.ABORTED:return P.ABORTED;case Ye.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ye.DATA_LOSS:return P.DATA_LOSS;default:return ie()}}(_e=Ye||(Ye={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var a2=null;function V7(){return new TextEncoder}var U7=new Wr([4294967295,4294967295],0);function c2(n){let e=V7().encode(n),t=new Rv;return t.update(e),new Uint8Array(t.digest())}function u2(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wr([t,r],0),new Wr([i,s],0)]}var m0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ki(`Invalid padding: ${t}`);if(r<0)throw new Ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ki(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ki(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Wr.fromNumber(r)));return i.compare(U7)===1&&(i=new Wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=c2(e),[r,i]=u2(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=c2(e),[r,i]=u2(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var eh=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new Ke(Te),Zr(),we())}},fc=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,we(),we(),we())}};var co=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},th=class{constructor(e,t){this.targetId=e,this.me=t}},nh=class{constructor(e,t,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},rh=class{constructor(){this.fe=0,this.ge=d2(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=we(),t=we(),r=we();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new fc(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=d2()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},y0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=l2(),this.Qe=new Ke(Te)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(u0(s))if(r===0){let o=new Y(s.path);this.Ue(t,o,gn.newNoDocument(o,ae.min()))}else Xe(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}a2?.et(function(h,p,m,y,C){var A,M,N,q,$,W;let be={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},K=p.unchangedNames;return K&&(be.bloomFilter={applied:C===0,hashCount:(A=K?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(q=(N=(M=K?.bits)===null||M===void 0?void 0:M.bitmap)===null||N===void 0?void 0:N.length)!==null&&q!==void 0?q:0,padding:(W=($=K?.bits)===null||$===void 0?void 0:$.padding)!==null&&W!==void 0?W:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),be}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Qr(r).toUint8Array()}catch(u){if(u instanceof Jd)return fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new m0(o,i,s)}catch(u){return fo(u instanceof Ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&u0(a.target)){let u=new Y(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,gn.newNoDocument(u,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let r=we();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new eh(e,t,this.Qe,this.ke,r);return this.ke=Zr(),this.qe=l2(),this.Qe=new Ke(Te),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new rh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new _t(Te),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||H("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function l2(){return new Ke(Y.comparator)}function d2(){return new Ke(Y.comparator)}var j7={asc:"ASCENDING",desc:"DESCENDING"},$7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B7={and:"AND",or:"OR"},v0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function _0(n,e){return n.useProto3Json||wh(e)?e:{value:e}}function w0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uo(n){return Xe(!!n),ae.fromTimestamp(function(t){let r=ur(t);return new vt(r.seconds,r.nanos)}(n))}function K2(n,e){return E0(n,e).canonicalString()}function E0(n,e){let t=function(i){return new We(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Q2(n){let e=We.fromString(n);return Xe(eS(e)),e}function Lv(n,e){let t=Q2(e);if(t.get(1)!==n.databaseId.projectId)throw new j(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new j(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(J2(t))}function Y2(n,e){return K2(n.databaseId,e)}function H7(n){let e=Q2(n);return e.length===4?We.emptyPath():J2(e)}function h2(n){return new We(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J2(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function z7(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Xe(h===void 0||typeof h=="string"),bt.fromBase64String(h||"")):(Xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),bt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?P.UNKNOWN:G2(l.code);return new j(h,l.message||"")}(o);t=new nh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Lv(n,r.document.name),s=uo(r.document.updateTime),o=r.document.createTime?uo(r.document.createTime):ae.min(),a=new ar({mapValue:{fields:r.document.fields}}),u=gn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new co(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Lv(n,r.document),s=r.readTime?uo(r.readTime):ae.min(),o=gn.newNoDocument(i,s),a=r.removedTargetIds||[];t=new co([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Lv(n,r.document),s=r.removedTargetIds||[];t=new co([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new g0(i,s),a=r.targetId;t=new th(a,o)}}return t}function q7(n,e){return{documents:[Y2(n,e.path)]}}function G7(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Y2(n,i);let s=function(l){if(l.length!==0)return X2(mn.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:so(m.field),direction:Q7(m.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=_0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function W7(n){let e=H7(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Xe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(p){let m=Z2(p);return m instanceof mn&&M2(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(C){return new Xi(oo(C.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,wh(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new yo(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new yo(y,m)}(t.endAt)),C7(e,i,o,s,a,"F",u,l)}function K7(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Z2(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=oo(t.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oo(t.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=oo(t.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=oo(t.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(n):n.fieldFilter!==void 0?function(t){return Ze.create(oo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mn.create(t.compositeFilter.filters.map(r=>Z2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(t.compositeFilter.op))}(n):ie()}function Q7(n){return j7[n]}function Y7(n){return $7[n]}function J7(n){return B7[n]}function so(n){return{fieldPath:n.canonicalString()}}function oo(n){return Zt.fromServerFormat(n.fieldPath)}function X2(n){return n instanceof Ze?function(t){if(t.op==="=="){if(Zb(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(Jb(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zb(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(Jb(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:Y7(t.op),value:t.value}}}(n):n instanceof mn?function(t){let r=t.getFilters().map(i=>X2(i));return r.length===1?r[0]:{compositeFilter:{op:J7(t.op),filters:r}}}(n):ie()}function eS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var pc=class n{constructor(e,t,r,i,s=ae.min(),o=ae.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var I0=class{constructor(e){this.ct=e}};function Z7(n){let e=W7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?d0(e,e.limit,"L"):e}var ih=class{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),oc(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),typeof r=="string"&&(r=ur(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Qr(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?A2(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):ie()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){let r=e.fields||{};this.Et(t,55);for(let i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){let r=e.values||[];this.Et(t,50);for(let i of r)this.It(i,t)}gt(e,t){this.Et(t,37),Y.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}};ih.bt=new ih;var C0=class{constructor(){this._n=new D0}addToCollectionParentIndex(e,t){return this._n.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Ji.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},D0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new _t(We.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(We.comparator)).toArray()}};var sK=new Uint8Array(0);var On=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);var gc=class n{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var T0=class{constructor(){this.changes=new Jr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var b0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var S0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&sc(r.mutation,i,Gi.empty(),vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){let i=Wi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ec();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Wi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Zr(),o=rc(),a=function(){return rc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Eo)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),sc(h.mutation,l,h.mutation.getFieldMask(),vt.now())):o.set(l.key,Gi.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new b0(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=rc(),i=new Ke((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Gi.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=V2();h.forEach(m=>{if(!s.has(m)){let y=z2(t.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):O2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):x.resolve(Wi()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,we())).next(h=>({batchId:a,changes:A7(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=ec();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Yr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,gn.newInvalidDocument(h)))});let a=ec();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&sc(h.mutation,l,Gi.empty(),vt.now()),Ih(t,l)&&(a=a.insert(u,l))}),a})}};var A0=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return x.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:uo(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(i){return{name:i.name,query:Z7(i.bundledQuery),readTime:uo(i.readTime)}}(t)),x.resolve()}};var R0=class{constructor(){this.overlays=new Ke(Y.comparator),this.hr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Wi();return x.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Wi(),s=t.length+1,o=new Y(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ke((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Wi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new p0(t,r));let s=this.hr.get(t);s===void 0&&(s=we(),this.hr.set(t,s)),this.hr.set(t,s.add(r.key))}};var mc=class{constructor(){this.Pr=new _t(Je.Ir),this.Tr=new _t(Je.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){let r=new Je(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Je(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){let t=new Y(new We([])),r=new Je(t,e),i=new Je(t,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let t=new Y(new We([])),r=new Je(t,e),i=new Je(t,e+1),s=we();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Je(e,0),r=this.Pr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Je=class{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Y.comparator(e.key,t.key)||Te(e.pr,t.pr)}static Er(e,t){return Te(e.pr,t.pr)||Y.comparator(e.key,t.key)}};var M0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new _t(Je.Ir)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new f0(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,t){return x.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.br(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Je(t,0),i=new Je(t,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _t(Te);return t.forEach(i=>{let s=new Je(i,0),o=new Je(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),x.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;Y.isDocumentKey(s)||(s=s.child(""));let o=new Je(new Y(s),0),a=new _t(Te);return this.wr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),x.resolve(this.Dr(a))}Dr(e){let t=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Xe(this.Cr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return x.forEach(t.mutations,i=>{let s=new Je(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){let r=new Je(t,0),i=this.wr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Cr(e,t){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var N0=class{constructor(e){this.vr=e,this.docs=function(){return new Ke(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let r=Zr();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Zr(),o=t.path,a=new Y(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||f7(h7(h),r)<=0||(i.has(h.key)||Ih(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ie()}Fr(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new P0(this)}getSize(e){return x.resolve(this.size)}},P0=class extends T0{constructor(e){super(),this.ar=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}};var x0=class{constructor(e){this.persistence=e,this.Mr=new Jr(t=>T1(t),b1),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Or=0,this.Nr=new mc,this.targetCount=0,this.Lr=gc.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),x.resolve()}qn(e){this.Mr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Lr=new gc(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.qn(t),x.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.Mr.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Nr.gr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.Nr.containsKey(t))}};var O0=class{constructor(e,t){this.Br={},this.overlays={},this.kr=new b2(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new x0(this),this.indexManager=new C0,this.remoteDocumentCache=function(i){return new N0(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new I0(t),this.$r=new A0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new R0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new M0(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){H("MemoryPersistence","Starting transaction:",e);let i=new k0(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,t){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}},k0=class extends Yv{constructor(e){super(),this.currentSequenceNumber=e}},F0=class n{constructor(e){this.persistence=e,this.zr=new mc,this.jr=null}static Hr(e){return new n(e)}get Jr(){if(this.jr)return this.jr;throw ie()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),x.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Jr,r=>{let i=Y.fromPath(r);return this.Yr(e,i).next(s=>{s||t.removeEntry(i,ae.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return x.or([()=>x.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}};var L0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=we(),i=we();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var V0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var U0=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return OT()?8:g7(et())>0?6:4}()}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ji(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new V0;return this.Ji(e,t,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,t,o,a.size)})}).next(()=>s.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Xa()<=me.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),x.resolve()):(Xa()<=me.DEBUG&&H("QueryEngine","Query:",io(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Xa()<=me.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(t))):x.resolve())}ji(e,t){if(n2(t))return x.resolve(null);let r=Fn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=d0(t,null,"F"),r=Fn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=we(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Zi(t,a);return this.Xi(t,l,o,u.readTime)?this.ji(e,d0(t,null,"F")):this.es(e,l,t,u)}))})))}Hi(e,t,r,i){return n2(t)||i.isEqual(ae.min())?x.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(t,s);return this.Xi(t,o,r,i)?x.resolve(null):(Xa()<=me.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),io(t)),this.es(e,o,t,d7(i,-1)).next(a=>a))})}Zi(e,t){let r=new _t(F2(e));return t.forEach((i,s)=>{Ih(e,s)&&(r=r.add(s))}),r}Xi(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,t,r){return Xa()<=me.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",io(t)),this.zi.getDocumentsMatchingQuery(e,t,Ji.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var j0=class{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new Ke(Te),this.rs=new Jr(s=>T1(s),b1),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S0(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}};function X7(n,e,t,r){return new j0(n,e,t,r)}function tS(n,e){return D(this,null,function*(){let t=Ee(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=we();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function nS(n){let e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function eF(n,e){let t=Ee(n),r=e.snapshotVersion,i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Qr.removeMatchingKeys(s,h.removedDocuments,p).next(()=>t.Qr.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(bt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(A,M,N){return A.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(m,y,h)&&a.push(t.Qr.updateTargetData(s,y))});let u=Zr(),l=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(tF(s,o,e.documentUpdates).next(h=>{u=h.cs,l=h.ls})),!r.isEqual(ae.min())){let h=t.Qr.getLastRemoteSnapshotVersion(s).next(p=>t.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.ns=i,s))}function tF(n,e,t){let r=we(),i=we();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Zr();return t.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function nF(n,e){let t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):t.Qr.allocateTargetId(r).next(o=>(i=new pc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}function $0(n,e,t){return D(this,null,function*(){let r=Ee(n),i=r.ns.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ic(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function f2(n,e,t){let r=Ee(n),i=ae.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Ee(u),m=p.rs.get(h);return m!==void 0?x.resolve(p.ns.get(m)):p.Qr.getTargetData(l,h)}(r,o,Fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,t?i:ae.min(),t?s:we())).next(a=>(rF(r,T7(e),a),{documents:a,hs:s})))}function rF(n,e,t){let r=n.ss.get(e)||ae.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ss.set(e,r)}var sh=class{constructor(){this.activeTargetIds=N7()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var B0=class{constructor(){this.no=new sh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new sh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var H0=class{io(e){}shutdown(){}};var oh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qd=null;function Vv(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}var iF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var z0=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var yt="WebChannelConnection",q0=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(t,r,i,s,o){let a=Vv(),u=this.vo(t,r.toUriEncodedString());H("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(t,u,l,i).then(h=>(H("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw fo("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}xo(t,r,i,s,o,a){return this.Co(t,r,i,s,o)}Fo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}vo(t,r){let i=iF[t];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){let s=Vv();return new Promise((o,a)=>{let u=new Mv;u.setWithCredentials(!0),u.listenOnce(Pv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Za.NO_ERROR:let h=u.getResponseJson();H(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Za.TIMEOUT:H(yt,`RPC '${e}' ${s} timed out`),a(new j(P.DEADLINE_EXCEEDED,"Request time out"));break;case Za.HTTP_ERROR:let p=u.getStatus();if(H(yt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(M){let N=M.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(N)>=0?N:P.UNKNOWN}(y.status);a(new j(C,y.message))}else a(new j(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new j(P.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{H(yt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);H(yt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Oo(e,t,r){let i=Vv(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kv(),a=Ov(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Nv({})),this.Fo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=s.join("");H(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,C=new z0({lo:M=>{y?H(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(H(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),H(yt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},ho:()=>p.close()}),A=(M,N,q)=>{M.listen(N,$=>{try{q($)}catch(W){setTimeout(()=>{throw W},0)}})};return A(p,ro.EventType.OPEN,()=>{y||(H(yt,`RPC '${e}' stream ${i} transport opened.`),C.mo())}),A(p,ro.EventType.CLOSE,()=>{y||(y=!0,H(yt,`RPC '${e}' stream ${i} transport closed`),C.po())}),A(p,ro.EventType.ERROR,M=>{y||(y=!0,fo(yt,`RPC '${e}' stream ${i} transport errored:`,M),C.po(new j(P.UNAVAILABLE,"The operation could not be completed")))}),A(p,ro.EventType.MESSAGE,M=>{var N;if(!y){let q=M.data[0];Xe(!!q);let $=q,W=$.error||((N=$[0])===null||N===void 0?void 0:N.error);if(W){H(yt,`RPC '${e}' stream ${i} received error:`,W);let be=W.status,K=function(_){let I=Ye[_];if(I!==void 0)return G2(I)}(be),E=W.message;K===void 0&&(K=P.INTERNAL,E="Unknown error status: "+be+" with message "+W.message),y=!0,C.po(new j(K,E)),p.close()}else H(yt,`RPC '${e}' stream ${i} received:`,q),C.yo(q)}}),A(a,xv.STAT_EVENT,M=>{M.stat===Hd.PROXY?H(yt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Hd.NOPROXY&&H(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}};function Uv(){return typeof document<"u"?document:null}function Ch(n){return new v0(n,!0)}var ah=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var G0=class{constructor(e,t,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ah(e,t)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return D(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return D(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){return D(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(t)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{let i=new j(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){let r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>D(this,null,function*(){this.state=0,this.start()}))}c_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},W0=class extends G0{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();let t=z7(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?uo(o.readTime):ae.min()}(e);return this.listener.h_(t,r)}P_(e){let t={};t.database=h2(this.serializer),t.addTarget=function(s,o){let a,u=o.target;if(a=u0(u)?{documents:q7(s,u)}:{query:G7(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=W2(s,o.resumeToken);let l=_0(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=w0(s,o.snapshotVersion.toTimestamp());let l=_0(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=K7(this.serializer,e);r&&(t.labels=r),this.i_(t)}I_(e){let t={};t.database=h2(this.serializer),t.removeTarget=e,this.i_(t)}};var K0=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new j(P.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,E0(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(P.UNKNOWN,s.toString())})}xo(e,t,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,E0(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(P.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Q0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(cr(t),this.y_=!1):H("OnlineStateTracker",t)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Y0=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>D(this,null,function*(){Tc(this)&&(H("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let l=Ee(u);l.M_.add(4),yield Dc(l),l.N_.set("Unknown"),l.M_.delete(4),yield Dh(l)})}(this))}))}),this.N_=new Q0(r,i)}};function Dh(n){return D(this,null,function*(){if(Tc(n))for(let e of n.x_)yield e(!0)})}function Dc(n){return D(this,null,function*(){for(let e of n.x_)yield e(!1)})}function rS(n,e){let t=Ee(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),N1(t)?M1(t):Do(t).Xo()&&R1(t,e))}function A1(n,e){let t=Ee(n),r=Do(t);t.F_.delete(e),r.Xo()&&iS(t,e),t.F_.size===0&&(r.Xo()?r.n_():Tc(t)&&t.N_.set("Unknown"))}function R1(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Do(n).P_(e)}function iS(n,e){n.L_.xe(e),Do(n).I_(e)}function M1(n){n.L_=new y0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Do(n).start(),n.N_.w_()}function N1(n){return Tc(n)&&!Do(n).Zo()&&n.F_.size>0}function Tc(n){return Ee(n).M_.size===0}function sS(n){n.L_=void 0}function sF(n){return D(this,null,function*(){n.N_.set("Online")})}function oF(n){return D(this,null,function*(){n.F_.forEach((e,t)=>{R1(n,e)})})}function aF(n,e){return D(this,null,function*(){sS(n),N1(n)?(n.N_.D_(e),M1(n)):n.N_.set("Unknown")})}function cF(n,e,t){return D(this,null,function*(){if(n.N_.set("Online"),e instanceof nh&&e.state===2&&e.cause)try{yield function(i,s){return D(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(n,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield p2(n,r)}else if(e instanceof co?n.L_.Ke(e):e instanceof th?n.L_.He(e):n.L_.We(e),!t.isEqual(ae.min()))try{let r=yield nS(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.F_.get(l);h&&s.F_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.F_.get(u);if(!h)return;s.F_.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),iS(s,u);let p=new pc(h.target,u,l,h.sequenceNumber);R1(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield p2(n,r)}})}function p2(n,e,t){return D(this,null,function*(){if(!Ic(e))throw e;n.M_.add(1),yield Dc(n),n.N_.set("Offline"),t||(t=()=>nS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){H("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield Dh(n)}))})}function g2(n,e){return D(this,null,function*(){let t=Ee(n);t.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");let r=Tc(t);t.M_.add(3),yield Dc(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield Dh(t)})}function uF(n,e){return D(this,null,function*(){let t=Ee(n);e?(t.M_.delete(2),yield Dh(t)):e||(t.M_.add(2),yield Dc(t),t.N_.set("Unknown"))})}function Do(n){return n.B_||(n.B_=function(t,r,i){let s=Ee(t);return s.f_(),new W0(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Po:sF.bind(null,n),To:oF.bind(null,n),Ao:aF.bind(null,n),h_:cF.bind(null,n)}),n.x_.push(e=>D(this,null,function*(){e?(n.B_.t_(),N1(n)?M1(n):n.N_.set("Unknown")):(yield n.B_.stop(),sS(n))}))),n.B_}var J0=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function oS(n,e){if(cr("AsyncQueue",`${e}: ${n}`),Ic(n))return new j(P.UNAVAILABLE,`${e}: ${n}`);throw n}var ch=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=ec(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var uh=class{constructor(){this.q_=new Ke(Y.comparator)}track(e){let t=e.doc.key,r=this.q_.get(t);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(t,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(t):e.type===1&&r.type===2?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):ie():this.q_=this.q_.insert(t,e)}Q_(){let e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}},Io=class n{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,ch.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Z0=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},X0=class{constructor(){this.queries=new Jr(e=>k2(e),Eh),this.onlineState="Unknown",this.z_=new Set}};function lF(n,e){return D(this,null,function*(){let t=Ee(n),r=3,i=e.query,s=t.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Z0,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield t.onListen(i,!0);break;case 1:s.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=oS(o,`Initialization of query '${io(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&P1(t)})}function dF(n,e){return D(this,null,function*(){let t=Ee(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function hF(n,e){let t=Ee(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&P1(t)}function fF(n,e,t){let r=Ee(n),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(t);r.queries.delete(e)}function P1(n){n.z_.forEach(e=>{e.next()})}var e1,m2;(m2=e1||(e1={})).J_="default",m2.Cache="cache";var t1=class{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache||!this.G_())return!0;let r=t!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}na(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==e1.Cache}};var lh=class{constructor(e){this.key=e}},dh=class{constructor(e){this.key=e}},n1=class{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=we(),this.mutatedKeys=we(),this.Ia=F2(e),this.Ta=new ch(this.Ia)}get Ea(){return this.la}da(e,t){let r=t?t.Aa:new uh,i=t?t.Ta:this.Ta,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Ih(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;m&&y?m.data.isEqual(y.data)?C!==A&&(r.track({type:3,doc:y}),M=!0):this.Ra(m,y)||(r.track({type:2,doc:y}),M=!0,(u&&this.Ia(y,u)>0||l&&this.Ia(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(y?(o=o.add(y),s=A?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((h,p)=>function(y,C){let A=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return A(y)-A(C)}(h.type,p.type)||this.Ia(h.doc,p.doc)),this.Va(r),i=i!=null&&i;let a=t&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,o.length!==0||l?{snapshot:new Io(this.query,e.Ta,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new uh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=we(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new dh(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new lh(r))}),t}pa(e){this.la=e.hs,this.Pa=we();let t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Io.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},r1=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},i1=class{constructor(e){this.key=e,this.wa=!1}},s1=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Jr(a=>k2(a),Eh),this.Da=new Map,this.Ca=new Set,this.va=new Ke(Y.comparator),this.Fa=new Map,this.Ma=new mc,this.xa={},this.Oa=new Map,this.Na=gc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function pF(n,e,t=!0){return D(this,null,function*(){let r=dS(n),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield aS(r,e,t,!0),i})}function gF(n,e){return D(this,null,function*(){let t=dS(n);yield aS(t,e,!0,!1)})}function aS(n,e,t,r){return D(this,null,function*(){let i=yield nF(n.localStore,Fn(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield mF(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&rS(n.remoteStore,i),a})}function mF(n,e,t,r,i){return D(this,null,function*(){n.Ba=(p,m,y)=>function(A,M,N,q){return D(this,null,function*(){let $=M.view.da(N);$.Xi&&($=yield f2(A.localStore,M.query,!1).then(({documents:E})=>M.view.da(E,$)));let W=q&&q.targetChanges.get(M.targetId),be=q&&q.targetMismatches.get(M.targetId)!=null,K=M.view.applyChanges($,A.isPrimaryClient,W,be);return v2(A,M.targetId,K.fa),K.snapshot})}(n,p,m,y);let s=yield f2(n.localStore,e,!0),o=new n1(e,s.hs),a=o.da(s.documents),u=fc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,u);v2(n,t,l.fa);let h=new r1(e,t,o);return n.ba.set(e,h),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),l.snapshot})}function yF(n,e,t){return D(this,null,function*(){let r=Ee(n),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Eh(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&A1(r.remoteStore,i.targetId),o1(r,i.targetId)}).catch(E1))):(o1(r,i.targetId),yield $0(r.localStore,i.targetId,!0))})}function vF(n,e){return D(this,null,function*(){let t=Ee(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),A1(t.remoteStore,r.targetId))})}function cS(n,e){return D(this,null,function*(){let t=Ee(n);try{let r=yield eF(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Fa.get(s);o&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Xe(o.wa):i.removedDocuments.size>0&&(Xe(o.wa),o.wa=!1))}),yield lS(t,r,e)}catch(r){yield E1(r)}})}function y2(n,e,t){let r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Ee(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.U_)m.j_(a)&&(l=!0)}),l&&P1(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _F(n,e,t){return D(this,null,function*(){let r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Ke(Y.comparator);o=o.insert(s,gn.newNoDocument(s,ae.min()));let a=we().add(s),u=new eh(ae.min(),new Map,new Ke(Te),o,a);yield cS(r,u),r.va=r.va.remove(s),r.Fa.delete(e),x1(r)}else yield $0(r.localStore,e,!1).then(()=>o1(r,e,t)).catch(E1)})}function o1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||uS(n,r)})}function uS(n,e){n.Ca.delete(e.path.canonicalString());let t=n.va.get(e);t!==null&&(A1(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),x1(n))}function v2(n,e,t){for(let r of t)r instanceof lh?(n.Ma.addReference(r.key,e),wF(n,r)):r instanceof dh?(H("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||uS(n,r.key)):ie()}function wF(n,e){let t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(H("SyncEngine","New document in limbo: "+t),n.Ca.add(r),x1(n))}function x1(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let e=n.Ca.values().next().value;n.Ca.delete(e);let t=new Y(We.fromString(e)),r=n.Na.next();n.Fa.set(r,new i1(t)),n.va=n.va.insert(t,r),rS(n.remoteStore,new pc(Fn(S1(t.path)),r,"TargetPurposeLimboResolution",b2.oe))}}function lS(n,e,t){return D(this,null,function*(){let r=Ee(n),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=L0.Ki(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(u,l){return D(this,null,function*(){let h=Ee(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.qi,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.Qi,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ic(p))throw p;H("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.ns.get(m),C=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(C);h.ns=h.ns.insert(m,A)}}})}(r.localStore,s))})}function EF(n,e){return D(this,null,function*(){let t=Ee(n);if(!t.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());let r=yield tS(t.localStore,e);t.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new j(P.CANCELLED,o))})}),s.Oa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lS(t,r.us)}})}function IF(n,e){let t=Ee(n),r=t.Fa.get(e);if(r&&r.wa)return we().add(r.key);{let i=we(),s=t.Da.get(e);if(!s)return i;for(let o of s){let a=t.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function dS(n){let e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_F.bind(null,e),e.Sa.h_=hF.bind(null,e.eventManager),e.Sa.ka=fF.bind(null,e.eventManager),e}var hh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return X7(this.persistence,new U0,e.initialUser,this.serializer)}createPersistence(e){return new O0(F0.Hr,this.serializer)}createSharedClientState(e){return new B0}terminate(){return D(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var a1=class{initialize(e,t){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EF.bind(null,this.syncEngine),yield uF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new X0}()}createDatastore(e){let t=Ch(e.databaseInfo.databaseId),r=function(s){return new q0(s)}(e.databaseInfo);return function(s,o,a,u){return new K0(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new Y0(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>y2(this.syncEngine,t,0),function(){return oh.D()?new oh:new H0}())}createSyncEngine(e,t){return function(i,s,o,a,u,l,h){let p=new s1(i,s,o,a,u,l);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return D(this,null,function*(){var e;yield function(r){return D(this,null,function*(){let i=Ee(r);H("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Dc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var c1=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var u1=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=Kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>D(this,null,function*(){H("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=oS(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function jv(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield tS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function _2(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield DF(n);H("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>g2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>g2(e.remoteStore,i)),n._onlineComponents=e})}function CF(n){return n.name==="FirebaseError"?n.code===P.FAILED_PRECONDITION||n.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function DF(n){return D(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!CF(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),yield jv(n,new hh)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield jv(n,new hh);return n._offlineComponents})}function TF(n){return D(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield _2(n,n._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield _2(n,new a1))),n._onlineComponents})}function w2(n){return D(this,null,function*(){let e=yield TF(n),t=e.eventManager;return t.onListen=pF.bind(null,e.syncEngine),t.onUnlisten=yF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vF.bind(null,e.syncEngine),t})}function hS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var E2=new Map;function bF(n,e,t){if(!t)throw new j(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SF(n,e,t,r){if(e===!0&&r===!0)throw new j(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I2(n){if(Y.isDocumentKey(n))throw new j(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Th(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ie()}function Wd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new j(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Th(n);throw new j(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var fh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new j(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},yc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $v;switch(r.type){case"firstParty":return new qv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=E2.get(t);r&&(H("ComponentProvider","Removing Datastore"),E2.delete(t),r.terminate())}(this),Promise.resolve()}};function fS(n,e,t,r={}){var i;let s=(n=Wd(n,yc))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=it.MOCK_USER;else{a=RT(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new it(l)}n._authCredentials=new Bv(new Kd(a,u))}}var es=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Vn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},lo=class n extends es{constructor(e,t,r){super(e,t,S1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function pS(n,e,...t){if(n=$t(n),bF("collection","path",e),n instanceof yc){let r=We.fromString(e,...t);return I2(r),new lo(n,null,r)}{if(!(n instanceof Vn||n instanceof lo))throw new j(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(We.fromString(e,...t));return I2(r),new lo(n.firestore,null,r)}}var l1=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ah(this,"async_queue_retry"),this.hu=()=>{let t=Uv();t&&H("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};let e=Uv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let t=Uv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let t=new Kr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return D(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ic(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);let i=J0.createAndSchedule(this,e,t,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ie()}verifyOperationInProgress(){}du(){return D(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let t=this._u.indexOf(e);this._u.splice(t,1)}};function C2(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var vc=class extends yc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new l1}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mS(this),this._firestoreClient.terminate()}};function gS(n,e){let t=typeof n=="object"?n:Js(),r=typeof n=="string"?n:e||"(default)",i=Ha(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=AT("firestore");s&&fS(i,...s)}return i}function AF(n){return n._firestoreClient||mS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mS(n){var e,t,r;let i=n._freezeSettings(),s=function(a,u,l,h){return new Jv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hS(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new u1(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var _c=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(bt.fromBase64String(e))}catch(t){throw new j(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ph=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new j(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var gh=class{constructor(e){this._methodName=e}};var wc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var RF=/^__.*__$/;function yS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}var d1=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return f1(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(yS(this.fu)&&RF.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},h1=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ch(e)}Fu(e,t,r,i=!1){return new d1({fu:e,methodName:t,vu:r,path:Zt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function MF(n){let e=n._freezeSettings(),t=Ch(n._databaseId);return new h1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NF(n,e,t,r=!1){return O1(t,n.Fu(r?4:3,e))}function O1(n,e){if(vS(n=$t(n)))return xF("Unsupported field value:",e,n),PF(n,e);if(n instanceof gh)return function(r,i){if(!yS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=O1(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=vt.fromDate(r);return{timestampValue:w0(i.serializer,s)}}if(r instanceof vt){let s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:w0(i.serializer,s)}}if(r instanceof wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _c)return{bytesValue:W2(i.serializer,r._byteString)};if(r instanceof Vn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:K2(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Th(r)}`)}(n,e)}function PF(n,e){let t={};return S2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cc(n,(r,i)=>{let s=O1(i,e.pu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function vS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof wc||n instanceof _c||n instanceof Vn||n instanceof gh)}function xF(n,e,t){if(!vS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Th(t);throw r==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+r)}}var OF=new RegExp("[~\\*/\\[\\]]");function kF(n,e,t){if(e.search(OF)>=0)throw f1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ph(...e.split("."))._internalPath}catch{throw f1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function f1(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new j(P.INVALID_ARGUMENT,a+n+u)}var mh=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new p1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(k1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},p1=class extends mh{data(){return super.data()}};function k1(n,e){return typeof e=="string"?kF(n,e):e instanceof ph?e._internalPath:e._delegate._internalPath}function FF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new j(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ec=class{},yh=class extends Ec{};function _S(n,e,...t){let r=[];e instanceof Ec&&r.push(e),r=r.concat(t),function(s){let o=s.filter(u=>u instanceof m1).length,a=s.filter(u=>u instanceof g1).length;if(o>1||o>0&&a>0)throw new j(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var g1=class n extends yh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return ES(e._query,t),new es(e.firestore,e.converter,l0(e._query,t))}_parse(e){let t=MF(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new j(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){T2(p,h);let y=[];for(let C of p)y.push(D2(u,s,C));m={arrayValue:{values:y}}}else m=D2(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||T2(p,h),m=NF(a,o,p,h==="in"||h==="not-in");return Ze.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var m1=class n extends Ec{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:mn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)ES(o,u),o=l0(o,u)}(e._query,t),new es(e.firestore,e.converter,l0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var y1=class n extends yh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,s,o){if(i.startAt!==null)throw new j(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xi(s,o)}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Yr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function wS(n,e="asc"){let t=e,r=k1("orderBy",n);return y1._create(r,t)}function D2(n,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new j(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O2(e)&&t.indexOf("/")!==-1)throw new j(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(We.fromString(t));if(!Y.isDocumentKey(r))throw new j(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yb(n,new Y(r))}if(t instanceof Vn)return Yb(n,t._key);throw new j(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(t)}.`)}function T2(n,e){if(!Array.isArray(n)||n.length===0)throw new j(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new j(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var v1=class{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Cc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new wc(ze(e.latitude),ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=C1(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ac(e));default:return null}}convertTimestamp(e){let t=ur(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=We.fromString(e);Xe(eS(r));let i=new Zd(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(t)||cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var Qi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vh=class extends mh{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ho(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(k1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ho=class extends vh{data(e={}){return super.data(e)}},_1=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ho(this._firestore,this._userDataWriter,r.key,r,new Qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new ho(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new ho(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:LF(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function LF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}var _h=class extends v1{constructor(e){super(),this.firestore=e}convertBytes(e){return new _c(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}};function F1(n,...e){var t,r,i;n=$t(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||C2(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(C2(e[o])){let p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Vn)l=Wd(n.firestore,vc),h=S1(n._key.path),u={next:p=>{e[o]&&e[o](VF(l,n,p))},error:e[o+1],complete:e[o+2]};else{let p=Wd(n,es);l=Wd(p.firestore,vc),h=p._query;let m=new _h(l);u={next:y=>{e[o]&&e[o](new _1(l,m,p,y))},error:e[o+1],complete:e[o+2]},FF(n._query)}return function(m,y,C,A){let M=new c1(A),N=new t1(y,M,C);return m.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return lF(yield w2(m),N)})),()=>{M.$a(),m.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return dF(yield w2(m),N)}))}}(AF(l),h,a,u)}function VF(n,e,t){let r=t.docs.get(e._key),i=new _h(n);return new vh(n,i,e._key,r,new Qi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Co=i})(Br),$r(new Jt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new vc(new Hv(r.getProvider("auth-internal")),new Wv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),tt(Wb,"4.6.4",e),tt(Wb,"4.6.4","esm2017")})();var bh=function(){return bh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},bh.apply(this,arguments)};var $F={includeMetadataChanges:!1};function IS(n,e){return e===void 0&&(e=$F),new ue(function(t){var r=F1(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function CS(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:bh(bh({},r),(t={},t[e.idField]=n.id,t))}function DS(n){return IS(n,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function TS(n,e){return e===void 0&&(e={}),DS(n).pipe(ne(function(t){return t.map(function(r){return CS(r,e)})}))}var ts=class{constructor(e){return e}},bS="firestore",L1=class{constructor(){return za(bS)}};var V1=new X("angularfire2.firestore-instances");function BF(n,e){let t=_d(bS,n,e);return t&&new ts(t)}function HF(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ts(r)}}var zF={provide:L1,deps:[[new mt,V1]]},qF={provide:ts,useFactory:BF,deps:[[new mt,V1],rr]};function SS(n,...e){return tt("angularfire",ji.full,"fst"),bn([qF,zF,{provide:V1,useFactory:HF(n),multi:!0,deps:[fe,ln,eo,$i,[new mt,Ja],[new mt,Xs],...e]}])}var AS=pn(TS,!0);var RS=pn(pS,!0);var MS=pn(gS,!0);var NS=pn(wS,!0);var PS=pn(_S,!0);var xS={providers:[qD(DT),Hp([CT]),ZT(()=>XT({apiKey:"AIzaSyBTWbVoIzT8VtC6mG0JQ3GIsz2f92CtB-I",authDomain:"taha-personal.firebaseapp.com",projectId:"taha-personal",storageBucket:"taha-personal.appspot.com",messagingSenderId:"672529236067",appId:"1:672529236067:web:3cad5b6950ba23389b3856"})),SS(()=>MS()),Hb(()=>$d())]};var GF=(n,e,t,r,i)=>({width:n,transform:e,transition:t,"padding-left":r,"padding-right":i}),WF=(n,e,t,r)=>({width:n,"margin-left":e,"margin-right":t,left:r}),KF=(n,e)=>({$implicit:n,index:e});function QF(n,e){}function YF(n,e){if(n&1&&cn(0,QF,0,0,"ng-template",4),n&2){let t=hn(),r=t.$implicit,i=t.index,s=hn();Ue("ngTemplateOutlet",r.tplRef)("ngTemplateOutletContext",Cl(2,KF,s.preparePublicSlide(r),i))}}function JF(n,e){if(n&1){let t=ua();_l(0),Re(1,"div",2),dn("animationend",function(){let i=Qn(t).$implicit,s=hn();return Yn(s.clear(i.id))}),cn(2,YF,1,5,null,3),Me(),wl()}if(n&2){let t=e.$implicit;Le(),Ue("ngClass",t.classes)("ngStyle",MC(4,WF,t.width+"px",t.marginL?t.marginL+"px":"",t.marginR?t.marginR+"px":"",t.left))("@autoHeight",t.heightState),Le(),Ue("ngIf",t.load)}}var ZF=(n,e,t,r,i)=>({"owl-rtl":n,"owl-loaded":e,"owl-responsive":t,"owl-drag":r,"owl-grab":i}),XF=(n,e)=>({isMouseDragable:n,isTouchDragable:e}),Sh=n=>({disabled:n}),eL=(n,e)=>({active:n,"owl-dot-text":e});function tL(n,e){if(n&1&&(Re(0,"div",4),ut(1,"owl-stage",5),Me()),n&2){let t=hn();Le(),Ue("owlDraggable",Cl(3,XF,t.owlDOMData==null?null:t.owlDOMData.isMouseDragable,t.owlDOMData==null?null:t.owlDOMData.isTouchDragable))("stageData",t.stageData)("slidesData",t.slidesData)}}function nL(n,e){if(n&1){let t=ua();Re(0,"div",11),dn("click",function(){let i=Qn(t).$implicit,s=hn(2);return Yn(s.moveByDot(i.id))}),ut(1,"span",12),Me()}if(n&2){let t=e.$implicit;Ue("ngClass",Cl(2,eL,t.active,t.showInnerContent)),Le(),Ue("innerHTML",t.innerContent,ul)}}function rL(n,e){if(n&1){let t=ua();_l(0),Re(1,"div",6)(2,"div",7),dn("click",function(){Qn(t);let i=hn();return Yn(i.prev())}),Me(),Re(3,"div",8),dn("click",function(){Qn(t);let i=hn();return Yn(i.next())}),Me()(),Re(4,"div",9),cn(5,nL,2,5,"div",10),Me(),wl()}if(n&2){let t=hn();Le(),Ue("ngClass",er(7,Sh,t.navData==null?null:t.navData.disabled)),Le(),Ue("ngClass",er(9,Sh,t.navData==null||t.navData.prev==null?null:t.navData.prev.disabled))("innerHTML",t.navData==null||t.navData.prev==null?null:t.navData.prev.htmlText,ul),Le(),Ue("ngClass",er(11,Sh,t.navData==null||t.navData.next==null?null:t.navData.next.disabled))("innerHTML",t.navData==null||t.navData.next==null?null:t.navData.next.htmlText,ul),Le(),Ue("ngClass",er(13,Sh,t.dotsData==null?null:t.dotsData.disabled)),Le(),Ue("ngForOf",t.dotsData==null?null:t.dotsData.dots)}}var U1=class{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}},j1=class{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}},B1=(()=>{class n{errorHandler;constructor(t){this.errorHandler=t}log(t,...r){VC()&&console.log(t,...r)}error(t){this.errorHandler.handleError(t)}warn(t,...r){console.warn(t,...r)}static \u0275fac=function(r){return new(r||n)(B(an))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var US=function(n){return n.Event="event",n.State="state",n}(US||{}),Ah=function(n){return n.Default="default",n.Inner="inner",n.Outer="outer",n}(Ah||{});var lr=(()=>{class n{logger;_viewSettingsShipper$=new Ce;_initializedCarousel$=new Ce;_changeSettingsCarousel$=new Ce;_changedSettingsCarousel$=new Ce;_translateCarousel$=new Ce;_translatedCarousel$=new Ce;_resizeCarousel$=new Ce;_resizedCarousel$=new Ce;_refreshCarousel$=new Ce;_refreshedCarousel$=new Ce;_dragCarousel$=new Ce;_draggedCarousel$=new Ce;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:t=>{t.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:t=>{let r=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,o={"margin-left":s?r:"","margin-right":s?"":r};i||this.slidesData.forEach(a=>{a.marginL=o["margin-left"],a.marginR=o["margin-right"]}),t.css=o}},{filter:["width","items","settings"],run:t=>{let r=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=!this.settings.autoWidth,s=[],o=null,a=this._items.length;for(t.items={merge:!1,width:r};a-- >0;)o=this._mergers[a],o=this.settings.mergeFit&&Math.min(o,this.settings.items)||o,t.items.merge=o>1||t.items.merge,s[a]=i?r*o:this._items[a].width?this._items[a].width:r;this._widths=s,this.slidesData.forEach((u,l)=>{u.width=this._widths[l],u.marginR=t.css["margin-right"],u.marginL=t.css["margin-left"]})}},{filter:["items","settings"],run:()=>{let t=[],r=this._items,i=this.settings,s=Math.max(i.items*2,4),o=Math.ceil(r.length/2)*2,a=[],u=[],l=i.loop&&r.length?i.rewind?s:Math.max(s,o):0;for(l/=2;l-- >0;)t.push(this.normalize(t.length/2,!0)),a.push(F({},this.slidesData[t[t.length-1]])),t.push(this.normalize(r.length-1-(t.length-1)/2,!0)),u.unshift(F({},this.slidesData[t[t.length-1]]));this._clones=t,a=a.map(h=>(h.id=`${this.clonedIdPrefix}${h.id}`,h.isActive=!1,h.isCloned=!0,h)),u=u.map(h=>(h.id=`${this.clonedIdPrefix}${h.id}`,h.isActive=!1,h.isCloned=!0,h)),this.slidesData=u.concat(this.slidesData).concat(a)}},{filter:["width","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,r=this._clones.length+this._items.length,i=[],s=-1,o=0,a=0;for(;++s<r;)o=i[s-1]||0,a=this._widths[this.relative(s)]+this.settings.margin,i.push(o+a*t);this._coordinates=i}},{filter:["width","items","settings"],run:()=>{let t=this.settings.stagePadding,r=this._coordinates,i={width:Math.ceil(Math.abs(r[r.length-1]))+t*2,"padding-left":t||"","padding-right":t||""};this.stageData.width=i.width,this.stageData.paddingL=i["padding-left"],this.stageData.paddingR=i["padding-right"]}},{filter:["width","items","settings"],run:t=>{let r=t.current?this.slidesData.findIndex(i=>i.id===t.current):0;r=Math.max(this.minimum(),Math.min(this.maximum(),r)),this.reset(r)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,r=this.settings.stagePadding*2,i=[],s,o,a,u,l,h;if(s=this.coordinates(this.current()),typeof s=="number"?s+=r:s=0,o=s+this.width()*t,t===-1&&this.settings.center){let p=this._coordinates.filter(m=>this.settings.items%2===1?m>=s:m>s);s=p.length?p[p.length-1]:s}for(l=0,h=this._coordinates.length;l<h;l++)a=Math.ceil(this._coordinates[l-1]||0),u=Math.ceil(Math.abs(this._coordinates[l])+r*t),(this._op(a,"<=",s)&&this._op(a,">",o)||this._op(u,"<",s)&&this._op(u,">",o))&&i.push(l);this.slidesData.forEach(p=>(p.isActive=!1,p)),i.forEach(p=>{this.slidesData[p].isActive=!0}),this.settings.center&&(this.slidesData.forEach(p=>(p.isCentered=!1,p)),this.slidesData[this.current()].isCentered=!0)}}];constructor(t){this.logger=t}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(t){let r=new U1,i=this._validateOptions(t,r);this._options=F(F({},r),i)}_validateOptions(t,r){let i=F({},t),s=new j1,o=(a,u)=>(this.logger.log(`options.${u} must be type of ${a}; ${u}=${t[u]} skipped to defaults: ${u}=${r[u]}`),r[u]);for(let a in i)if(i.hasOwnProperty(a)){if(s[a]==="number")this._isNumeric(i[a])?(i[a]=+i[a],i[a]=a==="items"?this._validateItems(i[a],i.skip_validateItems):i[a]):i[a]=o(s[a],a);else if(s[a]==="boolean"&&typeof i[a]!="boolean")i[a]=o(s[a],a);else if(s[a]==="number|boolean"&&!this._isNumberOrBoolean(i[a]))i[a]=o(s[a],a);else if(s[a]==="number|string"&&!this._isNumberOrString(i[a]))i[a]=o(s[a],a);else if(s[a]==="string|boolean"&&!this._isStringOrBoolean(i[a]))i[a]=o(s[a],a);else if(s[a]==="string[]")if(Array.isArray(i[a])){let u=!1;i[a].forEach(l=>{u=typeof l=="string"}),u||(i[a]=o(s[a],a))}else i[a]=o(s[a],a)}return i}_validateItems(t,r){let i=t;return t>this._items.length?r?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(i=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):t===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),i}setCarouselWidth(t){this._width=t}setup(t,r,i){this.setCarouselWidth(t),this.setItems(r),this._defineSlidesData(),this.setOptions(i),this.settings=F({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){let t=this._width,r=this._options.responsive,i=-1;if(!Object.keys(r).length)return;if(!t){this.settings.items=1;return}for(let o in r)r.hasOwnProperty(o)&&+o<=t&&+o>i&&(i=Number(o));this.settings=Oe(F(F({},this._options),r[i]),{items:r[i]&&r[i].items?this._validateItems(r[i].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;let s=[];this._items.forEach(o=>{let a=this.settings.merge?o.dataMerge:1;s.push(a)}),this._mergers=s,this._breakpoint=i,this.invalidate("settings")}initialize(t){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),t.forEach(r=>{let i=this.settings.merge?r.dataMerge:1;this._mergers.push(i)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let t=0,r=this._pipe.length,i=o=>this._invalidated[o],s={};for(;t<r;){let o=this._pipe[t].filter.filter(i);(this._invalidated.all||o.length>0)&&this._pipe[t].run(s),t++}this.slidesData.forEach(o=>o.classes=this.setCurSlideClasses(o)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(t){switch(t=t||Ah.Default,t){case Ah.Inner:case Ah.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(t){if(!this._items.length)return!1;this.setCarouselWidth(t),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(t){let r=null,i;return i=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),r={x:+i[0],y:+i[1]},this.is("animating")&&this.invalidate("position"),t.type==="mousedown"&&(this.owlDOMData.isGrab=!0),this.speed(0),r}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(t,r){let i=null,s=null,o=null,a=this.difference(r.pointer,this.pointer(t)),u=this.difference(r.stage.start,a);return this.is("dragging")?(this.settings.loop?(i=this.coordinates(this.minimum()),s=+this.coordinates(this.maximum()+1)-i,u.x=((u.x-i)%s+s)%s+i):(i=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),s=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),o=this.settings.pullDrag?-1*a.x/5:0,u.x=Math.max(Math.min(u.x,i+o),s+o)),u):!1}finishDragging(t,r,i){let s=["right","left"],o=this.difference(r.pointer,this.pointer(t)),a=r.stage.current,u=s[+(this.settings.rtl?o.x<+this.settings.rtl:o.x>+this.settings.rtl)],l,h,p;(o.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),l=this.closest(a.x,o.x!==0?u:r.direction),h=this.current(),p=this.current(l===-1?void 0:l),h!==p&&(this.invalidate("position"),this.update()),r.direction=u,(Math.abs(o.x)>3||new Date().getTime()-r.time>300)&&i()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(t,r){let s=this.width(),o=this.coordinates(),a=-1;this.settings.center&&(o=o.map(u=>(u===0&&(u+=1e-6),u)));for(let u=0;u<o.length&&(r==="left"&&t>o[u]-30&&t<o[u]+30?a=u:r==="right"&&t>o[u]-s-30&&t<o[u]-s+30?a=u+1:this._op(t,"<",o[u])&&this._op(t,">",o[u+1]||o[u]-s)?a=r==="left"?u+1:u:r===null&&t>o[u]-30&&t<o[u]+30&&(a=u),a===-1);u++);return this.settings.loop||(this._op(t,">",o[this.minimum()])?a=t=this.minimum():this._op(t,"<",o[this.maximum()])&&(a=t=this.maximum())),a}animate(t){let r=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),r&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+t+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(t){return this._states.current[t]&&this._states.current[t]>0}current(t){if(t===void 0)return this._current;if(this._items.length!==0){if(t=this.normalize(t),this._current!==t){let r=this._trigger("change",{property:{name:"position",value:t}});this._current=t,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})}return this._current}}invalidate(t){return typeof t=="string"&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(t){t=this.normalize(t),t!==void 0&&(this._speed=0,this._current=t,this._suppress(["translate","translated"]),this.animate(this.coordinates(t)),this._release(["translate","translated"]))}normalize(t,r){let i=this._items.length,s=r?0:this._clones.length;return!this._isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t}relative(t){return t-=this._clones.length/2,this.normalize(t,!0)}maximum(t=!1){let r=this.settings,i=this._coordinates.length,s,o,a;if(r.loop)i=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){for(s=this._items.length,o=this.slidesData[--s].width,a=this._width;s-- >0&&(o+=+this.slidesData[s].width+this.settings.margin,!(o>a)););i=s+1}else r.center?i=this._items.length-1:i=this._items.length-r.items;return t&&(i-=this._clones.length/2),Math.max(i,0)}minimum(t=!1){return t?0:this._clones.length/2}items(t){return t===void 0?this._items.slice():(t=this.normalize(t,!0),[this._items[t]])}mergers(t){return t===void 0?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])}clones(t){let r=this._clones.length/2,i=r+this._items.length,s=o=>o%2===0?i+o/2:r-(o+1)/2;return t===void 0?this._clones.map((o,a)=>s(a)):this._clones.map((o,a)=>o===t?s(a):null).filter(o=>o)}speed(t){return t!==void 0&&(this._speed=t),this._speed}coordinates(t){let r=1,i=t-1,s,o;return t===void 0?(o=this._coordinates.map((a,u)=>this.coordinates(u)),o):(this.settings.center?(this.settings.rtl&&(r=-1,i=t+1),s=this._coordinates[t],s+=(this.width()-s+(this._coordinates[i]||0))/2*r):s=this._coordinates[i]||0,s=Math.ceil(s),s)}_duration(t,r,i){return i===0?0:Math.min(Math.max(Math.abs(r-t),1),6)*Math.abs(+i||this.settings.smartSpeed)}to(t,r){let i=this.current(),s=null,o=t-this.relative(i),a=this.maximum(),u=0,l=+(o>0)-+(o<0),h=this._items.length,p=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>h/2&&(o+=l*-1*h),t=i+o,s=((t-p)%h+h)%h+p,s!==t&&s-o<=a&&s-o>0&&(i=s-o,t=s,u=30,this.reset(i),this.sendChanges())):this.settings.rewind?(a+=1,t=(t%a+a)%a):t=Math.max(p,Math.min(a,t)),setTimeout(()=>{this.speed(this._duration(i,t,r)),this.current(t),this.update()},u)}next(t){t=t||!1,this.to(this.relative(this.current())+1,t)}prev(t){t=t||!1,this.to(this.relative(this.current())-1,t)}onTransitionEnd(t){if(t!==void 0)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let t;return this._width?t=this._width:this.logger.log("Can not detect viewport width."),t}setItems(t){this._items=t}_defineSlidesData(){let t;this.slidesData&&this.slidesData.length&&(t=new Map,this.slidesData.forEach(r=>{r.load&&t.set(r.id,r.load)})),this.slidesData=this._items.map(r=>({id:`${r.id}`,isActive:!1,tplRef:r.tplRef,dataMerge:r.dataMerge,width:0,isCloned:!1,load:t?t.get(r.id):!1,hashFragment:r.dataHash}))}setCurSlideClasses(t){let r={active:t.isActive,center:t.isCentered,cloned:t.isCloned,animated:t.isAnimated,"owl-animated-in":t.isDefAnimatedIn,"owl-animated-out":t.isDefAnimatedOut};return this.settings.animateIn&&(r[this.settings.animateIn]=t.isCustomAnimatedIn),this.settings.animateOut&&(r[this.settings.animateOut]=t.isCustomAnimatedOut),r}_op(t,r,i){let s=this.settings.rtl;switch(r){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i;default:break}}_trigger(t,r,i,s,o){switch(t){case"initialized":this._initializedCarousel$.next(t);break;case"change":this._changeSettingsCarousel$.next(r);break;case"changed":this._changedSettingsCarousel$.next(r);break;case"drag":this._dragCarousel$.next(t);break;case"dragged":this._draggedCarousel$.next(t);break;case"resize":this._resizeCarousel$.next(t);break;case"resized":this._resizedCarousel$.next(t);break;case"refresh":this._refreshCarousel$.next(t);break;case"refreshed":this._refreshedCarousel$.next(t);break;case"translate":this._translateCarousel$.next(t);break;case"translated":this._translatedCarousel$.next(t);break;default:break}}enter(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{this._states.current[r]===void 0&&(this._states.current[r]=0),this._states.current[r]++})}leave(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{(this._states.current[r]===0||this._states.current[r])&&this._states.current[r]--})}register(t){t.type===US.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=this._states.tags[t.name].filter((r,i)=>this._states.tags[t.name].indexOf(r)===i))}_suppress(t){t.forEach(r=>{this._supress[r]=!0})}_release(t){t.forEach(r=>{delete this._supress[r]})}pointer(t){let r={x:null,y:null};return t=t.originalEvent||t||window.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r}_isNumeric(t){return!isNaN(parseFloat(t))}_isNumberOrBoolean(t){return this._isNumeric(t)||typeof t=="boolean"}_isNumberOrString(t){return this._isNumeric(t)||typeof t=="string"}_isStringOrBoolean(t){return typeof t=="string"||typeof t=="boolean"}difference(t,r){return t===null||r===null?{x:0,y:0}:{x:t.x-r.x,y:t.y-r.y}}static \u0275fac=function(r){return new(r||n)(B(B1))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),OS=(()=>{class n{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ee(o=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),r=this.carouselService.getChangedState().pipe(He(o=>o.property.name==="position"),ee(o=>{this.update()})),i=this.carouselService.getRefreshedState().pipe(ee(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),s=tn(t,r,i);this.navSubscription=s.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let t,r,i,s=this.carouselService.clones().length/2,o=s+this.carouselService.items().length,a=this.carouselService.maximum(!0),u=[],l=this.carouselService.settings,h=l.center||l.autoWidth||l.dotsData?1:Math.floor(Number(l.dotsEach))||Math.floor(l.items);if(h=+h,l.slideBy!=="page"&&(l.slideBy=Math.min(+l.slideBy,l.items)),l.dots||l.slideBy==="page")for(t=s,r=0,i=0;t<o;t++){if(r>=h||r===0){if(u.push({start:Math.min(a,t-s),end:t-s+h-1}),Math.min(a,t-s)===a)break;r=0,++i}r+=this.carouselService.mergers(this.carouselService.relative(t))}this._pages=u}draw(){let t,r=this.carouselService.settings,i=this.carouselService.items(),s=i.length<=r.items;if(this._navData.disabled=!r.nav||s,this._dotsData.disabled=!r.dots||s,r.dots)if(t=this._pages.length-this._dotsData.dots.length,r.dotsData&&t!==0)this._dotsData.dots=[],i.forEach(o=>{this._dotsData.dots.push({active:!1,id:`dot-${o.id}`,innerContent:o.dotContent,showInnerContent:!0})});else if(t>0){let o=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<t;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+o}`,innerContent:"",showInnerContent:!1})}else t<0&&this._dotsData.dots.splice(t,Math.abs(t));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){let t=this.carouselService.settings,r=t.loop||t.rewind,i=this.carouselService.relative(this.carouselService.current());t.nav&&(this._navData.prev.disabled=!r&&i<=this.carouselService.minimum(!0),this._navData.next.disabled=!r&&i>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let t;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(r=>{r.active===!0&&(r.active=!1)}),t=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[t].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){let t=this.carouselService.relative(this.carouselService.current()),r,i=this._pages.filter((s,o)=>s.start<=t&&s.end>=t).pop();return r=this._pages.findIndex(s=>s.start===i.start&&s.end===i.end),r}_getPosition(t){let r,i,s=this.carouselService.settings;return s.slideBy==="page"?(r=this._current(),i=this._pages.length,t?++r:--r,r=this._pages[(r%i+i)%i].start):(r=this.carouselService.relative(this.carouselService.current()),i=this.carouselService.items().length,t?r+=+s.slideBy:r-=+s.slideBy),r}next(t){this.carouselService.to(this._getPosition(!0),t)}prev(t){this.carouselService.to(this._getPosition(!1),t)}to(t,r,i){let s;!i&&this._pages.length?(s=this._pages.length,this.carouselService.to(this._pages[(t%s+s)%s].start,r)):this.carouselService.to(t,r)}moveByDot(t){let r=this._dotsData.dots.findIndex(i=>t===i.id);this.to(r,this.carouselService.settings.dotsSpeed)}toSlideById(t){let r=this.carouselService.slidesData.findIndex(i=>i.id===t&&i.isCloned===!1);r===-1||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}static \u0275fac=function(r){return new(r||n)(B(lr))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),H1=new X("WindowToken"),bc=class{get nativeWindow(){throw new Error("Not implemented.")}},iL=(()=>{class n extends bc{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function sL(n,e){return Ml(e)?n.nativeWindow:{setTimeout:(r,i)=>{},clearTimeout:r=>{}}}var oL={provide:bc,useClass:iL},aL={provide:H1,useFactory:sL,deps:[bc,Kt]},cL=[oL,aL],z1=new X("DocumentToken"),Sc=class{get nativeDocument(){throw new Error("Not implemented.")}},uL=(()=>{class n extends Sc{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function lL(n,e){return Ml(e)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}}var dL={provide:Sc,useClass:uL},hL={provide:z1,useFactory:lL,deps:[Sc,Kt]},fL=[dL,hL],kS=(()=>{class n{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(t){this._isAutoplayStopped=t}winRef;docRef;constructor(t,r,i,s){this.carouselService=t,this.ngZone=s,this.winRef=r,this.docRef=i,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ee(()=>{this.carouselService.settings.autoplay&&this.play()})),r=this.carouselService.getChangedState().pipe(ee(o=>{this._handleChangeObservable(o)})),i=this.carouselService.getResizedState().pipe(ee(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),s=tn(t,r,i);this.autoplaySubscription=s.subscribe(()=>{})}play(t,r){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(t,r){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!t,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(r||this.carouselService.settings.autoplaySpeed)})},t||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(t){this._timeout=this._getNextTimeout(t)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(t){t.property.name==="settings"?this.carouselService.settings.autoplay?this.play():this.stop():t.property.name==="position"&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){J("translated").pipe(Qe(t=>this.carouselService.getTranslatedState()),Rt(),He(()=>this._isArtificialAutoplayTimeout),ee(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(r){return new(r||n)(B(lr),B(H1),B(z1),B(fe))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),FS=(()=>{class n{carouselService;lazyLoadSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ee(()=>{let o=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!o)})),r=this.carouselService.getChangeState(),i=this.carouselService.getResizedState(),s=tn(t,r,i).pipe(ee(o=>this._defineLazyLoadSlides(o)));this.lazyLoadSubscription=s.subscribe(()=>{})}_defineLazyLoadSlides(t){if(!(!this.carouselService.settings||!this.carouselService.settings.lazyLoad)&&(t.property&&t.property.name==="position"||t==="initialized"||t==="resized")){let r=this.carouselService.settings,i=this.carouselService.clones().length,s=r.center&&Math.ceil(r.items/2)||r.items,o=r.center&&s*-1||0,a=(t.property&&t.property.value!==void 0?t.property.value:this.carouselService.current())+o;for(r.lazyLoadEager>0&&(s+=r.lazyLoadEager,r.loop&&(a-=r.lazyLoadEager,s++));o++<s;)this._load(i/2+this.carouselService.relative(a)),i&&this.carouselService.clones(this.carouselService.relative(a)).forEach(u=>this._load(u)),a++}}_load(t){this.carouselService.slidesData[t].load||(this.carouselService.slidesData[t].load=!0)}static \u0275fac=function(r){return new(r||n)(B(lr))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),$1=(()=>{class n{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getChangeState().pipe(ee(l=>{l.property.name==="position"&&(this.previous=this.carouselService.current(),this.next=l.property.value)})),r=this.carouselService.getDragState(),i=this.carouselService.getDraggedState(),s=this.carouselService.getTranslatedState(),o=tn(r,i,s).pipe(ee(l=>this.swapping=l==="translated")),a=this.carouselService.getTranslateState().pipe(ee(l=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),u=tn(t,a,o).pipe();this.animateSubscription=u.subscribe(()=>{})}_swap(){if(this.carouselService.settings.items!==1)return;this.carouselService.speed(0);let t,r=this.carouselService.slidesData[this.previous],i=this.carouselService.slidesData[this.next],s=this.carouselService.settings.animateIn,o=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(o&&(t=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.left=`${t}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),s&&this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(t){this.carouselService.slidesData.forEach(r=>{r.id===t&&(r.left="",r.isAnimated=!1,r.isDefAnimatedOut=!1,r.isCustomAnimatedOut=!1,r.isDefAnimatedIn=!1,r.isCustomAnimatedIn=!1,r.classes=this.carouselService.setCurSlideClasses(r))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(r){return new(r||n)(B(lr))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),LS=(()=>{class n{carouselService;autoHeightSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ee(o=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),r=this.carouselService.getChangedState().pipe(ee(o=>{this.carouselService.settings.autoHeight&&o.property.name==="position"&&this.update()})),i=this.carouselService.getRefreshedState().pipe(ee(o=>{this.carouselService.settings.autoHeight&&this.update()})),s=tn(t,r,i);this.autoHeightSubscription=s.subscribe(()=>{})}update(){let t=this.carouselService.settings.items,r=this.carouselService.current(),i=r+t;this.carouselService.settings.center&&(r=t%2===1?r-(t-1)/2:r-t/2,i=t%2===1?r+t:r+t+1),this.carouselService.slidesData.forEach((s,o)=>{s.heightState=o>=r&&o<i?"full":"nulled"})}static \u0275fac=function(r){return new(r||n)(B(lr))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),VS=(()=>{class n{carouselService;route;router;hashSubscription;currentHashFragment;constructor(t,r,i){this.carouselService=t,this.route=r,this.router=i,this.spyDataStreams(),this.route||(this.route={fragment:J("no route").pipe(nt(1))}),this.router||(this.router={navigate:(s,o)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ee(()=>this.listenToRoute())),r=this.carouselService.getChangedState().pipe(ee(s=>{if(this.carouselService.settings.URLhashListener&&s.property.name==="position"){let o=this.carouselService.current(),a=this.carouselService.slidesData[o].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})),i=tn(t,r);this.hashSubscription=i.subscribe(()=>{})}rewind(t){let r=this.carouselService.slidesData.findIndex(i=>i.hashFragment===t&&i.isCloned===!1);r===-1||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}listenToRoute(){let t=this.carouselService.settings.startPosition==="URLHash"?0:2;this.route.fragment.pipe(mu(t)).subscribe(r=>{this.currentHashFragment=r,this.rewind(r)})}static \u0275fac=function(r){return new(r||n)(B(lr),B(kr,8),B(Gs,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),pL=0,q1=(()=>{class n{tplRef;id=`owl-slide-${pL++}`;_dataMerge=1;set dataMerge(t){this._dataMerge=this.isNumeric(t)?t:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(t){this.tplRef=t}isNumeric(t){return!isNaN(parseFloat(t))}static \u0275fac=function(r){return new(r||n)(pe(Gn))};static \u0275dir=Tn({type:n,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}})}return n})(),jS=(()=>{class n{resizeObservable$;get onResize$(){return this.resizeObservable$}constructor(t,r){this.resizeObservable$=Ml(r)?$o(t,"resize"):new Ce().asObservable()}static \u0275fac=function(r){return new(r||n)(B(H1),B(Kt))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),gL=(()=>{class n{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new Ce;_oneMoveSubsription;preparePublicSlide=t=>{let r=F({},t);return delete r.tplRef,r};constructor(t,r,i,s,o){this.zone=t,this.el=r,this.renderer=i,this.carouselService=s,this.animateService=o}onMouseDown(t){this.owlDraggable.isMouseDragable&&this._onDragStart(t)}onTouchStart(t){if(t.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(t)}onTouchCancel(t){this._onDragEnd(t)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(Rt()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=t=>{this._oneMouseTouchMove(t)};bindOnDragMove=t=>{this._onDragMove(t)};bindOnDragEnd=t=>{this._onDragEnd(t)};_onDragStart(t){let r=null;t.which!==3&&(r=this._prepareDragging(t),this._drag.time=new Date().getTime(),this._drag.target=t.target,this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this._pointer(t),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(t){let r=this._difference(this._drag.pointer,this._pointer(t));this.listenerATag&&this.listenerATag(),!(Math.abs(r.x)<3&&Math.abs(r.y)<3&&this._is("valid"))&&(Math.abs(r.x)<3&&Math.abs(r.x)<Math.abs(r.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(t),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),t.preventDefault(),this._enterDragging(),this._oneDragMove$.next(t)))}blockClickAnchorInDragging(t){let r=t.target;for(;r&&!(r instanceof HTMLAnchorElement);)r=r.parentElement;r instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(r,"click",()=>!1))}_onDragMove(t){let r,i=this.carouselService.defineNewCoordsDrag(t,this._drag);i!==!1&&(r=i,t.preventDefault(),this._drag.stage.current=r,this._animate(r.x-this._drag.stage.start.x))}_animate(t){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${t}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(t){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(t),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(t){return this.carouselService.prepareDragging(t)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(t){this.carouselService.finishDragging(t,this._drag,this._oneClickHandler)}_pointer(t){return this.carouselService.pointer(t)}_difference(t,r){return this.carouselService.difference(t,r)}_is(t){return this.carouselService.is(t)}_enter(t){this.carouselService.enter(t)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(t){this.animateService.clear(t)}static \u0275fac=function(r){return new(r||n)(pe(fe),pe(Wt),pe(Ci),pe(lr),pe($1))};static \u0275cmp=_i({type:n,selectors:[["owl-stage"]],hostBindings:function(r,i){r&1&&dn("mousedown",function(o){return i.onMouseDown(o)})("touchstart",function(o){return i.onTouchStart(o)})("touchcancel",function(o){return i.onTouchCancel(o)})("dragstart",function(){return i.onDragStart()})("selectstart",function(){return i.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"transitionend","ngStyle"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"animationend","ngClass","ngStyle"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&(Re(0,"div")(1,"div",0),dn("transitionend",function(){return i.onTransitionEnd()}),cn(2,JF,3,9,"ng-container",1),Me()()),r&2&&(Le(),Ue("ngStyle",Mg(2,GF,i.stageData.width+"px",i.stageData.transform,i.stageData.transition,i.stageData.paddingL?i.stageData.paddingL+"px":"",i.stageData.paddingR?i.stageData.paddingR+"px":"")),Le(),Ue("ngForOf",i.slidesData))},dependencies:[Gg,Wg,Kg,XC,Rl],encapsulation:2,data:{animation:[GD("autoHeight",[Gm("nulled",Ws({height:0})),Gm("full",Ws({height:"*"})),Wm("full => nulled",[qm("700ms 350ms")]),Wm("nulled => full",[qm(350)])])]}})}return n})(),$S=(()=>{class n{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new rt;dragging=new rt;change=new rt;changed=new rt;initialized=new rt;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(t,r,i,s,o,a,u,l,h,p,m,y){this.el=t,this.resizeService=r,this.carouselService=i,this.navigationService=s,this.autoplayService=o,this.lazyLoadService=a,this.animateService=u,this.autoHeightService=l,this.hashService=h,this.logger=p,this.changeDetectorRef=m,this.docRef=y}onVisibilityChange(t){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause();break;default:break}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(ee(t=>{this.carouselService.setup(this.carouselWindowWidth,t.toArray(),this.options),this.carouselService.initialize(t.toArray()),t.toArray().length||(this.carouselLoaded=!1),t.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(ee(t=>{this.owlDOMData=t.owlDOMData,this.stageData=t.stageData,this.slidesData=t.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=t.navData,this.dotsData=t.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(ee(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(ee(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(ee(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(Qe(t=>{let r=J(t).pipe(He(()=>t.property.name==="position"),Qe(()=>Fe(this.slidesData)),mu(t.property.value),nt(this.carouselService.settings.items),ne(i=>{let s=this.carouselService.clonedIdPrefix,o=i.id.indexOf(s)>=0?i.id.slice(s.length):i.id;return Oe(F({},i),{id:o,isActive:!0})}),_f(),ne(i=>({slides:i,startPosition:this.carouselService.relative(t.property.value)})));return tn(r)}),ee(t=>{this.gatherTranslatedData(),this.changed.emit(t.slides.length?t:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(ee(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),Qe(()=>this.carouselService.getDraggedState().pipe(ne(()=>!!this.carouselService.is("animating")))),Qe(t=>t?this.carouselService.getTranslatedState().pipe(Rt()):J("not animating")),ee(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=tn(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(He(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),Ef(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(t){this.carouselLoaded&&this.navigationService.moveByDot(t)}to(t){this.carouselLoaded&&this.navigationService.toSlideById(t)}gatherTranslatedData(){let t,r=this.carouselService.clonedIdPrefix,i=this.slidesData.filter(s=>s.isActive===!0).map(s=>({id:s.id.indexOf(r)>=0?s.id.slice(r.length):s.id,width:s.width,marginL:s.marginL,marginR:s.marginR,center:s.isCentered}));t=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:t,slides:i}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(r){return new(r||n)(pe(Wt),pe(jS),pe(lr),pe(OS),pe(kS),pe(FS),pe($1),pe(LS),pe(VS),pe(B1),pe(Nr),pe(z1))};static \u0275cmp=_i({type:n,selectors:[["owl-carousel-o"]],contentQueries:function(r,i,s){if(r&1&&Sg(s,q1,4),r&2){let o;Ag(o=Rg())&&(i.slides=o)}},hostBindings:function(r,i){r&1&&dn("visibilitychange",function(o){return i.onVisibilityChange(o)},!1,qI)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[RC([OS,kS,lr,FS,$1,LS,VS]),Ei],decls:4,vars:9,consts:[["owlCarousel",""],[1,"owl-carousel","owl-theme",3,"mouseover","mouseleave","touchstart","touchend","ngClass"],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"click","ngClass","innerHTML"],[1,"owl-next",3,"click","ngClass","innerHTML"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"click","ngClass"],[3,"innerHTML"]],template:function(r,i){if(r&1){let s=ua();Re(0,"div",1,0),dn("mouseover",function(){return Qn(s),Yn(i.startPausing())})("mouseleave",function(){return Qn(s),Yn(i.startPlayML())})("touchstart",function(){return Qn(s),Yn(i.startPausing())})("touchend",function(){return Qn(s),Yn(i.startPlayTE())}),cn(2,tL,2,6,"div",2)(3,rL,6,15,"ng-container",3),Me()}r&2&&(Ue("ngClass",Mg(3,ZF,i.owlDOMData==null?null:i.owlDOMData.rtl,i.owlDOMData==null?null:i.owlDOMData.isLoaded,i.owlDOMData==null?null:i.owlDOMData.isResponsive,i.owlDOMData==null?null:i.owlDOMData.isMouseDragable,i.owlDOMData==null?null:i.owlDOMData.isGrab)),Le(2),Ue("ngIf",i.carouselLoaded),Le(),Ue("ngIf",i.slides.toArray().length))},dependencies:[Gg,Wg,Kg,gL],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return n})();var BS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Dn({type:n});static \u0275inj=Cn({providers:[cL,jS,fL,B1],imports:[Ls]})}return n})();var yL=n=>({background:n,"background-size":"100px"}),HS=n=>({color:n});function vL(n,e){if(n&1&&(Re(0,"div",15)(1,"div"),fI(),Re(2,"svg",16)(3,"g",17)(4,"g",18),ut(5,"path",19),Me()()(),Re(6,"svg",20)(7,"g",21)(8,"g",22)(9,"g",23),ut(10,"path",24),Me(),ut(11,"g",25),Me()()(),Re(12,"svg",26)(13,"g",27)(14,"g",28)(15,"g",29)(16,"g",30),ut(17,"path",31)(18,"path",32),Me()()()()()(),pI(),Re(19,"div",33)(20,"figure",34),ut(21,"img",35),Re(22,"figcaption",36)(23,"span"),Os(24,"Taha Ahmed"),Me()()(),Re(25,"h1",37)(26,"span"),Os(27),Me()(),Re(28,"p"),Os(29),Me()()()),n&2){let t=hn().$implicit;Ue("ngStyle",er(10,yL,"url("+t.bgPatternImg+")")),Le(4),Xn("fill",t.darkerColor),Le(5),Xn("fill",t.darkerColor),Le(5),Xn("fill",t.darkerColor),Le(8),Ue("ngStyle",er(12,HS,t.color)),Xn("data-text","Taha Ahmed"),Le(3),Ue("ngStyle",er(14,HS,t.color)),Xn("data-text",t.title),Le(2),El(t.title),Le(2),El(t.description)}}function _L(n,e){n&1&&cn(0,vL,30,16,"ng-template",14)}var zS=(()=>{let e=class e{constructor(){this.firestore=L(ts),this.router=L(Gs),this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,autoplay:!0,autoplaySpeed:1e3,autoplayHoverPause:!0,navSpeed:1e3,navText:["",""],items:1,nav:!0}}ngOnInit(){this.router.events.pipe(He(r=>r instanceof Ai),nt(1),Qe(r=>{let i=$d();return zb(i)})).subscribe(r=>this.getData())}getData(){let r=RS(this.firestore,"pages"),i=PS(r,NS("order"));this.pagesList$=AS(i,{idField:"id"}).pipe(ne(s=>s))}hexToCssHsl(r,i=!1,s){let o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);if(!o)return"";let a=parseInt(o[1],16),u=parseInt(o[2],16),l=parseInt(o[3],16),h="";a/=255,u/=255,l/=255;let p=Math.max(a,u,l),m=Math.min(a,u,l),y,C,A=(p+m)/2;if(p==m)y=C=0;else{let M=p-m;switch(C=A>.5?M/(2-p-m):M/(p+m),p){case a:y=(u-l)/M+(u<l?6:0);break;case u:y=(l-a)/M+2;break;case l:y=(a-u)/M+4;break}y/=6}return y=Math.round(y*360),C=Math.round(C*100),A=Math.round(A*100),s==="darker"?A=A-60:s==="lighter"&&(A=A-50),h=y+","+C+"%,"+A+"%",h=i?h:"hsl("+h+")",h}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_i({type:e,selectors:[["app-root"]],standalone:!0,features:[Il],decls:25,vars:3,consts:[[1,"flex","flex-col","items-center","gap-6","fixed","top-0","left-0","z-10","w-full","px-5","py-5","md:flex-row","md:justify-between","md:gap-0","md:px-10"],[1,"flex","gap-5","md:gap-10"],["href","https://www.behance.net/taha-ui","target","_blank"],["src","assets/images/behance.png","alt","",1,"h-[20px]","object-contain"],["href","https://dribbble.com/taha-ui","target","_blank"],["src","assets/images/dribbble.png","alt","",1,"h-[20px]","object-contain"],["href","https://www.linkedin.com/in/taha-ui","target","_blank"],["src","assets/images/linkedin.png","alt","",1,"h-[20px]","object-contain"],["href","https://www.facebook.com/taha.uiux/","target","_blank"],["src","assets/images/facebook.png","alt","",1,"h-[20px]","object-contain"],["href","https://wa.me/201006903773","target","_blank",1,"flex","items-center","gap-2"],["src","assets/images/whatsapp.png","alt","",1,"h-[30px]"],["href","mailto:taha.uiux@gmail.com","target","_blank",1,"ps-[40px]","text-slate-500"],[3,"options"],["carouselSlide",""],[1,"page","relative","h-[100dvh]","w-full","flex","items-center","justify-center","pt-10","overflow-hidden",3,"ngStyle"],["viewBox","0 0 724 591","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"absolute","z-0","left-0","bottom-0","w-[25vw]","hidden","lg:block","lg:w-[35vw]"],["id","Left_Bottom","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Rectangle","transform","translate(138.4208, 1504.0051) scale(-1, 1) translate(-138.4208, -1504.0051)translate(-1344.1584, -100)"],["d","M1059.2103,1417.03365 C1061.50104,1323.83825 1071.84631,1230.79031 1078.71853,1137.66864 C1083.07832,1137.44745 1087.36422,1137.22626 1091.65012,1137.00506 C1107.5375,1193.40893 1126.67626,1249.14921 1138.86891,1306.29038 C1184.24032,1520.55132 1226.95152,1735.32838 1271.58399,1949.73679 C1284.81116,2013.5137 1307.79245,2075.96347 1314.59077,2140.2565 C1331.66047,2300.91534 1361.95734,2461.20553 1340.89732,2623.8551 C1338.311,2643.83607 1326.78341,2662.71109 1314.51687,2695.00506 C1297.52107,2669.42057 1286.65853,2656.96011 1280.008,2642.50892 C1214.53719,2502.27344 1178.62431,2352.9691 1144.18933,2203.07491 C1135.54364,2165.47234 1139.16448,2123.3722 1106.94635,2093.21641 C1102.88213,2089.38243 1101.69981,2080.97714 1101.55203,2074.63632 C1097.85728,1927.10151 1054.33324,1783.03204 1067.85599,1633.35905 C1074.35873,1562.13535 1057.43682,1489.06838 1059.2103,1417.03365 Z M1172.68292,692.519318 C1179.22515,692.007144 1185.84527,691.517239 1192.38751,691.005065 C1198.22879,711.358408 1206.64023,731.39257 1209.52193,752.139321 C1233.74378,927.072665 1257.80986,1102.05797 1280.47403,1277.16204 C1296.51808,1401.86523 1310.84869,1526.79111 1324.78988,1651.79122 C1327.82735,1679.40407 1325.80237,1707.46228 1315.44383,1737.00506 C1311.47176,1728.09769 1305.39683,1719.48724 1303.91704,1710.20872 C1261.23674,1439.87001 1202.27874,1172.72311 1132.49491,907.543254 C1112.55667,831.778641 1142.77556,761.046692 1172.68292,692.519318 Z M592.408315,2175.91448 C607.176857,2171.84723 626.249799,2166.59678 648.06865,2160.53288 C646.658588,2143.45044 648.885001,2127.4033 643.764251,2114.2402 C601.165541,2004.49845 600.052334,1889.65415 602.501389,1775.1796 C609.180629,1457.04684 646.658588,1142.46367 715.528976,831.674139 C722.653499,799.661198 732.449718,768.247251 750.261025,736.005065 C753.452218,746.5947 758.572968,757.014251 759.463534,767.781366 C778.462261,987.220502 796.644638,1206.72619 815.643365,1426.2097 C821.357826,1491.87727 830.411908,1557.24904 835.161589,1622.91661 C838.723851,1673.20259 835.013162,1724.15412 839.68863,1774.2922 C860.171633,1995.77235 863.362826,2217.99201 854.234531,2439.69401 C850.004345,2541.44917 844.586739,2646.67997 799.538975,2742.74098 C794.269797,2754.12928 788.777977,2765.36967 779.872323,2784.00506 C707.217033,2692.23315 584.912723,2294.30838 592.408315,2175.91448 Z M701.013483,350.343739 C648.382018,422.969392 608.169213,500.665405 619.109461,595.81444 C621.548841,617.187153 617.039685,639.792194 613.417575,661.43216 C593.163332,783.321213 567.512885,904.534714 552.507003,1027.07705 C532.178839,1193.44124 511.628913,1360.47356 506.010947,1527.80283 C498.618888,1748.21126 503.79333,1968.8424 537.944646,2188.35999 C555.981271,2303.94636 566.99544,2420.12662 602.107724,2532.52081 C618.518097,2585.00608 627.092886,2639.94116 640.694276,2693.31726 C652.669413,2740.01208 662.870455,2787.82044 680.907081,2832.21392 C708.109861,2899.02685 779.960681,2914.31958 837.766589,2869.40645 C874.505125,2840.82536 895.646416,2800.58913 902.225349,2756.71531 C915.235375,2669.48732 928.31932,2581.51696 930.536938,2493.5466 C935.267857,2310.40494 933.050239,2126.96633 933.272,1943.6762 C933.345921,1888.8896 933.272,1834.10299 931.423985,1779.39063 C928.023638,1677.90921 924.918973,1576.35356 918.635722,1475.02062 C903.112397,1223.43282 886.923786,971.83018 868.591478,720.427976 C865.265051,674.468104 851.58974,629.168939 841.240857,583.892044 C834.588003,554.702217 815.368648,538.33305 784.76552,537.457058 C755.04944,536.633032 726.516089,539.060568 712.027652,571.04169 C703.822466,589.147994 695.6912,607.358229 689.186188,626.147509 C644.981671,754.131387 621.770603,886.95549 600.481471,1020.18047 C597.007203,1041.96891 591.68492,1063.45298 587.175763,1085.13006 C579.192339,1052.39173 583.701495,1022.29621 586.954002,992.059651 C604.621024,826.007251 643.355417,665.121718 707.001052,510.806123 C721.119886,476.493972 739.082591,442.471344 761.628373,413.251823 C785.726488,382.027914 812.559665,381.745815 841.314777,408.931254 C861.938624,428.388663 879.827408,451.691528 894.981131,475.810996 C961.435748,581.709488 1003.34873,698.290625 1032.3256,819.058706 C1042.45272,861.046921 1042.97017,906.709846 1040.08726,950.167944 C1031.21679,1082.30907 1011.92352,1214.07901 1009.11453,1346.29438 C1005.64027,1511.61926 1009.41022,1677.53803 1019.90694,1842.6402 C1027.96429,1967.95156 1050.36223,2092.44632 1068.62061,2216.94108 C1077.93461,2280.19065 1089.46622,2343.36599 1105.13739,2405.20506 C1124.72635,2482.11417 1148.9723,2557.83549 1172.47905,2633.70528 C1184.30635,2671.64018 1195.76404,2710.31744 1213.06146,2745.80253 C1242.9993,2807.19619 1299.10504,2821.2269 1356.54134,2784.7025 C1421.59147,2743.42696 1451.82499,2681.29093 1454.19045,2606.23774 C1455.22534,2571.42078 1462.83916,2548.55592 1498.91241,2535.71299 C1526.18911,2525.98799 1547.70001,2504.0882 1545.26063,2470.08784 C1540.67755,2406.17014 1539.34698,2341.65855 1529.3677,2278.63168 C1511.40499,2165.42089 1480.50618,2053.91753 1468.67889,1940.33555 C1450.27266,1762.46469 1441.40219,1583.55451 1432.38387,1404.94128 C1429.35313,1345.70048 1436.74519,1285.71732 1441.99355,1226.25381 C1452.19459,1111.92947 1464.09581,997.790715 1475.84919,883.637114 C1476.73623,874.847502 1481.98459,866.495886 1485.2371,857.951255 C1500.39082,901.09756 1505.71311,942.276595 1508.30033,983.641222 C1522.04956,1206.50688 1535.35527,1429.43935 1548.43921,1652.37183 C1557.60537,1809.1595 1565.66271,1965.94717 1575.78983,2122.73485 C1576.7508,2138.39877 1583.9211,2159.33349 1595.52663,2167.79646 C1622.72941,2187.61763 1654.21959,2180.63939 1683.78783,2168.39035 C1712.24726,2156.5125 1722.74398,2134.01881 1720.3046,2104.47265 C1711.58197,2000.83837 1705.89008,1896.83291 1693.10182,1793.71829 C1672.77366,1629.28425 1648.97122,1465.4441 1662.72046,1299.00567 C1667.22961,1244.21907 1674.32599,1189.06128 1672.18229,1134.42316 C1668.2645,1035.88893 1694.13671,943.315907 1719.63932,849.020593 C1728.14018,869.732601 1731.76229,890.593082 1733.46247,911.594613 C1737.74986,964.428793 1742.62862,1017.30009 1744.77232,1070.28274 C1749.20755,1180.74679 1755.49081,1291.28507 1754.67768,1401.74911 C1753.42103,1573.53257 1746.91602,1745.2418 1742.48078,1917.02526 C1741.74157,1945.60635 1743.07214,1974.78133 1737.97162,2002.69429 C1732.1319,2033.94789 1746.8421,2048.20131 1771.6055,2058.14902 C1817.43627,2076.41122 1868.07188,2052.87822 1881.4515,2004.5502 C1888.9914,1977.08266 1894.90505,1947.98192 1894.68329,1919.62354 C1893.87016,1815.76656 1898.00972,1710.9445 1885.81282,1608.27529 C1860.53197,1396.47831 1882.41247,1188.98705 1923.4384,982.134219 C1930.38694,947.198481 1943.98833,913.57673 1956.33307,873.310805 C1965.20354,885.916177 1969.12133,889.02669 1969.7127,892.671707 C2001.20287,1089.51002 2008.59493,1288.46407 2014.43466,1487.04695 C2018.42637,1621.63788 2007.70788,1756.67423 2005.85987,1891.56211 C2005.56419,1911.0121 2012.51272,1938.77658 2026.18803,1948.79852 C2068.39669,1979.53247 2134.55563,1945.97753 2139.87791,1893.5665 C2142.90866,1862.83255 2143.27826,1831.65319 2142.16945,1800.77077 C2135.36876,1605.89972 2138.91694,1411.62257 2172.03337,1218.83016 C2192.21369,1101.31364 2208.25446,982.958245 2230.65241,865.879722 C2238.63583,824.277539 2259.92496,785.229093 2275.07868,745.022557 C2279.44,744.933474 2283.72739,744.836966 2288.08871,744.747882 C2294.59372,793.766301 2302.72499,842.613976 2307.23414,891.795715 C2326.60134,1105.02547 2326.67526,1320.1631 2370.28841,1530.99501 C2379.89809,1577.76406 2383.37236,1626.31479 2410.20554,1669.81743 C2460.17586,1651.48099 2464.01973,1613.54609 2461.50643,1571.89937 C2445.83526,1313.4818 2431.05114,1054.99001 2414.12333,796.713494 C2410.7969,746.14353 2400.89154,695.863089 2391.28186,645.93156 C2388.10328,629.540122 2380.11985,610.268303 2367.84903,600.186975 C2316.25246,557.627139 2225.55188,577.129091 2199.08831,639.116641 C2175.80332,693.658262 2160.13216,751.607343 2143.35218,808.724973 C2127.75493,861.663084 2114.96667,915.492034 2097.07789,983.648645 C2086.58116,906.093682 2080.37183,844.907886 2069.57942,784.53127 C2059.0827,725.631961 2037.79357,705.291136 1991.81496,700.443487 C1936.15275,694.563949 1899.93165,715.736224 1877.31195,768.859926 C1867.40659,792.214756 1859.2014,816.274834 1850.25701,840.015695 C1838.20795,828.212078 1835.69465,818.23468 1834.21624,808.131081 C1829.85493,779.713315 1827.19378,750.998603 1821.72366,722.833241 C1808.19619,653.332948 1784.39376,628.871992 1731.54053,627.587699 C1675.4348,626.236593 1653.48038,646.354709 1636.03512,715.929239 C1631.23028,735.223328 1628.49522,755.096462 1622.95117,774.138147 C1619.18122,787.033043 1612.01093,798.91832 1603.21437,818.056513 C1591.31316,749.016486 1583.47758,690.176566 1570.46755,632.531856 C1561.00571,590.706962 1538.82953,580.172791 1491.81603,578.316876 C1454.11653,576.80245 1433.93621,593.453716 1426.39631,628.938805 C1419.15209,663.525631 1411.02082,697.941714 1404.81149,732.721555 C1391.2101,808.004879 1378.6436,883.451523 1365.63357,958.831354 C1356.7631,946.552622 1354.61941,933.932402 1352.62355,921.312183 C1339.09608,836.162816 1326.75134,750.783317 1311.22801,665.982862 C1306.57102,640.475171 1297.10918,614.017251 1283.06427,592.414404 C1239.45111,525.445578 1155.32947,529.305881 1116.74292,598.47211 C1106.32012,617.150035 1097.96709,637.038017 1084.95707,664.097253 C1075.56915,648.084421 1069.87726,639.443282 1065.29419,630.200827 C1034.02577,566.787934 1005.71419,501.726988 971.193267,440.221975 C940.368378,385.42795 897.568352,339.171132 834.144479,322.222919 C786.391773,309.513615 735.312641,303.032761 701.013483,350.343739 L701.013483,350.343739 Z","id","Fill-59-Copy-5","transform","translate(1482.5792, 1604.0051) rotate(29) translate(-1482.5792, -1604.0051)"],["viewBox","0 0 909 295","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"absolute","z-0","left-0","top-0","w-[35vw]","hidden","lg:block","lg:w-[45vw]"],["id","Left-Top","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Group-7","transform","translate(-419.5792, -691.9949) scale(-1, 1) translate(419.5792, 691.9949)translate(-1902.1584, -2296)"],["id","Rectangle","transform","translate(-0, 0)"],["d","M1059.2103,1417.03365 C1061.50104,1323.83825 1071.84631,1230.79031 1078.71853,1137.66864 C1083.07832,1137.44745 1087.36422,1137.22626 1091.65012,1137.00506 C1107.5375,1193.40893 1126.67626,1249.14921 1138.86891,1306.29038 C1184.24032,1520.55132 1226.95152,1735.32838 1271.58399,1949.73679 C1284.81116,2013.5137 1307.79245,2075.96347 1314.59077,2140.2565 C1331.66047,2300.91534 1361.95734,2461.20553 1340.89732,2623.8551 C1338.311,2643.83607 1326.78341,2662.71109 1314.51687,2695.00506 C1297.52107,2669.42057 1286.65853,2656.96011 1280.008,2642.50892 C1214.53719,2502.27344 1178.62431,2352.9691 1144.18933,2203.07491 C1135.54364,2165.47234 1139.16448,2123.3722 1106.94635,2093.21641 C1102.88213,2089.38243 1101.69981,2080.97714 1101.55203,2074.63632 C1097.85728,1927.10151 1054.33324,1783.03204 1067.85599,1633.35905 C1074.35873,1562.13535 1057.43682,1489.06838 1059.2103,1417.03365 Z M1172.68292,692.519318 C1179.22515,692.007144 1185.84527,691.517239 1192.38751,691.005065 C1198.22879,711.358408 1206.64023,731.39257 1209.52193,752.139321 C1233.74378,927.072665 1257.80986,1102.05797 1280.47403,1277.16204 C1296.51808,1401.86523 1310.84869,1526.79111 1324.78988,1651.79122 C1327.82735,1679.40407 1325.80237,1707.46228 1315.44383,1737.00506 C1311.47176,1728.09769 1305.39683,1719.48724 1303.91704,1710.20872 C1261.23674,1439.87001 1202.27874,1172.72311 1132.49491,907.543254 C1112.55667,831.778641 1142.77556,761.046692 1172.68292,692.519318 Z M592.408315,2175.91448 C607.176857,2171.84723 626.249799,2166.59678 648.06865,2160.53288 C646.658588,2143.45044 648.885001,2127.4033 643.764251,2114.2402 C601.165541,2004.49845 600.052334,1889.65415 602.501389,1775.1796 C609.180629,1457.04684 646.658588,1142.46367 715.528976,831.674139 C722.653499,799.661198 732.449718,768.247251 750.261025,736.005065 C753.452218,746.5947 758.572968,757.014251 759.463534,767.781366 C778.462261,987.220502 796.644638,1206.72619 815.643365,1426.2097 C821.357826,1491.87727 830.411908,1557.24904 835.161589,1622.91661 C838.723851,1673.20259 835.013162,1724.15412 839.68863,1774.2922 C860.171633,1995.77235 863.362826,2217.99201 854.234531,2439.69401 C850.004345,2541.44917 844.586739,2646.67997 799.538975,2742.74098 C794.269797,2754.12928 788.777977,2765.36967 779.872323,2784.00506 C707.217033,2692.23315 584.912723,2294.30838 592.408315,2175.91448 Z M701.013483,350.343739 C648.382018,422.969392 608.169213,500.665405 619.109461,595.81444 C621.548841,617.187153 617.039685,639.792194 613.417575,661.43216 C593.163332,783.321213 567.512885,904.534714 552.507003,1027.07705 C532.178839,1193.44124 511.628913,1360.47356 506.010947,1527.80283 C498.618888,1748.21126 503.79333,1968.8424 537.944646,2188.35999 C555.981271,2303.94636 566.99544,2420.12662 602.107724,2532.52081 C618.518097,2585.00608 627.092886,2639.94116 640.694276,2693.31726 C652.669413,2740.01208 662.870455,2787.82044 680.907081,2832.21392 C708.109861,2899.02685 779.960681,2914.31958 837.766589,2869.40645 C874.505125,2840.82536 895.646416,2800.58913 902.225349,2756.71531 C915.235375,2669.48732 928.31932,2581.51696 930.536938,2493.5466 C935.267857,2310.40494 933.050239,2126.96633 933.272,1943.6762 C933.345921,1888.8896 933.272,1834.10299 931.423985,1779.39063 C928.023638,1677.90921 924.918973,1576.35356 918.635722,1475.02062 C903.112397,1223.43282 886.923786,971.83018 868.591478,720.427976 C865.265051,674.468104 851.58974,629.168939 841.240857,583.892044 C834.588003,554.702217 815.368648,538.33305 784.76552,537.457058 C755.04944,536.633032 726.516089,539.060568 712.027652,571.04169 C703.822466,589.147994 695.6912,607.358229 689.186188,626.147509 C644.981671,754.131387 621.770603,886.95549 600.481471,1020.18047 C597.007203,1041.96891 591.68492,1063.45298 587.175763,1085.13006 C579.192339,1052.39173 583.701495,1022.29621 586.954002,992.059651 C604.621024,826.007251 643.355417,665.121718 707.001052,510.806123 C721.119886,476.493972 739.082591,442.471344 761.628373,413.251823 C785.726488,382.027914 812.559665,381.745815 841.314777,408.931254 C861.938624,428.388663 879.827408,451.691528 894.981131,475.810996 C961.435748,581.709488 1003.34873,698.290625 1032.3256,819.058706 C1042.45272,861.046921 1042.97017,906.709846 1040.08726,950.167944 C1031.21679,1082.30907 1011.92352,1214.07901 1009.11453,1346.29438 C1005.64027,1511.61926 1009.41022,1677.53803 1019.90694,1842.6402 C1027.96429,1967.95156 1050.36223,2092.44632 1068.62061,2216.94108 C1077.93461,2280.19065 1089.46622,2343.36599 1105.13739,2405.20506 C1124.72635,2482.11417 1148.9723,2557.83549 1172.47905,2633.70528 C1184.30635,2671.64018 1195.76404,2710.31744 1213.06146,2745.80253 C1242.9993,2807.19619 1299.10504,2821.2269 1356.54134,2784.7025 C1421.59147,2743.42696 1451.82499,2681.29093 1454.19045,2606.23774 C1455.22534,2571.42078 1462.83916,2548.55592 1498.91241,2535.71299 C1526.18911,2525.98799 1547.70001,2504.0882 1545.26063,2470.08784 C1540.67755,2406.17014 1539.34698,2341.65855 1529.3677,2278.63168 C1511.40499,2165.42089 1480.50618,2053.91753 1468.67889,1940.33555 C1450.27266,1762.46469 1441.40219,1583.55451 1432.38387,1404.94128 C1429.35313,1345.70048 1436.74519,1285.71732 1441.99355,1226.25381 C1452.19459,1111.92947 1464.09581,997.790715 1475.84919,883.637114 C1476.73623,874.847502 1481.98459,866.495886 1485.2371,857.951255 C1500.39082,901.09756 1505.71311,942.276595 1508.30033,983.641222 C1522.04956,1206.50688 1535.35527,1429.43935 1548.43921,1652.37183 C1557.60537,1809.1595 1565.66271,1965.94717 1575.78983,2122.73485 C1576.7508,2138.39877 1583.9211,2159.33349 1595.52663,2167.79646 C1622.72941,2187.61763 1654.21959,2180.63939 1683.78783,2168.39035 C1712.24726,2156.5125 1722.74398,2134.01881 1720.3046,2104.47265 C1711.58197,2000.83837 1705.89008,1896.83291 1693.10182,1793.71829 C1672.77366,1629.28425 1648.97122,1465.4441 1662.72046,1299.00567 C1667.22961,1244.21907 1674.32599,1189.06128 1672.18229,1134.42316 C1668.2645,1035.88893 1694.13671,943.315907 1719.63932,849.020593 C1728.14018,869.732601 1731.76229,890.593082 1733.46247,911.594613 C1737.74986,964.428793 1742.62862,1017.30009 1744.77232,1070.28274 C1749.20755,1180.74679 1755.49081,1291.28507 1754.67768,1401.74911 C1753.42103,1573.53257 1746.91602,1745.2418 1742.48078,1917.02526 C1741.74157,1945.60635 1743.07214,1974.78133 1737.97162,2002.69429 C1732.1319,2033.94789 1746.8421,2048.20131 1771.6055,2058.14902 C1817.43627,2076.41122 1868.07188,2052.87822 1881.4515,2004.5502 C1888.9914,1977.08266 1894.90505,1947.98192 1894.68329,1919.62354 C1893.87016,1815.76656 1898.00972,1710.9445 1885.81282,1608.27529 C1860.53197,1396.47831 1882.41247,1188.98705 1923.4384,982.134219 C1930.38694,947.198481 1943.98833,913.57673 1956.33307,873.310805 C1965.20354,885.916177 1969.12133,889.02669 1969.7127,892.671707 C2001.20287,1089.51002 2008.59493,1288.46407 2014.43466,1487.04695 C2018.42637,1621.63788 2007.70788,1756.67423 2005.85987,1891.56211 C2005.56419,1911.0121 2012.51272,1938.77658 2026.18803,1948.79852 C2068.39669,1979.53247 2134.55563,1945.97753 2139.87791,1893.5665 C2142.90866,1862.83255 2143.27826,1831.65319 2142.16945,1800.77077 C2135.36876,1605.89972 2138.91694,1411.62257 2172.03337,1218.83016 C2192.21369,1101.31364 2208.25446,982.958245 2230.65241,865.879722 C2238.63583,824.277539 2259.92496,785.229093 2275.07868,745.022557 C2279.44,744.933474 2283.72739,744.836966 2288.08871,744.747882 C2294.59372,793.766301 2302.72499,842.613976 2307.23414,891.795715 C2326.60134,1105.02547 2326.67526,1320.1631 2370.28841,1530.99501 C2379.89809,1577.76406 2383.37236,1626.31479 2410.20554,1669.81743 C2460.17586,1651.48099 2464.01973,1613.54609 2461.50643,1571.89937 C2445.83526,1313.4818 2431.05114,1054.99001 2414.12333,796.713494 C2410.7969,746.14353 2400.89154,695.863089 2391.28186,645.93156 C2388.10328,629.540122 2380.11985,610.268303 2367.84903,600.186975 C2316.25246,557.627139 2225.55188,577.129091 2199.08831,639.116641 C2175.80332,693.658262 2160.13216,751.607343 2143.35218,808.724973 C2127.75493,861.663084 2114.96667,915.492034 2097.07789,983.648645 C2086.58116,906.093682 2080.37183,844.907886 2069.57942,784.53127 C2059.0827,725.631961 2037.79357,705.291136 1991.81496,700.443487 C1936.15275,694.563949 1899.93165,715.736224 1877.31195,768.859926 C1867.40659,792.214756 1859.2014,816.274834 1850.25701,840.015695 C1838.20795,828.212078 1835.69465,818.23468 1834.21624,808.131081 C1829.85493,779.713315 1827.19378,750.998603 1821.72366,722.833241 C1808.19619,653.332948 1784.39376,628.871992 1731.54053,627.587699 C1675.4348,626.236593 1653.48038,646.354709 1636.03512,715.929239 C1631.23028,735.223328 1628.49522,755.096462 1622.95117,774.138147 C1619.18122,787.033043 1612.01093,798.91832 1603.21437,818.056513 C1591.31316,749.016486 1583.47758,690.176566 1570.46755,632.531856 C1561.00571,590.706962 1538.82953,580.172791 1491.81603,578.316876 C1454.11653,576.80245 1433.93621,593.453716 1426.39631,628.938805 C1419.15209,663.525631 1411.02082,697.941714 1404.81149,732.721555 C1391.2101,808.004879 1378.6436,883.451523 1365.63357,958.831354 C1356.7631,946.552622 1354.61941,933.932402 1352.62355,921.312183 C1339.09608,836.162816 1326.75134,750.783317 1311.22801,665.982862 C1306.57102,640.475171 1297.10918,614.017251 1283.06427,592.414404 C1239.45111,525.445578 1155.32947,529.305881 1116.74292,598.47211 C1106.32012,617.150035 1097.96709,637.038017 1084.95707,664.097253 C1075.56915,648.084421 1069.87726,639.443282 1065.29419,630.200827 C1034.02577,566.787934 1005.71419,501.726988 971.193267,440.221975 C940.368378,385.42795 897.568352,339.171132 834.144479,322.222919 C786.391773,309.513615 735.312641,303.032761 701.013483,350.343739 L701.013483,350.343739 Z","id","Fill-59-Copy-2","transform","translate(1482.5792, 1604.0051) rotate(29) translate(-1482.5792, -1604.0051)"],["id","Rectangle","transform","translate(166, 2318)"],["viewBox","0 0 749 1331","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"absolute","z-0","top-0","right-0","translate-x-24","h-full","hidden","lg:block"],["id","Right","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","Group-21","transform","translate(1240.9208, 990.0051) scale(-1, 1) translate(-1240.9208, -990.0051)translate(-550.1584, -1361)"],["id","Group-7","transform","translate(0, 0)"],["id","Rectangle","transform","translate(0, 0)"],["d","M1676.2103,2911.03365 C1678.50104,2817.83825 1688.84631,2724.79031 1695.71853,2631.66864 C1700.07832,2631.44745 1704.36422,2631.22626 1708.65012,2631.00506 C1724.5375,2687.40893 1743.67626,2743.14921 1755.86891,2800.29038 C1801.24032,3014.55132 1843.95152,3229.32838 1888.58399,3443.73679 C1901.81116,3507.5137 1924.79245,3569.96347 1931.59077,3634.2565 C1948.66047,3794.91534 1978.95734,3955.20553 1957.89732,4117.8551 C1955.311,4137.83607 1943.78341,4156.71109 1931.51687,4189.00506 C1914.52107,4163.42057 1903.65853,4150.96011 1897.008,4136.50892 C1831.53719,3996.27344 1795.62431,3846.9691 1761.18933,3697.07491 C1752.54364,3659.47234 1756.16448,3617.3722 1723.94635,3587.21641 C1719.88213,3583.38243 1718.69981,3574.97714 1718.55203,3568.63632 C1714.85728,3421.10151 1671.33324,3277.03204 1684.85599,3127.35905 C1691.35873,3056.13535 1674.43682,2983.06838 1676.2103,2911.03365 Z M1789.68292,2186.51932 C1796.22515,2186.00714 1802.84527,2185.51724 1809.38751,2185.00506 C1815.22879,2205.35841 1823.64023,2225.39257 1826.52193,2246.13932 C1850.74378,2421.07267 1874.80986,2596.05797 1897.47403,2771.16204 C1913.51808,2895.86523 1927.84869,3020.79111 1941.78988,3145.79122 C1944.82735,3173.40407 1942.80237,3201.46228 1932.44383,3231.00506 C1928.47176,3222.09769 1922.39683,3213.48724 1920.91704,3204.20872 C1878.23674,2933.87001 1819.27874,2666.72311 1749.49491,2401.54325 C1729.55667,2325.77864 1759.77556,2255.04669 1789.68292,2186.51932 Z M1209.40831,3669.91448 C1224.17686,3665.84723 1243.2498,3660.59678 1265.06865,3654.53288 C1263.65859,3637.45044 1265.885,3621.4033 1260.76425,3608.2402 C1218.16554,3498.49845 1217.05233,3383.65415 1219.50139,3269.1796 C1226.18063,2951.04684 1263.65859,2636.46367 1332.52898,2325.67414 C1339.6535,2293.6612 1349.44972,2262.24725 1367.26103,2230.00506 C1370.45222,2240.5947 1375.57297,2251.01425 1376.46353,2261.78137 C1395.46226,2481.2205 1413.64464,2700.72619 1432.64337,2920.2097 C1438.35783,2985.87727 1447.41191,3051.24904 1452.16159,3116.91661 C1455.72385,3167.20259 1452.01316,3218.15412 1456.68863,3268.2922 C1477.17163,3489.77235 1480.36283,3711.99201 1471.23453,3933.69401 C1467.00435,4035.44917 1461.58674,4140.67997 1416.53897,4236.74098 C1411.2698,4248.12928 1405.77798,4259.36967 1396.87232,4278.00506 C1324.21703,4186.23315 1201.91272,3788.30838 1209.40831,3669.91448 Z M1318.01348,1844.34374 C1265.38202,1916.96939 1225.16921,1994.66541 1236.10946,2089.81444 C1238.54884,2111.18715 1234.03968,2133.79219 1230.41758,2155.43216 C1210.16333,2277.32121 1184.51288,2398.53471 1169.507,2521.07705 C1149.17884,2687.44124 1128.62891,2854.47356 1123.01095,3021.80283 C1115.61889,3242.21126 1120.79333,3462.8424 1154.94465,3682.35999 C1172.98127,3797.94636 1183.99544,3914.12662 1219.10772,4026.52081 C1235.5181,4079.00608 1244.09289,4133.94116 1257.69428,4187.31726 C1269.66941,4234.01208 1279.87046,4281.82044 1297.90708,4326.21392 C1325.10986,4393.02685 1396.96068,4408.31958 1454.76659,4363.40645 C1491.50513,4334.82536 1512.64642,4294.58913 1519.22535,4250.71531 C1532.23537,4163.48732 1545.31932,4075.51696 1547.53694,3987.5466 C1552.26786,3804.40494 1550.05024,3620.96633 1550.272,3437.6762 C1550.34592,3382.8896 1550.272,3328.10299 1548.42399,3273.39063 C1545.02364,3171.90921 1541.91897,3070.35356 1535.63572,2969.02062 C1520.1124,2717.43282 1503.92379,2465.83018 1485.59148,2214.42798 C1482.26505,2168.4681 1468.58974,2123.16894 1458.24086,2077.89204 C1451.588,2048.70222 1432.36865,2032.33305 1401.76552,2031.45706 C1372.04944,2030.63303 1343.51609,2033.06057 1329.02765,2065.04169 C1320.82247,2083.14799 1312.6912,2101.35823 1306.18619,2120.14751 C1261.98167,2248.13139 1238.7706,2380.95549 1217.48147,2514.18047 C1214.0072,2535.96891 1208.68492,2557.45298 1204.17576,2579.13006 C1196.19234,2546.39173 1200.7015,2516.29621 1203.954,2486.05965 C1221.62102,2320.00725 1260.35542,2159.12172 1324.00105,2004.80612 C1338.11989,1970.49397 1356.08259,1936.47134 1378.62837,1907.25182 C1402.72649,1876.02791 1429.55966,1875.74582 1458.31478,1902.93125 C1478.93862,1922.38866 1496.82741,1945.69153 1511.98113,1969.811 C1578.43575,2075.70949 1620.34873,2192.29063 1649.3256,2313.05871 C1659.45272,2355.04692 1659.97017,2400.70985 1657.08726,2444.16794 C1648.21679,2576.30907 1628.92352,2708.07901 1626.11453,2840.29438 C1622.64027,3005.61926 1626.41022,3171.53803 1636.90694,3336.6402 C1644.96429,3461.95156 1667.36223,3586.44632 1685.62061,3710.94108 C1694.93461,3774.19065 1706.46622,3837.36599 1722.13739,3899.20506 C1741.72635,3976.11417 1765.9723,4051.83549 1789.47905,4127.70528 C1801.30635,4165.64018 1812.76404,4204.31744 1830.06146,4239.80253 C1859.9993,4301.19619 1916.10504,4315.2269 1973.54134,4278.7025 C2038.59147,4237.42696 2068.82499,4175.29093 2071.19045,4100.23774 C2072.22534,4065.42078 2079.83916,4042.55592 2115.91241,4029.71299 C2143.18911,4019.98799 2164.70001,3998.0882 2162.26063,3964.08784 C2157.67755,3900.17014 2156.34698,3835.65855 2146.3677,3772.63168 C2128.40499,3659.42089 2097.50618,3547.91753 2085.67889,3434.33555 C2067.27266,3256.46469 2058.40219,3077.55451 2049.38387,2898.94128 C2046.35313,2839.70048 2053.74519,2779.71732 2058.99355,2720.25381 C2069.19459,2605.92947 2081.09581,2491.79072 2092.84919,2377.63711 C2093.73623,2368.8475 2098.98459,2360.49589 2102.2371,2351.95125 C2117.39082,2395.09756 2122.71311,2436.27659 2125.30033,2477.64122 C2139.04956,2700.50688 2152.35527,2923.43935 2165.43921,3146.37183 C2174.60537,3303.1595 2182.66271,3459.94717 2192.78983,3616.73485 C2193.7508,3632.39877 2200.9211,3653.33349 2212.52663,3661.79646 C2239.72941,3681.61763 2271.21959,3674.63939 2300.78783,3662.39035 C2329.24726,3650.5125 2339.74398,3628.01881 2337.3046,3598.47265 C2328.58197,3494.83837 2322.89008,3390.83291 2310.10182,3287.71829 C2289.77366,3123.28425 2265.97122,2959.4441 2279.72046,2793.00567 C2284.22961,2738.21907 2291.32599,2683.06128 2289.18229,2628.42316 C2285.2645,2529.88893 2311.13671,2437.31591 2336.63932,2343.02059 C2345.14018,2363.7326 2348.76229,2384.59308 2350.46247,2405.59461 C2354.74986,2458.42879 2359.62862,2511.30009 2361.77232,2564.28274 C2366.20755,2674.74679 2372.49081,2785.28507 2371.67768,2895.74911 C2370.42103,3067.53257 2363.91602,3239.2418 2359.48078,3411.02526 C2358.74157,3439.60635 2360.07214,3468.78133 2354.97162,3496.69429 C2349.1319,3527.94789 2363.8421,3542.20131 2388.6055,3552.14902 C2434.43627,3570.41122 2485.07188,3546.87822 2498.4515,3498.5502 C2505.9914,3471.08266 2511.90505,3441.98192 2511.68329,3413.62354 C2510.87016,3309.76656 2515.00972,3204.9445 2502.81282,3102.27529 C2477.53197,2890.47831 2499.41247,2682.98705 2540.4384,2476.13422 C2547.38694,2441.19848 2560.98833,2407.57673 2573.33307,2367.3108 C2582.20354,2379.91618 2586.12133,2383.02669 2586.7127,2386.67171 C2618.20287,2583.51002 2625.59493,2782.46407 2631.43466,2981.04695 C2635.42637,3115.63788 2624.70788,3250.67423 2622.85987,3385.56211 C2622.56419,3405.0121 2629.51272,3432.77658 2643.18803,3442.79852 C2685.39669,3473.53247 2751.55563,3439.97753 2756.87791,3387.5665 C2759.90866,3356.83255 2760.27826,3325.65319 2759.16945,3294.77077 C2752.36876,3099.89972 2755.91694,2905.62257 2789.03337,2712.83016 C2809.21369,2595.31364 2825.25446,2476.95825 2847.65241,2359.87972 C2855.63583,2318.27754 2876.92496,2279.22909 2892.07868,2239.02256 C2896.44,2238.93347 2900.72739,2238.83697 2905.08871,2238.74788 C2911.59372,2287.7663 2919.72499,2336.61398 2924.23414,2385.79572 C2943.60134,2599.02547 2943.67526,2814.1631 2987.28841,3024.99501 C2996.89809,3071.76406 3000.37236,3120.31479 3027.20554,3163.81743 C3077.17586,3145.48099 3081.01973,3107.54609 3078.50643,3065.89937 C3062.83526,2807.4818 3048.05114,2548.99001 3031.12333,2290.71349 C3027.7969,2240.14353 3017.89154,2189.86309 3008.28186,2139.93156 C3005.10328,2123.54012 2997.11985,2104.2683 2984.84903,2094.18697 C2933.25246,2051.62714 2842.55188,2071.12909 2816.08831,2133.11664 C2792.80332,2187.65826 2777.13216,2245.60734 2760.35218,2302.72497 C2744.75493,2355.66308 2731.96667,2409.49203 2714.07789,2477.64865 C2703.58116,2400.09368 2697.37183,2338.90789 2686.57942,2278.53127 C2676.0827,2219.63196 2654.79357,2199.29114 2608.81496,2194.44349 C2553.15275,2188.56395 2516.93165,2209.73622 2494.31195,2262.85993 C2484.40659,2286.21476 2476.2014,2310.27483 2467.25701,2334.0157 C2455.20795,2322.21208 2452.69465,2312.23468 2451.21624,2302.13108 C2446.85493,2273.71331 2444.19378,2244.9986 2438.72366,2216.83324 C2425.19619,2147.33295 2401.39376,2122.87199 2348.54053,2121.5877 C2292.4348,2120.23659 2270.48038,2140.35471 2253.03512,2209.92924 C2248.23028,2229.22333 2245.49522,2249.09646 2239.95117,2268.13815 C2236.18122,2281.03304 2229.01093,2292.91832 2220.21437,2312.05651 C2208.31316,2243.01649 2200.47758,2184.17657 2187.46755,2126.53186 C2178.00571,2084.70696 2155.82953,2074.17279 2108.81603,2072.31688 C2071.11653,2070.80245 2050.93621,2087.45372 2043.39631,2122.93881 C2036.15209,2157.52563 2028.02082,2191.94171 2021.81149,2226.72155 C2008.2101,2302.00488 1995.6436,2377.45152 1982.63357,2452.83135 C1973.7631,2440.55262 1971.61941,2427.9324 1969.62355,2415.31218 C1956.09608,2330.16282 1943.75134,2244.78332 1928.22801,2159.98286 C1923.57102,2134.47517 1914.10918,2108.01725 1900.06427,2086.4144 C1856.45111,2019.44558 1772.32947,2023.30588 1733.74292,2092.47211 C1723.32012,2111.15004 1714.96709,2131.03802 1701.95707,2158.09725 C1692.56915,2142.08442 1686.87726,2133.44328 1682.29419,2124.20083 C1651.02577,2060.78793 1622.71419,1995.72699 1588.19327,1934.22198 C1557.36838,1879.42795 1514.56835,1833.17113 1451.14448,1816.22292 C1403.39177,1803.51362 1352.31264,1797.03276 1318.01348,1844.34374 L1318.01348,1844.34374 Z","id","Fill-59-Copy-4","transform","translate(2099.5792, 3098.0051) rotate(29) translate(-2099.5792, -3098.0051)"],["d","M1059.2103,1417.03365 C1061.50104,1323.83825 1071.84631,1230.79031 1078.71853,1137.66864 C1083.07832,1137.44745 1087.36422,1137.22626 1091.65012,1137.00506 C1107.5375,1193.40893 1126.67626,1249.14921 1138.86891,1306.29038 C1184.24032,1520.55132 1226.95152,1735.32838 1271.58399,1949.73679 C1284.81116,2013.5137 1307.79245,2075.96347 1314.59077,2140.2565 C1331.66047,2300.91534 1361.95734,2461.20553 1340.89732,2623.8551 C1338.311,2643.83607 1326.78341,2662.71109 1314.51687,2695.00506 C1297.52107,2669.42057 1286.65853,2656.96011 1280.008,2642.50892 C1214.53719,2502.27344 1178.62431,2352.9691 1144.18933,2203.07491 C1135.54364,2165.47234 1139.16448,2123.3722 1106.94635,2093.21641 C1102.88213,2089.38243 1101.69981,2080.97714 1101.55203,2074.63632 C1097.85728,1927.10151 1054.33324,1783.03204 1067.85599,1633.35905 C1074.35873,1562.13535 1057.43682,1489.06838 1059.2103,1417.03365 Z M1172.68292,692.519318 C1179.22515,692.007144 1185.84527,691.517239 1192.38751,691.005065 C1198.22879,711.358408 1206.64023,731.39257 1209.52193,752.139321 C1233.74378,927.072665 1257.80986,1102.05797 1280.47403,1277.16204 C1296.51808,1401.86523 1310.84869,1526.79111 1324.78988,1651.79122 C1327.82735,1679.40407 1325.80237,1707.46228 1315.44383,1737.00506 C1311.47176,1728.09769 1305.39683,1719.48724 1303.91704,1710.20872 C1261.23674,1439.87001 1202.27874,1172.72311 1132.49491,907.543254 C1112.55667,831.778641 1142.77556,761.046692 1172.68292,692.519318 Z M592.408315,2175.91448 C607.176857,2171.84723 626.249799,2166.59678 648.06865,2160.53288 C646.658588,2143.45044 648.885001,2127.4033 643.764251,2114.2402 C601.165541,2004.49845 600.052334,1889.65415 602.501389,1775.1796 C609.180629,1457.04684 646.658588,1142.46367 715.528976,831.674139 C722.653499,799.661198 732.449718,768.247251 750.261025,736.005065 C753.452218,746.5947 758.572968,757.014251 759.463534,767.781366 C778.462261,987.220502 796.644638,1206.72619 815.643365,1426.2097 C821.357826,1491.87727 830.411908,1557.24904 835.161589,1622.91661 C838.723851,1673.20259 835.013162,1724.15412 839.68863,1774.2922 C860.171633,1995.77235 863.362826,2217.99201 854.234531,2439.69401 C850.004345,2541.44917 844.586739,2646.67997 799.538975,2742.74098 C794.269797,2754.12928 788.777977,2765.36967 779.872323,2784.00506 C707.217033,2692.23315 584.912723,2294.30838 592.408315,2175.91448 Z M701.013483,350.343739 C648.382018,422.969392 608.169213,500.665405 619.109461,595.81444 C621.548841,617.187153 617.039685,639.792194 613.417575,661.43216 C593.163332,783.321213 567.512885,904.534714 552.507003,1027.07705 C532.178839,1193.44124 511.628913,1360.47356 506.010947,1527.80283 C498.618888,1748.21126 503.79333,1968.8424 537.944646,2188.35999 C555.981271,2303.94636 566.99544,2420.12662 602.107724,2532.52081 C618.518097,2585.00608 627.092886,2639.94116 640.694276,2693.31726 C652.669413,2740.01208 662.870455,2787.82044 680.907081,2832.21392 C708.109861,2899.02685 779.960681,2914.31958 837.766589,2869.40645 C874.505125,2840.82536 895.646416,2800.58913 902.225349,2756.71531 C915.235375,2669.48732 928.31932,2581.51696 930.536938,2493.5466 C935.267857,2310.40494 933.050239,2126.96633 933.272,1943.6762 C933.345921,1888.8896 933.272,1834.10299 931.423985,1779.39063 C928.023638,1677.90921 924.918973,1576.35356 918.635722,1475.02062 C903.112397,1223.43282 886.923786,971.83018 868.591478,720.427976 C865.265051,674.468104 851.58974,629.168939 841.240857,583.892044 C834.588003,554.702217 815.368648,538.33305 784.76552,537.457058 C755.04944,536.633032 726.516089,539.060568 712.027652,571.04169 C703.822466,589.147994 695.6912,607.358229 689.186188,626.147509 C644.981671,754.131387 621.770603,886.95549 600.481471,1020.18047 C597.007203,1041.96891 591.68492,1063.45298 587.175763,1085.13006 C579.192339,1052.39173 583.701495,1022.29621 586.954002,992.059651 C604.621024,826.007251 643.355417,665.121718 707.001052,510.806123 C721.119886,476.493972 739.082591,442.471344 761.628373,413.251823 C785.726488,382.027914 812.559665,381.745815 841.314777,408.931254 C861.938624,428.388663 879.827408,451.691528 894.981131,475.810996 C961.435748,581.709488 1003.34873,698.290625 1032.3256,819.058706 C1042.45272,861.046921 1042.97017,906.709846 1040.08726,950.167944 C1031.21679,1082.30907 1011.92352,1214.07901 1009.11453,1346.29438 C1005.64027,1511.61926 1009.41022,1677.53803 1019.90694,1842.6402 C1027.96429,1967.95156 1050.36223,2092.44632 1068.62061,2216.94108 C1077.93461,2280.19065 1089.46622,2343.36599 1105.13739,2405.20506 C1124.72635,2482.11417 1148.9723,2557.83549 1172.47905,2633.70528 C1184.30635,2671.64018 1195.76404,2710.31744 1213.06146,2745.80253 C1242.9993,2807.19619 1299.10504,2821.2269 1356.54134,2784.7025 C1421.59147,2743.42696 1451.82499,2681.29093 1454.19045,2606.23774 C1455.22534,2571.42078 1462.83916,2548.55592 1498.91241,2535.71299 C1526.18911,2525.98799 1547.70001,2504.0882 1545.26063,2470.08784 C1540.67755,2406.17014 1539.34698,2341.65855 1529.3677,2278.63168 C1511.40499,2165.42089 1480.50618,2053.91753 1468.67889,1940.33555 C1450.27266,1762.46469 1441.40219,1583.55451 1432.38387,1404.94128 C1429.35313,1345.70048 1436.74519,1285.71732 1441.99355,1226.25381 C1452.19459,1111.92947 1464.09581,997.790715 1475.84919,883.637114 C1476.73623,874.847502 1481.98459,866.495886 1485.2371,857.951255 C1500.39082,901.09756 1505.71311,942.276595 1508.30033,983.641222 C1522.04956,1206.50688 1535.35527,1429.43935 1548.43921,1652.37183 C1557.60537,1809.1595 1565.66271,1965.94717 1575.78983,2122.73485 C1576.7508,2138.39877 1583.9211,2159.33349 1595.52663,2167.79646 C1622.72941,2187.61763 1654.21959,2180.63939 1683.78783,2168.39035 C1712.24726,2156.5125 1722.74398,2134.01881 1720.3046,2104.47265 C1711.58197,2000.83837 1705.89008,1896.83291 1693.10182,1793.71829 C1672.77366,1629.28425 1648.97122,1465.4441 1662.72046,1299.00567 C1667.22961,1244.21907 1674.32599,1189.06128 1672.18229,1134.42316 C1668.2645,1035.88893 1694.13671,943.315907 1719.63932,849.020593 C1728.14018,869.732601 1731.76229,890.593082 1733.46247,911.594613 C1737.74986,964.428793 1742.62862,1017.30009 1744.77232,1070.28274 C1749.20755,1180.74679 1755.49081,1291.28507 1754.67768,1401.74911 C1753.42103,1573.53257 1746.91602,1745.2418 1742.48078,1917.02526 C1741.74157,1945.60635 1743.07214,1974.78133 1737.97162,2002.69429 C1732.1319,2033.94789 1746.8421,2048.20131 1771.6055,2058.14902 C1817.43627,2076.41122 1868.07188,2052.87822 1881.4515,2004.5502 C1888.9914,1977.08266 1894.90505,1947.98192 1894.68329,1919.62354 C1893.87016,1815.76656 1898.00972,1710.9445 1885.81282,1608.27529 C1860.53197,1396.47831 1882.41247,1188.98705 1923.4384,982.134219 C1930.38694,947.198481 1943.98833,913.57673 1956.33307,873.310805 C1965.20354,885.916177 1969.12133,889.02669 1969.7127,892.671707 C2001.20287,1089.51002 2008.59493,1288.46407 2014.43466,1487.04695 C2018.42637,1621.63788 2007.70788,1756.67423 2005.85987,1891.56211 C2005.56419,1911.0121 2012.51272,1938.77658 2026.18803,1948.79852 C2068.39669,1979.53247 2134.55563,1945.97753 2139.87791,1893.5665 C2142.90866,1862.83255 2143.27826,1831.65319 2142.16945,1800.77077 C2135.36876,1605.89972 2138.91694,1411.62257 2172.03337,1218.83016 C2192.21369,1101.31364 2208.25446,982.958245 2230.65241,865.879722 C2238.63583,824.277539 2259.92496,785.229093 2275.07868,745.022557 C2279.44,744.933474 2283.72739,744.836966 2288.08871,744.747882 C2294.59372,793.766301 2302.72499,842.613976 2307.23414,891.795715 C2326.60134,1105.02547 2326.67526,1320.1631 2370.28841,1530.99501 C2379.89809,1577.76406 2383.37236,1626.31479 2410.20554,1669.81743 C2460.17586,1651.48099 2464.01973,1613.54609 2461.50643,1571.89937 C2445.83526,1313.4818 2431.05114,1054.99001 2414.12333,796.713494 C2410.7969,746.14353 2400.89154,695.863089 2391.28186,645.93156 C2388.10328,629.540122 2380.11985,610.268303 2367.84903,600.186975 C2316.25246,557.627139 2225.55188,577.129091 2199.08831,639.116641 C2175.80332,693.658262 2160.13216,751.607343 2143.35218,808.724973 C2127.75493,861.663084 2114.96667,915.492034 2097.07789,983.648645 C2086.58116,906.093682 2080.37183,844.907886 2069.57942,784.53127 C2059.0827,725.631961 2037.79357,705.291136 1991.81496,700.443487 C1936.15275,694.563949 1899.93165,715.736224 1877.31195,768.859926 C1867.40659,792.214756 1859.2014,816.274834 1850.25701,840.015695 C1838.20795,828.212078 1835.69465,818.23468 1834.21624,808.131081 C1829.85493,779.713315 1827.19378,750.998603 1821.72366,722.833241 C1808.19619,653.332948 1784.39376,628.871992 1731.54053,627.587699 C1675.4348,626.236593 1653.48038,646.354709 1636.03512,715.929239 C1631.23028,735.223328 1628.49522,755.096462 1622.95117,774.138147 C1619.18122,787.033043 1612.01093,798.91832 1603.21437,818.056513 C1591.31316,749.016486 1583.47758,690.176566 1570.46755,632.531856 C1561.00571,590.706962 1538.82953,580.172791 1491.81603,578.316876 C1454.11653,576.80245 1433.93621,593.453716 1426.39631,628.938805 C1419.15209,663.525631 1411.02082,697.941714 1404.81149,732.721555 C1391.2101,808.004879 1378.6436,883.451523 1365.63357,958.831354 C1356.7631,946.552622 1354.61941,933.932402 1352.62355,921.312183 C1339.09608,836.162816 1326.75134,750.783317 1311.22801,665.982862 C1306.57102,640.475171 1297.10918,614.017251 1283.06427,592.414404 C1239.45111,525.445578 1155.32947,529.305881 1116.74292,598.47211 C1106.32012,617.150035 1097.96709,637.038017 1084.95707,664.097253 C1075.56915,648.084421 1069.87726,639.443282 1065.29419,630.200827 C1034.02577,566.787934 1005.71419,501.726988 971.193267,440.221975 C940.368378,385.42795 897.568352,339.171132 834.144479,322.222919 C786.391773,309.513615 735.312641,303.032761 701.013483,350.343739 L701.013483,350.343739 Z","id","Fill-59-Copy-6","transform","translate(1482.5792, 1604.0051) rotate(29) translate(-1482.5792, -1604.0051)"],[1,"flex","flex-col","items-center","text-center"],[1,"flex","flex-col","items-center"],["src","assets/images/taha.png","alt",""],[1,"sticker",3,"ngStyle"],[1,"sticker","sticker--lg",3,"ngStyle"]],template:function(i,s){i&1&&(Re(0,"div")(1,"div",0)(2,"ul",1)(3,"li")(4,"a",2),ut(5,"img",3),Me()(),Re(6,"li")(7,"a",4),ut(8,"img",5),Me()(),Re(9,"li")(10,"a",6),ut(11,"img",7),Me()(),Re(12,"li")(13,"a",8),ut(14,"img",9),Me()()(),Re(15,"div")(16,"a",10),ut(17,"img",11),Os(18," +20 01006903773 "),Me(),Re(19,"a",12),Os(20," taha.uiux@gmail.com "),Me()()(),Re(21,"owl-carousel-o",13),TC(22,_L,1,0,null,14,DC),PC(24,"async"),Me()()),i&2&&(Le(21),Ue("options",s.customOptions),Le(),bC(xC(24,1,s.pagesList$)))},dependencies:[Ls,Rl,eD,BS,$S,q1],styles:['[_nghost-%COMP%]     .owl-nav{position:fixed;top:50%;left:0;right:0;transform:translateY(-50%);display:flex;justify-content:space-between;padding:0 50px}[_nghost-%COMP%]     .owl-nav .owl-prev, [_nghost-%COMP%]     .owl-nav .owl-next{width:100px;height:100px;background:transparent url("./media/left-arrow-CE6WGBYO.png") no-repeat!important;background-size:contain!important}@media all and (max-width: 1024px){[_nghost-%COMP%]     .owl-nav .owl-prev, [_nghost-%COMP%]     .owl-nav .owl-next{width:50px;height:50px}}[_nghost-%COMP%]     .owl-nav .owl-next{transform:scaleX(-1)}@media screen and (max-width: 602px){[_nghost-%COMP%]     .owl-nav{padding:0 15px}}.page[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:280px;margin-bottom:-30px}.page[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{font-weight:700;position:relative;z-index:2}.page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;max-width:600px;padding:0 15px}.sticker[_ngcontent-%COMP%]{display:inline-grid;grid-template-areas:"text";font-family:Kansas;font-weight:900;font-size:42px}@media screen and (max-width: 1024px){.sticker[_ngcontent-%COMP%]{font-size:32px}}@media screen and (max-width: 602px){.sticker[_ngcontent-%COMP%]{font-size:24px}}.sticker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#000;-webkit-background-clip:text}.sticker[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .sticker[_ngcontent-%COMP%]:before, .sticker[_ngcontent-%COMP%]:after{grid-area:text}.sticker[_ngcontent-%COMP%]:before, .sticker[_ngcontent-%COMP%]:after{content:attr(data-text);color:#fff}.sticker[_ngcontent-%COMP%]:before{-webkit-text-stroke:.46em white}.sticker[_ngcontent-%COMP%]:after{z-index:-2}.sticker--lg[_ngcontent-%COMP%]{font-size:105px;margin-top:-45px;text-transform:uppercase}.sticker--lg[_ngcontent-%COMP%]:before{-webkit-text-stroke:.3em white}@media screen and (max-width: 1024px){.sticker--lg[_ngcontent-%COMP%]:before{-webkit-text-stroke:.3em white}}@media screen and (max-width: 1024px){.sticker--lg[_ngcontent-%COMP%]{font-size:75px;margin-top:-30px}}@media screen and (max-width: 602px){.sticker--lg[_ngcontent-%COMP%]{font-size:45px;margin-top:-20px}}']});let n=e;return n})();cD(zS,xS).catch(n=>console.error(n));
